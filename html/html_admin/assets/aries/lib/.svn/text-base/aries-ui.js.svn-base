define(function(require,exports,modules){require("ui-core");require("ui-widget");require("ui-mouse");require("ui-position");require("ui-resizable");require("ui-draggable");require("ui-droppable");require("ui-sortable");require("ui-dialog");require("ui-messagebox");require("ui-calendar");require("ui-checkbox");
require("ui-combo");require("ui-textpopup");require("ui-radio");require("ui-search");require("ui-flip");require("ui-textarea");require("ui-textfield");require("ui-panel");require("ui-menu");require("ui-tabs");require("ui-breadcrumb");require("ui-validate");require("ui-form");require("ui-progressbar");
require("ui-tree");require("ui-grid");require("ui-popup");require("ui-tips");require("ui-pageflow");require("ui-tpl");require("ui-slider");require("ui-offCanvas");require("ui-irguide");require("ui-guide");require("ui-menutree");require("ui-advcombo");require("ui-toggle");require("ui-include");require("ui-currency");
});define("ui-core",function(require,exports,moudles){$.ae=$.ae||{};if($.ae.version){return;}$.extend($.ae,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},lang:{}});$.fn.extend({scrollParent:function(e){var d=this.css("position"),c=d==="absolute",f=e?/(auto|scroll|hidden)/:/(auto|scroll)/,g=this.parents().filter(function(){var h=$(this);
if(c&&h.css("position")==="static"){return false;}return f.test(h.css("overflow")+h.css("overflow-y")+h.css("overflow-x"));}).eq(0);return d==="fixed"||!g.length?$(this[0].ownerDocument||document):g;},uniqueId:(function(){var c=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++c);
}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});function b(e,c){var g,f,d,h=e.nodeName.toLowerCase();if("area"===h){g=e.parentNode;f=g.name;if(!e.href||!f||g.nodeName.toLowerCase()!=="map"){return false;}d=$("img[usemap='#"+f+"']")[0];
return !!d&&a(d);}return(/^(input|select|textarea|button|object)$/.test(h)?!e.disabled:"a"===h?e.href||c:c)&&a(e);}function a(c){return $.expr.filters.visible(c)&&!$(c).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(c){return function(d){return !!$.data(d,c);
};}):function(e,d,c){return !!$.data(e,c[3]);},focusable:function(c){return b(c,!isNaN($.attr(c,"tabindex")));},tabbable:function(e){var c=$.attr(e,"tabindex"),d=isNaN(c);return(d||c>=0)&&b(e,!d);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(e,c){var d=c==="Width"?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),h={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};
function g(k,j,i,l){$.each(d,function(){j-=parseFloat($.css(k,"padding"+this))||0;if(i){j-=parseFloat($.css(k,"border"+this+"Width"))||0;}if(l){j-=parseFloat($.css(k,"margin"+this))||0;}});return j;}$.fn["inner"+c]=function(i){if(i===undefined){return h["inner"+c].call(this);}return this.each(function(){$(this).css(f,g(this,i)+"px");
});};$.fn["outer"+c]=function(i,j){if(typeof i!=="number"){return h["outer"+c].call(this,i);}return this.each(function(){$(this).css(f,g(this,i,true,j)+"px");});};});}if(!$.fn.addBack){$.fn.addBack=function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c));};}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(c){return function(d){if(arguments.length){return c.call(this,$.camelCase(d));
}else{return c.call(this);}};})($.fn.removeData);}$.ae.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(c){return function(d,e){return typeof d==="number"?this.each(function(){var f=this;setTimeout(function(){$(f).focus();if(e){e.call(f);}},d);}):c.apply(this,arguments);
};})($.fn.focus),disableSelection:(function(){var c="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(c+".ui-disableSelection",function(d){d.preventDefault();});};})(),enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(f){if(f!==undefined){return this.css("zIndex",f);
}if(this.length){var d=$(this[0]),c,e;while(d.length&&d[0]!==document){c=d.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){e=parseInt(d.css("zIndex"),10);if(!isNaN(e)&&e!==0){return e;}}d=d.parent();}}return 0;}});$.ae.plugin={add:function(d,e,g){var c,f=$.ae[d].prototype;for(c in g){f.plugins[c]=f.plugins[c]||[];
f.plugins[c].push([e,g[c]]);}},call:function(c,f,e,d){var g,h=c.plugins[f];if(!h){return;}if(!d&&(!c.element[0].parentNode||c.element[0].parentNode.nodeType===11)){return;}for(g=0;g<h.length;g++){if(c.options[h[g][0]]){h[g][1].apply(c.element,e);}}}};});define("ui-widget",function(require,exports,moudles){var b=0,a=Array.prototype.slice;$.cleanData=(function(c){return function(d){var g,h,f;for(f=0;(h=d[f])!=null;f++){try{g=$._data(h,"events");if(g&&g.remove){$(h).triggerHandler("remove");}}catch(j){}}c(d);};})($.cleanData);$.aeWidget=function(c,d,k){var h,i,f,j,e={},g=c.split(".")[0];
c=c.split(".")[1];h=g+"-"+c;if(!k){k=d;d=$.AEWidget;}$.expr[":"][h.toLowerCase()]=function(l){return !!$.data(l,h);};$[g]=$[g]||{};i=$[g][c];f=$[g][c]=function(l,m){if(!this._createWidget){return new f(l,m);}if(arguments.length){this._createWidget(l,m);}};$.extend(f,i,{version:k.version,_proto:$.extend({},k),_childConstructors:[]});
j=new d();j.options=$.aeWidget.extend({},j.options);$.each(k,function(m,l){if(!$.isFunction(l)){e[m]=l;return;}e[m]=(function(){var n=function(){return d.prototype[m].apply(this,arguments);},o=function(p){return d.prototype[m].apply(this,p);};return function(){var r=this._super,p=this._superApply,q;this._super=n;
this._superApply=o;q=l.apply(this,arguments);this._super=r;this._superApply=p;return q;};})();});f.prototype=$.aeWidget.extend(j,{widgetEventPrefix:i?(j.widgetEventPrefix||c):c},e,{constructor:f,namespace:g,widgetName:c,widgetFullName:h});if(i){$.each(i._childConstructors,function(m,n){var l=n.prototype;
$.aeWidget(l.namespace+"."+l.widgetName,f,n._proto);});delete i._childConstructors;}else{d._childConstructors.push(f);}$.aeWidget.bridge(c,f);return f;};$.aeWidget.extend=function(h){var d=a.call(arguments,1),g=0,c=d.length,e,f;for(;g<c;g++){for(e in d[g]){f=d[g][e];if(d[g].hasOwnProperty(e)&&f!==undefined){if($.isPlainObject(f)){h[e]=$.isPlainObject(h[e])?$.aeWidget.extend({},h[e],f):$.aeWidget.extend({},f);
}else{h[e]=f;}}}}return h;};$.aeWidget.bridge=function(d,c){var e=c.prototype.widgetFullName||d;$.fn[d]=function(h){var f=typeof h==="string",g=a.call(arguments,1),i=this;if(f){this.each(function(){var k,j=$.data(this,e);if(h==="instance"){i=j;return false;}if(!j){if($(this).attr("aeType")===d){$.data(this,e,new c(h,this));
var j=$.data(this,e);if(j){j.options._initial=true;}}else{alert("cannot call methods on "+d+" prior to initialization; "+"attempted to call method '"+h+"'");}}if(!$.isFunction(j[h])||h.charAt(0)==="_"){return $.error("no such method '"+h+"' for "+d+" widget instance");}k=j[h].apply(j,g);if(k!==j&&k!==undefined){i=k&&k.jquery?i.pushStack(k.get()):k;
return false;}});}else{if(g.length){h=$.aeWidget.extend.apply(null,[h].concat(g));}this.each(function(){var j=$.data(this,e);if(j){j.option(h||{});if(j._init&&e==="ae-aeDialog"){j._init();}}else{$.data(this,e,new c(h,this));}});}return i;};};$.AEWidget=function(){};$.AEWidget._childConstructors=[];$.AEWidget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(c,d){d=$(d||this.defaultElement||this)[0];
this.element=$(d);this.uuid=b++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(d!==this){$.data(d,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===d){this.destroy();}}});this.document=$(d.style?d.ownerDocument:d.document||d);
this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}this.options=$.aeWidget.extend({},this.options,this._getCreateOptions(),c);this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(f,g){var c=f,h,e,d;if(arguments.length===0){return $.aeWidget.extend({},this.options);}if(typeof f==="string"){c={};h=f.split(".");f=h.shift();if(h.length){e=c[f]=$.aeWidget.extend({},this.options[f]);
for(d=0;d<h.length-1;d++){e[h[d]]=e[h[d]]||{};e=e[h[d]];}f=h.pop();if(arguments.length===1){return e[f]===undefined?null:e[f];}e[f]=g;}else{if(arguments.length===1){return this.options[f]===undefined?null:this.options[f];}c[f]=g;}}this._setOptions(c);return this;},_setOptions:function(c){var d;for(d in c){this._setOption(d,c[d]);
}return this;},_setOption:function(c,d){this.options[c]=d;if(c==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!d);if(d){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}}return this;},enable:function(){return this._setOptions({disabled:false});
},disable:function(){return this._setOptions({disabled:true});},_on:function(f,e,d){var g,c=this;if(typeof f!=="boolean"){d=e;e=f;f=false;}if(!d){d=e;e=this.element;g=this.widget();}else{e=g=$(e);this.bindings=this.bindings.add(e);}$.each(d,function(m,l){function j(){if(!f&&(c.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;
}return(typeof l==="string"?c[l]:l).apply(c,arguments);}if(typeof l!=="string"){j.guid=l.guid=l.guid||j.guid||$.guid++;}var k=m.match(/^([\w:-]*)\s*(.*)$/),i=k[1]+c.eventNamespace,h=k[2];if(h){g.delegate(h,i,j);}else{e.bind(i,j);}});},_off:function(d,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;
d.unbind(c).undelegate(c);this.bindings=$(this.bindings.not(d).get());this.focusable=$(this.focusable.not(d).get());this.hoverable=$(this.hoverable.not(d).get());},_delay:function(f,e){function d(){return(typeof f==="string"?c[f]:f).apply(c,arguments);}var c=this;return setTimeout(d,e||0);},_hoverable:function(c){this.hoverable=this.hoverable.add(c);
this._on(c,{mouseenter:function(d){$(d.currentTarget).addClass("ui-state-hover");},mouseleave:function(d){$(d.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(d){$(d.currentTarget).addClass("ui-state-focus");},focusout:function(d){$(d.currentTarget).removeClass("ui-state-focus");
}});},_trigger:function(e,f){var j=this.options[e];f=$.Event(f);f.type=e;if(f.originalEvent){for(var d=$.event.props.length,h;d;){h=$.event.props[--d];f[h]=f.originalEvent[h];}}var c=[],g=arguments.length;for(var d=2;d<g;d++){c[d-2]=arguments[d];}if(g>1){c[g-2]=arguments[1];}return !($.isFunction(j)&&j.apply(this.element,c)===false||f.isDefaultPrevented());
}};$.each({show:"fadeIn",hide:"fadeOut"},function(d,c){$.AEWidget.prototype["_"+d]=function(g,f,i){if(typeof f==="string"){f={effect:f};}var h,e=!f?d:f===true||typeof f==="number"?c:f.effect||c;f=f||{};if(typeof f==="number"){f={duration:f};}h=!$.isEmptyObject(f);f.complete=i;if(f.delay){g.delay(f.delay);
}if(h&&$.effects&&$.effects.effect[e]){g[d](f);}else{if(e!==d&&g[e]){g[e](f.duration,f.easing,i);}else{g.queue(function(j){$(this)[d]();if(i){i.call(g[0]);}j();});}}};});});define("ui-mouse",function(require,exports,moudles){var a=false;$(document).on("mouseup",function(){a=false;});$.aeWidget("ae.aeMouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(c){return b._mouseDown(c);
}).on("click."+this.widgetName,function(c){if(true===$.data(c.target,b.widgetName+".preventClickEvent")){$.removeData(c.target,b.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);
}},_mouseDown:function(d){if(a){return;}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(d));this._mouseDownEvent=d;var c=this,e=(d.which===1),b=(typeof this.options.cancel==="string"&&d.target.nodeName?$(d.target).closest(this.options.cancel).length:false);if(!e||b||!this._mouseCapture(d)){return true;
}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(d)!==false);if(!this._mouseStarted){d.preventDefault();return true;
}}if(true===$.data(d.target,this.widgetName+".preventClickEvent")){$.removeData(d.target,this.widgetName+".preventClickEvent");}this._mouseMoveDelegate=function(f){return c._mouseMove(f);};this._mouseUpDelegate=function(f){return c._mouseUp(f);};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);
d.preventDefault();a=true;return true;},_mouseMove:function(b){if(this._mouseMoved){if($.ae.ie&&(!document.documentMode||document.documentMode<9)&&!b.button){return this._mouseUp(b);}else{if(!b.which){return this._mouseUp(b);}}}if(b.which||b.button){this._mouseMoved=true;}if(this._mouseStarted){this._mouseDrag(b);
return b.preventDefault();}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,b)!==false);(this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));}return !this._mouseStarted;},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);
if(this._mouseStarted){this._mouseStarted=false;if(b.target===this._mouseDownEvent.target){$.data(b.target,this.widgetName+".preventClickEvent",true);}this._mouseStop(b);}a=false;return false;},_mouseDistanceMet:function(b){return(Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance);
},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});});define("ui-resizable",function(require,exports,moudles){$.aeWidget("ae.aeResizable",$.ae.aeMouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseInt(b,10)||0;
},_isNumber:function(b){return !isNaN(parseInt(b,10));},_hasScroll:function(e,c){if($(e).css("overflow")==="hidden"){return false;}var b=(c&&c==="left")?"scrollLeft":"scrollTop",d=false;if(e[b]>0){return true;}e[b]=1;d=(e[b]>0);e[b]=0;return d;},_create:function(){var h,c,f,d,b,e=this,g=this.options;
this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(g.aspectRatio),aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));
this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});
this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});
this._proportionallyResize();}this.handles=g.handles||(!$(".popup-resizable-handle",this.element).length?"e,s,se":{n:".popup-resizable-n",e:".popup-resizable-e",s:".popup-resizable-s",w:".popup-resizable-w",se:".popup-resizable-se",sw:".popup-resizable-sw",ne:".popup-resizable-ne",nw:".popup-resizable-nw"});
this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}h=this.handles.split(",");this.handles={};for(c=0;c<h.length;c++){f=$.trim(h[c]);b="popup-resizable-"+f;d=$("<div class='popup-resizable-handle "+b+"'></div>");d.css({zIndex:g.zIndex});
if("se"===f){d.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}this.handles[f]=".popup-resizable-"+f;this.element.append(d);}}this._renderAxis=function(n){var k,l,j,m;n=n||this.element;for(k in this.handles){if(this.handles[k].constructor===String){this.handles[k]=this.element.children(this.handles[k]).first().show();
}else{if(this.handles[k].jquery||this.handles[k].nodeType){this.handles[k]=$(this.handles[k]);this._on(this.handles[k],{"mousedown":e._mouseDown});}}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){l=$(this.handles[k],this.element);m=/sw|ne|nw|se|n|s/.test(k)?l.outerHeight():l.outerWidth();
j=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join("");n.css(j,m);this._proportionallyResize();}this._handles=this._handles.add(this.handles[k]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".popup-resizable-handle"));
this._handles.disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){d=this.className.match(/popup-resizable-(se|sw|ne|nw|n|e|s|w)/i);}e.axis=d&&d[1]?d[1]:"se";}});if(g.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(g.disabled){return;
}$(this).removeClass("ui-resizable-autohide");e._handles.show();}).mouseleave(function(){if(g.disabled){return;}if(!e.resizing){$(this).addClass("ui-resizable-autohide");e._handles.hide();}});}this._mouseInit();},_destroy:function(){this._mouseDestroy();var c,b=function(d){$(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
};if(this.elementIsWrapper){b(this.element);c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c);c.remove();}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);
return this;},_mouseCapture:function(d){var c,e,b=false;for(c in this.handles){e=$(this.handles[c])[0];if(e===d.target||$.contains(e,d.target)){b=true;}}return !this.options.disabled&&b;},_mouseStart:function(c){var g,d,f,e=this.options,b=this.element;this.resizing=true;this._renderProxy();g=this._num(this.helper.css("left"));
d=this._num(this.helper.css("top"));if(e.containment){g+=$(e.containment).scrollLeft()||0;d+=$(e.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:g,top:d};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:b.width(),height:b.height()};
this.originalSize=this._helper?{width:b.outerWidth(),height:b.outerHeight()}:{width:b.width(),height:b.height()};this.sizeDiff={width:b.outerWidth()-b.width(),height:b.outerHeight()-b.height()};this.originalPosition={left:g,top:d};this.originalMousePosition={left:c.pageX,top:c.pageY};this.aspectRatio=(typeof e.aspectRatio==="number")?e.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);
f=$(".popup-resizable-"+this.axis).css("cursor");$("body").css("cursor",f==="auto"?this.axis+"-resize":f);b.addClass("ui-resizable-resizing");this._propagate("start",c);return true;},_mouseDrag:function(g){var h,f,i=this.originalMousePosition,c=this.axis,d=(g.pageX-i.left)||0,b=(g.pageY-i.top)||0,e=this._change[c];
this._updatePrevProperties();if(!e){return false;}h=e.apply(this,[g,d,b]);this._updateVirtualBoundaries(g.shiftKey);if(this._aspectRatio||g.shiftKey){h=this._updateRatio(h,g);}h=this._respectSize(h,g);this._updateCache(h);this._propagate("resize",g);f=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();
}if(!$.isEmptyObject(f)){this._updatePrevProperties();this._trigger("resize",g,this.ui());this._applyChanges();}return false;},_mouseStop:function(e){this.resizing=false;var d,b,c,h,k,g,j,f=this.options,i=this;if(this._helper){d=this._proportionallyResizeElements;b=d.length&&(/textarea/i).test(d[0].nodeName);
c=b&&this._hasScroll(d[0],"left")?0:i.sizeDiff.height;h=b?0:i.sizeDiff.width;k={width:(i.helper.width()-h),height:(i.helper.height()-c)};g=(parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left))||null;j=(parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top))||null;
if(!f.animate){this.element.css($.extend(k,{top:j,left:g}));}i.helper.height(i.size.height);i.helper.width(i.size.width);if(this._helper&&!f.animate){this._proportionallyResize();}}$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove();
}return false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var b={};if(this.position.top!==this.prevPosition.top){b.top=this.position.top+"px";}if(this.position.left!==this.prevPosition.left){b.left=this.position.left+"px";
}if(this.size.width!==this.prevSize.width){b.width=this.size.width+"px";}if(this.size.height!==this.prevSize.height){b.height=this.size.height+"px";}this.helper.css(b);return b;},_updateVirtualBoundaries:function(e){var g,f,d,i,c,h=this.options;c={minWidth:this._isNumber(h.minWidth)?h.minWidth:0,maxWidth:this._isNumber(h.maxWidth)?h.maxWidth:Infinity,minHeight:this._isNumber(h.minHeight)?h.minHeight:0,maxHeight:this._isNumber(h.maxHeight)?h.maxHeight:Infinity};
if(this._aspectRatio||e){g=c.minHeight*this.aspectRatio;d=c.minWidth/this.aspectRatio;f=c.maxHeight*this.aspectRatio;i=c.maxWidth/this.aspectRatio;if(g>c.minWidth){c.minWidth=g;}if(d>c.minHeight){c.minHeight=d;}if(f<c.maxWidth){c.maxWidth=f;}if(i<c.maxHeight){c.maxHeight=i;}}this._vBoundaries=c;},_updateCache:function(b){this.offset=this.helper.offset();
if(this._isNumber(b.left)){this.position.left=b.left;}if(this._isNumber(b.top)){this.position.top=b.top;}if(this._isNumber(b.height)){this.size.height=b.height;}if(this._isNumber(b.width)){this.size.width=b.width;}},_updateRatio:function(d){var e=this.position,c=this.size,b=this.axis;if(this._isNumber(d.height)){d.width=(d.height*this.aspectRatio);
}else{if(this._isNumber(d.width)){d.height=(d.width/this.aspectRatio);}}if(b==="sw"){d.left=e.left+(c.width-d.width);d.top=null;}if(b==="nw"){d.top=e.top+(c.height-d.height);d.left=e.left+(c.width-d.width);}return d;},_respectSize:function(g){var d=this._vBoundaries,j=this.axis,l=this._isNumber(g.width)&&d.maxWidth&&(d.maxWidth<g.width),h=this._isNumber(g.height)&&d.maxHeight&&(d.maxHeight<g.height),e=this._isNumber(g.width)&&d.minWidth&&(d.minWidth>g.width),k=this._isNumber(g.height)&&d.minHeight&&(d.minHeight>g.height),c=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,f=/sw|nw|w/.test(j),b=/nw|ne|n/.test(j);
if(e){g.width=d.minWidth;}if(k){g.height=d.minHeight;}if(l){g.width=d.maxWidth;}if(h){g.height=d.maxHeight;}if(e&&f){g.left=c-d.minWidth;}if(l&&f){g.left=c-d.maxWidth;}if(k&&b){g.top=i-d.minHeight;}if(h&&b){g.top=i-d.maxHeight;}if(!g.width&&!g.height&&!g.left&&g.top){g.top=null;}else{if(!g.width&&!g.height&&!g.top&&g.left){g.left=null;
}}return g;},_getPaddingPlusBorderDimensions:function(d){var c=0,e=[],f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],b=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];for(;c<4;c++){e[c]=(parseInt(f[c],10)||0);
e[c]+=(parseInt(b[c],10)||0);}return{height:e[0]+e[2],width:e[1]+e[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}var d,c=0,b=this.helper||this.element;for(;c<this._proportionallyResizeElements.length;c++){d=this._proportionallyResizeElements[c];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(d);
}d.css({height:(b.height()-this.outerDimensions.height)||0,width:(b.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex});
this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(c,b){return{width:this.originalSize.width+b};},w:function(d,b){var c=this.originalSize,e=this.originalPosition;return{left:e.left+b,width:c.width-b};},n:function(e,c,b){var d=this.originalSize,f=this.originalPosition;
return{top:f.top+b,height:d.height-b};},s:function(d,c,b){return{height:this.originalSize.height+b};},se:function(d,c,b){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,c,b]));},sw:function(d,c,b){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,c,b]));
},ne:function(d,c,b){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,c,b]));},nw:function(d,c,b){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,c,b]));}},_propagate:function(c,b){$.ae.plugin.call(this,c,[b,this.ui()]);(c!=="resize"&&this._trigger(c,b,this.ui()));
},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ae.plugin.add("aeResizable","animate",{stop:function(e){var j=$(this).aeResizable("instance"),g=j.options,d=j._proportionallyResizeElements,b=d.length&&(/textarea/i).test(d[0].nodeName),c=b&&j._hasScroll(d[0],"left")?0:j.sizeDiff.height,i=b?0:j.sizeDiff.width,f={width:(j.size.width-i),height:(j.size.height-c)},h=(parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left))||null,k=(parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top))||null;
j.element.animate($.extend(f,k&&h?{top:k,left:h}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var l={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};if(d&&d.length){$(d[0]).css({width:l.width,height:l.height});
}j._updateCache(l);j._propagate("resize",e);}});}});$.ae.plugin.add("aeResizable","containment",{start:function(){var j,d,l,b,i,e,m,k=$(this).aeResizable("instance"),h=k.options,g=k.element,c=h.containment,f=(c instanceof $)?c.get(0):(/parent/.test(c))?g.parent().get(0):c;if(!f){return;}k.containerElement=$(f);
if(/document/.test(c)||c===document){k.containerOffset={left:0,top:0};k.containerPosition={left:0,top:0};k.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{j=$(f);d=[];$(["Top","Right","Left","Bottom"]).each(function(o,n){d[o]=k._num(j.css("padding"+n));
});k.containerOffset=j.offset();k.containerPosition=j.position();k.containerSize={height:(j.innerHeight()-d[3]),width:(j.innerWidth()-d[1])};l=k.containerOffset;b=k.containerSize.height;i=k.containerSize.width;e=(k._hasScroll(f,"left")?f.scrollWidth:i);m=(k._hasScroll(f)?f.scrollHeight:b);k.parentData={element:f,left:l.left,top:l.top,width:e,height:m};
}},resize:function(c){var i,n,h,f,j=$(this).aeResizable("instance"),e=j.options,l=j.containerOffset,k=j.position,m=j._aspectRatio||c.shiftKey,b={top:0,left:0},d=j.containerElement,g=true;if(d[0]!==document&&(/static/).test(d.css("position"))){b=l;}if(k.left<(j._helper?l.left:0)){j.size.width=j.size.width+(j._helper?(j.position.left-l.left):(j.position.left-b.left));
if(m){j.size.height=j.size.width/j.aspectRatio;g=false;}j.position.left=e.helper?l.left:0;}if(k.top<(j._helper?l.top:0)){j.size.height=j.size.height+(j._helper?(j.position.top-l.top):j.position.top);if(m){j.size.width=j.size.height*j.aspectRatio;g=false;}j.position.top=j._helper?l.top:0;}h=j.containerElement.get(0)===j.element.parent().get(0);
f=/relative|absolute/.test(j.containerElement.css("position"));if(h&&f){j.offset.left=j.parentData.left+j.position.left;j.offset.top=j.parentData.top+j.position.top;}else{j.offset.left=j.element.offset().left;j.offset.top=j.element.offset().top;}i=Math.abs(j.sizeDiff.width+(j._helper?j.offset.left-b.left:(j.offset.left-l.left)));
n=Math.abs(j.sizeDiff.height+(j._helper?j.offset.top-b.top:(j.offset.top-l.top)));if(i+j.size.width>=j.parentData.width){j.size.width=j.parentData.width-i;if(m){j.size.height=j.size.width/j.aspectRatio;g=false;}}if(n+j.size.height>=j.parentData.height){j.size.height=j.parentData.height-n;if(m){j.size.width=j.size.height*j.aspectRatio;
g=false;}}if(!g){j.position.left=j.prevPosition.left;j.position.top=j.prevPosition.top;j.size.width=j.prevSize.width;j.size.height=j.prevSize.height;}},stop:function(){var g=$(this).aeResizable("instance"),c=g.options,i=g.containerOffset,b=g.containerPosition,d=g.containerElement,e=$(g.helper),k=e.offset(),j=e.outerWidth()-g.sizeDiff.width,f=e.outerHeight()-g.sizeDiff.height;
if(g._helper&&!c.animate&&(/relative/).test(d.css("position"))){$(this).css({left:k.left-b.left-i.left,width:j,height:f});}if(g._helper&&!c.animate&&(/static/).test(d.css("position"))){$(this).css({left:k.left-b.left-i.left,width:j,height:f});}}});$.ae.plugin.add("aeResizable","alsoResize",{start:function(){var b=$(this).aeResizable("instance"),c=b.options;
$(c.alsoResize).each(function(){var d=$(this);d.data("ui-resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10)});});},resize:function(c,e){var b=$(this).aeResizable("instance"),f=b.options,d=b.originalSize,h=b.originalPosition,g={height:(b.size.height-d.height)||0,width:(b.size.width-d.width)||0,top:(b.position.top-h.top)||0,left:(b.position.left-h.left)||0};
$(f.alsoResize).each(function(){var k=$(this),l=$(this).data("ui-resizable-alsoresize"),j={},i=k.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(i,function(m,o){var n=(l[o]||0)+(g[o]||0);if(n&&n>=0){j[o]=n||null;}});k.css(j);});},stop:function(){$(this).removeData("resizable-alsoresize");
}});$.ae.plugin.add("aeResizable","ghost",{start:function(){var c=$(this).aeResizable("instance"),d=c.options,b=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:0.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof d.ghost==="string"?d.ghost:"");
c.ghost.appendTo(c.helper);},resize:function(){var b=$(this).aeResizable("instance");if(b.ghost){b.ghost.css({position:"relative",height:b.size.height,width:b.size.width});}},stop:function(){var b=$(this).aeResizable("instance");if(b.ghost&&b.helper){b.helper.get(0).removeChild(b.ghost.get(0));}}});$.ae.plugin.add("aeResizable","grid",{resize:function(){var e,j=$(this).aeResizable("instance"),n=j.options,h=j.size,i=j.originalSize,k=j.originalPosition,t=j.axis,b=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,r=(b[0]||1),q=(b[1]||1),g=Math.round((h.width-i.width)/r)*r,f=Math.round((h.height-i.height)/q)*q,l=i.width+g,p=i.height+f,d=n.maxWidth&&(n.maxWidth<l),m=n.maxHeight&&(n.maxHeight<p),s=n.minWidth&&(n.minWidth>l),c=n.minHeight&&(n.minHeight>p);
n.grid=b;if(s){l+=r;}if(c){p+=q;}if(d){l-=r;}if(m){p-=q;}if(/^(se|s|e)$/.test(t)){j.size.width=l;j.size.height=p;}else{if(/^(ne)$/.test(t)){j.size.width=l;j.size.height=p;j.position.top=k.top-f;}else{if(/^(sw)$/.test(t)){j.size.width=l;j.size.height=p;j.position.left=k.left-g;}else{if(p-q<=0||l-r<=0){e=j._getPaddingPlusBorderDimensions(this);
}if(p-q>0){j.size.height=p;j.position.top=k.top-f;}else{p=q-e.height;j.size.height=p;j.position.top=k.top+i.height-p;}if(l-r>0){j.size.width=l;j.position.left=k.left-g;}else{l=r-e.width;j.size.width=l;j.position.left=k.left+i.width-l;}}}}}});var a=$.ae.aeResizable;});define("ui-position",function(require,exports,moudles){$.ae=$.ae||{};var h,l,j=Math.max,g=Math.abs,m=Math.round,b=/left|center|right/,n=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,d=/%$/,a=$.fn.position;function e(r,q,p){return[parseFloat(r[0])*(d.test(r[0])?q/100:1),parseFloat(r[1])*(d.test(r[1])?p/100:1)];
}function o(p,q){return parseInt($.css(p,q),10)||0;}function f(q){var p=q[0];if(p.nodeType===9){return{width:q.width(),height:q.height(),offset:{top:0,left:0}};}if($.isWindow(p)){return{width:q.width(),height:q.height(),offset:{top:q.scrollTop(),left:q.scrollLeft()}};}if(p.preventDefault){return{width:0,height:0,offset:{top:p.pageY,left:p.pageX}};
}return{width:q.outerWidth(),height:q.outerHeight(),offset:q.offset()};}$.aePosition={scrollbarWidth:function(){if(h!==undefined){return h;}var q,p,s=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];
$("body").append(s);q=r.offsetWidth;s.css("overflow","scroll");p=r.offsetWidth;if(q===p){p=s[0].clientWidth;}s.remove();return(h=q-p);},getScrollInfo:function(t){var s=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),q=s==="scroll"||(s==="auto"&&t.width<t.element[0].scrollWidth),p=r==="scroll"||(r==="auto"&&t.height<t.element[0].scrollHeight);
return{width:p?$.aePosition.scrollbarWidth():0,height:q?$.aePosition.scrollbarWidth():0};},getWithinInfo:function(q){var r=$(q||window),p=$.isWindow(r[0]),s=!!r[0]&&r[0].nodeType===9;return{element:r,isWindow:p,isDocument:s,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:p||s?r.width():r.outerWidth(),height:p||s?r.height():r.outerHeight()};
}};$.fn.position=function(z){if(!z||!z.of){return a.apply(this,arguments);}z=$.extend({},z);var A,w,u,y,t,p,v=$(z.of),s=$.aePosition.getWithinInfo(z.within),q=$.aePosition.getScrollInfo(s),x=(z.collision||"flip").split(" "),r={};p=f(v);if(v[0].preventDefault){z.at="left top";}w=p.width;u=p.height;y=p.offset;
t=$.extend({},y);$.each(["my","at"],function(){var D=(z[this]||"").split(" "),C,B;if(D.length===1){D=b.test(D[0])?D.concat(["center"]):n.test(D[0])?["center"].concat(D):["center","center"];}D[0]=b.test(D[0])?D[0]:"center";D[1]=n.test(D[1])?D[1]:"center";C=c.exec(D[0]);B=c.exec(D[1]);r[this]=[C?C[0]:0,B?B[0]:0];
z[this]=[k.exec(D[0])[0],k.exec(D[1])[0]];});if(x.length===1){x[1]=x[0];}if(z.at[0]==="right"){t.left+=w;}else{if(z.at[0]==="center"){t.left+=w/2;}}if(z.at[1]==="bottom"){t.top+=u;}else{if(z.at[1]==="center"){t.top+=u/2;}}A=e(r.at,w,u);t.left+=A[0];t.top+=A[1];return this.each(function(){var C,L,E=$(this),G=E.outerWidth(),D=E.outerHeight(),F=o(this,"marginLeft"),B=o(this,"marginTop"),K=G+F+o(this,"marginRight")+q.width,J=D+B+o(this,"marginBottom")+q.height,H=$.extend({},t),I=e(r.my,E.outerWidth(),E.outerHeight());
if(z.my[0]==="right"){H.left-=G;}else{if(z.my[0]==="center"){H.left-=G/2;}}if(z.my[1]==="bottom"){H.top-=D;}else{if(z.my[1]==="center"){H.top-=D/2;}}H.left+=I[0];H.top+=I[1];if(!l){H.left=m(H.left);H.top=m(H.top);}C={marginLeft:F,marginTop:B};$.each(["left","top"],function(N,M){if($.ae.aePosition[x[N]]){$.ae.aePosition[x[N]][M](H,{targetWidth:w,targetHeight:u,elemWidth:G,elemHeight:D,collisionPosition:C,collisionWidth:K,collisionHeight:J,offset:[A[0]+I[0],A[1]+I[1]],my:z.my,at:z.at,within:s,elem:E});
}});if(z.using){L=function(P){var R=y.left-H.left,O=R+w-G,Q=y.top-H.top,N=Q+u-D,M={target:{element:v,left:y.left,top:y.top,width:w,height:u},element:{element:E,left:H.left,top:H.top,width:G,height:D},horizontal:O<0?"left":R>0?"right":"center",vertical:N<0?"top":Q>0?"bottom":"middle"};if(w<G&&g(R+O)<w){M.horizontal="center";
}if(u<D&&g(Q+N)<u){M.vertical="middle";}if(j(g(R),g(O))>j(g(Q),g(N))){M.important="horizontal";}else{M.important="vertical";}z.using.call(this,P,M);};}E.offset($.extend(H,{using:L}));});};$.ae.aePosition={fit:{left:function(t,s){var r=s.within,v=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,u=t.left-s.collisionPosition.marginLeft,w=v-u,q=u+s.collisionWidth-x-v,p;
if(s.collisionWidth>x){if(w>0&&q<=0){p=t.left+w+s.collisionWidth-x-v;t.left+=w-p;}else{if(q>0&&w<=0){t.left=v;}else{if(w>q){t.left=v+x-s.collisionWidth;}else{t.left=v;}}}}else{if(w>0){t.left+=w;}else{if(q>0){t.left-=q;}else{t.left=j(t.left-u,t.left);}}}},top:function(s,r){var q=r.within,w=q.isWindow?q.scrollTop:q.offset.top,x=r.within.height,u=s.top-r.collisionPosition.marginTop,v=w-u,t=u+r.collisionHeight-x-w,p;
if(r.collisionHeight>x){if(v>0&&t<=0){p=s.top+v+r.collisionHeight-x-w;s.top+=v-p;}else{if(t>0&&v<=0){s.top=w;}else{if(v>t){s.top=w+x-r.collisionHeight;}else{s.top=w;}}}}else{if(v>0){s.top+=v;}else{if(t>0){s.top-=t;}else{s.top=j(s.top-u,s.top);}}}}},flip:{left:function(v,u){var t=u.within,z=t.offset.left+t.scrollLeft,C=t.width,r=t.isWindow?t.scrollLeft:t.offset.left,w=v.left-u.collisionPosition.marginLeft,A=w-r,q=w+u.collisionWidth-C-r,y=u.my[0]==="left"?-u.elemWidth:u.my[0]==="right"?u.elemWidth:0,B=u.at[0]==="left"?u.targetWidth:u.at[0]==="right"?-u.targetWidth:0,s=-2*u.offset[0],p,x;
if(A<0){p=v.left+y+B+s+u.collisionWidth-C-z;if(p<0||p<g(A)){v.left+=y+B+s;}}else{if(q>0){x=v.left-u.collisionPosition.marginLeft+y+B+s-r;if(x>0||g(x)<q){v.left+=y+B+s;}}}},top:function(u,t){var s=t.within,B=s.offset.top+s.scrollTop,C=s.height,p=s.isWindow?s.scrollTop:s.offset.top,w=u.top-t.collisionPosition.marginTop,y=w-p,v=w+t.collisionHeight-C-p,z=t.my[1]==="top",x=z?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,D=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],A,q;
if(y<0){q=u.top+x+D+r+t.collisionHeight-C-B;if(q<0||q<g(y)){u.top+=x+D+r;}}else{if(v>0){A=u.top-t.collisionPosition.marginTop+x+D+r-p;if(A>0||g(A)<v){u.top+=x+D+r;}}}}},flipfit:{left:function(){$.ae.aePosition.flip.left.apply(this,arguments);$.ae.aePosition.fit.left.apply(this,arguments);},top:function(){$.ae.aePosition.flip.top.apply(this,arguments);
$.ae.aePosition.fit.top.apply(this,arguments);}}};(function(){var t,v,q,s,r,p=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(p?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(p){$.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"});
}for(r in q){t.style[r]=q[r];}t.appendChild(u);v=p||document.documentElement;v.insertBefore(t,v.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";s=$(u).offset().left;l=s>10&&s<11;t.innerHTML="";v.removeChild(t);})();var i=$.ae.aePosition;});define("ui-draggable",function(require,exports,moudles){$.aeWidget("ae.aeDraggable",$.ae.aeMouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative();
}if(this.options.addClasses){this.element.addClass("ui-draggable");}if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}this._setHandleClassName();this._mouseInit();},_setOption:function(b,c){this._super(b,c);if(b==="handle"){this._removeHandleClassName();this._setHandleClassName();
}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return;}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy();},destroy:function(){this._destroy();},_mouseCapture:function(b){var c=this.options;
this._blurActiveElement(b);if(this.helper||c.disabled||$(b.target).closest(".ui-resizable-handle").length>0){return false;}this.handle=this._getHandle(b);if(!this.handle){return false;}this._blockFrames(c.iframeFix===true?"iframe":c.iframeFix);return true;},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var c=$(this);
return $("<div>").css("position","absolute").appendTo(c.parent()).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).offset(c.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(d){var b=this.document[0];
if(!this.handleElement.is(d.target)){return;}try{if(b.activeElement&&b.activeElement.nodeName.toLowerCase()!=="body"){$(b.activeElement).blur();}}catch(c){}},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
if($.ae.ddmanager){$.ae.ddmanager.current=this;}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed";
}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(b);this.originalPosition=this.position=this._generatePosition(b,false);this.originalPageX=b.pageX;this.originalPageY=b.pageY;(c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt));this._setContainment();if(this._trigger("start",b)===false){this._clear();
return false;}this._cacheHelperProportions();if($.ae.ddmanager&&!c.dropBehaviour){$.ae.ddmanager.prepareOffsets(this,b);}this._normalizeRightBottom();this._mouseDrag(b,true);if($.ae.ddmanager){$.ae.ddmanager.dragStart(this,b);}return true;},_refreshOffsets:function(b){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};
this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top};},_mouseDrag:function(b,d){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}this.position=this._generatePosition(b,true);this.positionAbs=this._convertPositionTo("absolute");if(!d){var c=this._uiHash();
if(this._trigger("drag",b,c)===false){this._mouseUp({});return false;}this.position=c.position;}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ae.ddmanager){$.ae.ddmanager.drag(this,b);}return false;},_mouseStop:function(c){var b=this,d=false;if($.ae.ddmanager&&!this.options.dropBehaviour){d=$.ae.ddmanager.drop(this,c);
}if(this.dropped){d=this.dropped;this.dropped=false;}if((this.options.revert==="invalid"&&!d)||(this.options.revert==="valid"&&d)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(b._trigger("stop",c)!==false){b._clear();
}});}else{if(this._trigger("stop",c)!==false){this._clear();}}return false;},_mouseUp:function(b){this._unblockFrames();if($.ae.ddmanager){$.ae.ddmanager.dragStop(this,b);}if(this.handleElement.is(b.target)){this.element.focus();}return $.ae.aeMouse.prototype._mouseUp.call(this,b);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});
}else{this._clear();}return this;},_getHandle:function(b){return this.options.handle?!!$(b.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle");
},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle");},_createHelper:function(c){var e=this.options,d=$.isFunction(e.helper),b=d?$(e.helper.apply(this.element[0],[c])):(e.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!b.parents("body").length){b.appendTo((e.appendTo==="parent"?this.element[0].parentNode:e.appendTo));
}if(d&&b[0]===this.element[0]){this._setPositionRelative();}if(b[0]!==this.element[0]&&!(/(fixed|absolute)/).test(b.css("position"))){b.css("position","absolute");}return b;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";
}},_adjustOffsetFromHelper:function(b){if(typeof b==="string"){b=b.split(" ");}if($.isArray(b)){b={left:+b[0],top:+b[1]||0};}if("left" in b){this.offset.click.left=b.left+this.margins.left;}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;}if("top" in b){this.offset.click.top=b.top+this.margins.top;
}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top;}},_isRootNode:function(b){return(/(html|body)/i).test(b.tagName)||b===this.document[0];},_getParentOffset:function(){var c=this.offsetParent.offset(),b=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==b&&$.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();
c.top+=this.scrollParent.scrollTop();}if(this._isRootNode(this.offsetParent[0])){c={top:0,left:0};}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0};
}var b=this.element.position(),c=this._isRootNode(this.scrollParent[0]);return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+(!c?this.scrollParent.scrollTop():0),left:b.left-(parseInt(this.helper.css("left"),10)||0)+(!c?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var d,g,e,f=this.options,b=this.document[0];this.relativeContainer=null;if(!f.containment){this.containment=null;return;}if(f.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
return;}if(f.containment==="document"){this.containment=[0,0,$(b).width()-this.helperProportions.width-this.margins.left,($(b).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}if(f.containment.constructor===Array){this.containment=f.containment;return;
}if(f.containment==="parent"){f.containment=this.helper[0].parentNode;}g=$(f.containment);e=g[0];if(!e){return;}d=/(scroll|auto)/.test(g.css("overflow"));this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relativeContainer=g;},_convertPositionTo:function(c,f){if(!f){f=this.position;}var b=c==="absolute"?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:(f.top+this.offset.relative.top*b+this.offset.parent.top*b-((this.cssPosition==="fixed"?-this.offset.scroll.top:(e?0:this.offset.scroll.top))*b)),left:(f.left+this.offset.relative.left*b+this.offset.parent.left*b-((this.cssPosition==="fixed"?-this.offset.scroll.left:(e?0:this.offset.scroll.left))*b))};
},_generatePosition:function(c,i){var b,j,k,e,d=this.options,h=this._isRootNode(this.scrollParent[0]),g=c.pageX,f=c.pageY;if(!h||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}if(i){if(this.containment){if(this.relativeContainer){j=this.relativeContainer.offset();
b=[this.containment[0]+j.left,this.containment[1]+j.top,this.containment[2]+j.left,this.containment[3]+j.top];}else{b=this.containment;}if(c.pageX-this.offset.click.left<b[0]){g=b[0]+this.offset.click.left;}if(c.pageY-this.offset.click.top<b[1]){f=b[1]+this.offset.click.top;}if(c.pageX-this.offset.click.left>b[2]){g=b[2]+this.offset.click.left;
}if(c.pageY-this.offset.click.top>b[3]){f=b[3]+this.offset.click.top;}}if(d.grid){k=d.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/d.grid[1])*d.grid[1]:this.originalPageY;f=b?((k-this.offset.click.top>=b[1]||k-this.offset.click.top>b[3])?k:((k-this.offset.click.top>=b[1])?k-d.grid[1]:k+d.grid[1])):k;
e=d.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/d.grid[0])*d.grid[0]:this.originalPageX;g=b?((e-this.offset.click.left>=b[0]||e-this.offset.click.left>b[2])?e:((e-this.offset.click.left>=b[0])?e-d.grid[0]:e+d.grid[0])):e;}if(d.axis==="y"){g=this.originalPageX;}if(d.axis==="x"){f=this.originalPageY;
}}return{top:(f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(h?0:this.offset.scroll.top))),left:(g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(h?0:this.offset.scroll.left)))};
},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());
this.helper.css("right","auto");}if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto");}},_trigger:function(b,c,d){d=d||this._uiHash();$.ae.plugin.call(this,b,[c,d,this],true);if(/^(drag|start|stop)/.test(b)){this.positionAbs=this._convertPositionTo("absolute");
d.offset=this.positionAbs;}return $.AEWidget.prototype._trigger.call(this,b,c,d);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ae.plugin.add("aeDraggable","connectToSortable",{start:function(d,e,b){var c=$.extend({},e,{item:b.element});
b.sortables=[];$(b.options.connectToSortable).each(function(){var f=$(this).aeSortable("instance");if(f&&!f.options.disabled){b.sortables.push(f);f.refreshPositions();f._trigger("activate",d,c);}});},stop:function(d,e,b){var c=$.extend({},e,{item:b.element});b.cancelHelperRemoval=false;$.each(b.sortables,function(){var f=this;
if(f.isOver){f.isOver=0;b.cancelHelperRemoval=true;f.cancelHelperRemoval=false;f._storedCSS={position:f.placeholder.css("position"),top:f.placeholder.css("top"),left:f.placeholder.css("left")};f._mouseStop(d);f.options.helper=f.options._helper;}else{f.cancelHelperRemoval=true;f._trigger("deactivate",d,c);
}});},drag:function(c,d,b){$.each(b.sortables,function(){var e=false,f=this;f.positionAbs=b.positionAbs;f.helperProportions=b.helperProportions;f.offset.click=b.offset.click;if(f._intersectsWith(f.containerCache)){e=true;$.each(b.sortables,function(){this.positionAbs=b.positionAbs;this.helperProportions=b.helperProportions;
this.offset.click=b.offset.click;if(this!==f&&this._intersectsWith(this.containerCache)&&$.contains(f.element[0],this.element[0])){e=false;}return e;});}if(e){if(!f.isOver){f.isOver=1;b._parent=d.helper.parent();f.currentItem=d.helper.appendTo(f.element).data("ui-sortable-item",true);f.options._helper=f.options.helper;
f.options.helper=function(){return d.helper[0];};c.target=f.currentItem[0];f._mouseCapture(c,true);f._mouseStart(c,true,true);f.offset.click.top=b.offset.click.top;f.offset.click.left=b.offset.click.left;f.offset.parent.left-=b.offset.parent.left-f.offset.parent.left;f.offset.parent.top-=b.offset.parent.top-f.offset.parent.top;
b._trigger("toSortable",c);b.dropped=f.element;$.each(b.sortables,function(){this.refreshPositions();});b.currentItem=b.element;f.fromOutside=b;}if(f.currentItem){f._mouseDrag(c);d.position=f.position;}}else{if(f.isOver){f.isOver=0;f.cancelHelperRemoval=true;f.options._revert=f.options.revert;f.options.revert=false;
f._trigger("out",c,f._uiHash(f));f._mouseStop(c,true);f.options.revert=f.options._revert;f.options.helper=f.options._helper;if(f.placeholder){f.placeholder.remove();}d.helper.appendTo(b._parent);b._refreshOffsets(c);d.position=b._generatePosition(c,true);b._trigger("fromSortable",c);b.dropped=false;$.each(b.sortables,function(){this.refreshPositions();
});}}});}});$.ae.plugin.add("aeDraggable","cursor",{start:function(d,e,b){var c=$("body"),f=b.options;if(c.css("cursor")){f._cursor=c.css("cursor");}c.css("cursor",f.cursor);},stop:function(c,d,b){var e=b.options;if(e._cursor){$("body").css("cursor",e._cursor);}}});$.ae.plugin.add("aeDraggable","opacity",{start:function(d,e,b){var c=$(e.helper),f=b.options;
if(c.css("opacity")){f._opacity=c.css("opacity");}c.css("opacity",f.opacity);},stop:function(c,d,b){var e=b.options;if(e._opacity){$(d.helper).css("opacity",e._opacity);}}});$.ae.plugin.add("aeDraggable","scroll",{start:function(c,d,b){if(!b.scrollParentNotHidden){b.scrollParentNotHidden=b.helper.scrollParent(false);
}if(b.scrollParentNotHidden[0]!==b.document[0]&&b.scrollParentNotHidden[0].tagName!=="HTML"){b.overflowOffset=b.scrollParentNotHidden.offset();}},drag:function(e,f,d){var g=d.options,c=false,h=d.scrollParentNotHidden[0],b=d.document[0];if(h!==b&&h.tagName!=="HTML"){if(!g.axis||g.axis!=="x"){if((d.overflowOffset.top+h.offsetHeight)-e.pageY<g.scrollSensitivity){h.scrollTop=c=h.scrollTop+g.scrollSpeed;
}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){h.scrollTop=c=h.scrollTop-g.scrollSpeed;}}}if(!g.axis||g.axis!=="y"){if((d.overflowOffset.left+h.offsetWidth)-e.pageX<g.scrollSensitivity){h.scrollLeft=c=h.scrollLeft+g.scrollSpeed;}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){h.scrollLeft=c=h.scrollLeft-g.scrollSpeed;
}}}}else{if(!g.axis||g.axis!=="x"){if(e.pageY-$(b).scrollTop()<g.scrollSensitivity){c=$(b).scrollTop($(b).scrollTop()-g.scrollSpeed);}else{if($(window).height()-(e.pageY-$(b).scrollTop())<g.scrollSensitivity){c=$(b).scrollTop($(b).scrollTop()+g.scrollSpeed);}}}if(!g.axis||g.axis!=="y"){if(e.pageX-$(b).scrollLeft()<g.scrollSensitivity){c=$(b).scrollLeft($(b).scrollLeft()-g.scrollSpeed);
}else{if($(window).width()-(e.pageX-$(b).scrollLeft())<g.scrollSensitivity){c=$(b).scrollLeft($(b).scrollLeft()+g.scrollSpeed);}}}}if(c!==false&&$.ae.ddmanager&&!g.dropBehaviour){$.ae.ddmanager.prepareOffsets(d,e);}}});$.ae.plugin.add("aeDraggable","snap",{start:function(c,d,b){var e=b.options;b.snapElements=[];
$(e.snap.constructor!==String?(e.snap.items||":data(ui-draggable)"):e.snap).each(function(){var g=$(this),f=g.offset();if(this!==b.element[0]){b.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left});}});},drag:function(u,p,g){var c,z,j,k,s,n,m,A,v,h,q=g.options,y=q.snapTolerance,x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;
for(v=g.snapElements.length-1;v>=0;v--){s=g.snapElements[v].left-g.margins.left;n=s+g.snapElements[v].width;m=g.snapElements[v].top-g.margins.top;A=m+g.snapElements[v].height;if(w<s-y||x>n+y||e<m-y||f>A+y||!$.contains(g.snapElements[v].item.ownerDocument,g.snapElements[v].item)){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,$.extend(g._uiHash(),{snapItem:g.snapElements[v].item})));
}g.snapElements[v].snapping=false;continue;}if(q.snapMode!=="inner"){c=Math.abs(m-e)<=y;z=Math.abs(A-f)<=y;j=Math.abs(s-w)<=y;k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top;}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top;
}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left;}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left;}}h=(c||z||j||k);if(q.snapMode!=="outer"){c=Math.abs(m-f)<=y;z=Math.abs(A-e)<=y;j=Math.abs(s-x)<=y;k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top;
}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top;}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left;}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left;}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,$.extend(g._uiHash(),{snapItem:g.snapElements[v].item})));
}g.snapElements[v].snapping=(c||z||j||k||h);}}});$.ae.plugin.add("aeDraggable","stack",{start:function(d,e,b){var c,g=b.options,f=$.makeArray($(g.stack)).sort(function(i,h){return(parseInt($(i).css("zIndex"),10)||0)-(parseInt($(h).css("zIndex"),10)||0);});if(!f.length){return;}c=parseInt($(f[0]).css("zIndex"),10)||0;
$(f).each(function(h){$(this).css("zIndex",c+h);});this.css("zIndex",(c+f.length));}});$.ae.plugin.add("aeDraggable","zIndex",{start:function(d,e,b){var c=$(e.helper),f=b.options;if(c.css("zIndex")){f._zIndex=c.css("zIndex");}c.css("zIndex",f.zIndex);},stop:function(c,d,b){var e=b.options;if(e._zIndex){$(d.helper).css("zIndex",e._zIndex);
}}});var a=$.ae.aeDraggable;});define("ui-droppable",function(require,exports,moudles){$.aeWidget("ae.aeDroppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,d=this.options,b=d.accept;
this.isover=false;this.isout=true;this.accept=$.isFunction(b)?b:function(e){return e.is(b);};this.proportions=function(){if(arguments.length){c=arguments[0];}else{return c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};this._addToManager(d.scope);d.addClasses&&this.element.addClass("ui-droppable");
},_addToManager:function(b){$.ae.ddmanager.droppables[b]=$.ae.ddmanager.droppables[b]||[];$.ae.ddmanager.droppables[b].push(this);},_splice:function(b){var c=0;for(;c<b.length;c++){if(b[c]===this){b.splice(c,1);}}},_destroy:function(){var b=$.ae.ddmanager.droppables[this.options.scope];this._splice(b);
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(c,d){if(c==="accept"){this.accept=$.isFunction(d)?d:function(e){return e.is(d);};}else{if(c==="scope"){var b=$.ae.ddmanager.droppables[this.options.scope];this._splice(b);this._addToManager(d);}}this._super(c,d);},_activate:function(c){var b=$.ae.ddmanager.current;
if(this.options.activeClass){this.element.addClass(this.options.activeClass);}if(b){this._trigger("activate",c,this.ui(b));}},_deactivate:function(c){var b=$.ae.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}if(b){this._trigger("deactivate",c,this.ui(b));
}},_over:function(c){var b=$.ae.ddmanager.current;if(!b||(b.currentItem||b.element)[0]===this.element[0]){return;}if(this.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}this._trigger("over",c,this.ui(b));}},_out:function(c){var b=$.ae.ddmanager.current;
if(!b||(b.currentItem||b.element)[0]===this.element[0]){return;}if(this.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("out",c,this.ui(b));}},_drop:function(c,d){var b=d||$.ae.ddmanager.current,e=false;
if(!b||(b.currentItem||b.element)[0]===this.element[0]){return false;}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var f=$(this).droppable("instance");if(f.options.greedy&&!f.options.disabled&&f.options.scope===b.options.scope&&f.accept.call(f.element[0],(b.currentItem||b.element))&&$.ae.intersect(b,$.extend(f,{offset:f.element.offset()}),f.options.tolerance,c)){e=true;
return false;}});if(e){return false;}if(this.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}this._trigger("drop",c,this.ui(b));return this.element;
}return false;},ui:function(b){return{draggable:(b.currentItem||b.element),helper:b.helper,position:b.position,offset:b.positionAbs};}});$.ae.intersect=(function(){function b(d,c,e){return(d>=c)&&(d<(c+e));}return function(o,h,m,d){if(!h.offset){return false;}var f=(o.positionAbs||o.position.absolute).left+o.margins.left,k=(o.positionAbs||o.position.absolute).top+o.margins.top,e=f+o.helperProportions.width,j=k+o.helperProportions.height,g=h.offset.left,n=h.offset.top,c=g+h.proportions().width,i=n+h.proportions().height;
switch(m){case"fit":return(g<=f&&e<=c&&n<=k&&j<=i);case"intersect":return(g<f+(o.helperProportions.width/2)&&e-(o.helperProportions.width/2)<c&&n<k+(o.helperProportions.height/2)&&j-(o.helperProportions.height/2)<i);case"pointer":return b(d.pageY,n,h.proportions().height)&&b(d.pageX,g,h.proportions().width);
case"touch":return((k>=n&&k<=i)||(j>=n&&j<=i)||(k<n&&j>i))&&((f>=g&&f<=c)||(e>=g&&e<=c)||(f<g&&e>c));default:return false;}};})();$.ae.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,g){var d,c,b=$.ae.ddmanager.droppables[e.options.scope]||[],f=g?g.type:null,h=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();
droppablesLoop:for(d=0;d<b.length;d++){if(b[d].options.disabled||(e&&!b[d].accept.call(b[d].element[0],(e.currentItem||e.element)))){continue;}for(c=0;c<h.length;c++){if(h[c]===b[d].element[0]){b[d].proportions().height=0;continue droppablesLoop;}}b[d].visible=b[d].element.css("display")!=="none";if(!b[d].visible){continue;
}if(f==="mousedown"){b[d]._activate.call(b[d],g);}b[d].offset=b[d].element.offset();b[d].proportions({width:b[d].element[0].offsetWidth,height:b[d].element[0].offsetHeight});}},drop:function(b,c){var d=false;$.each(($.ae.ddmanager.droppables[b.options.scope]||[]).slice(),function(){if(!this.options){return;
}if(!this.options.disabled&&this.visible&&$.ae.intersect(b,this,this.options.tolerance,c)){d=this._drop.call(this,c)||d;}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(b.currentItem||b.element))){this.isout=true;this.isover=false;this._deactivate.call(this,c);}});return d;
},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){if(!b.options.refreshPositions){$.ae.ddmanager.prepareOffsets(b,c);}});},drag:function(b,c){if(b.options.refreshPositions){$.ae.ddmanager.prepareOffsets(b,c);}$.each($.ae.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;
}var g,e,d,f=$.ae.intersect(b,this,this.options.tolerance,c),h=!f&&this.isover?"isout":(f&&!this.isover?"isover":null);if(!h){return;}if(this.options.greedy){e=this.options.scope;d=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===e;});
if(d.length){g=$(d[0]).droppable("instance");g.greedyChild=(h==="isover");}}if(g&&h==="isover"){g.isover=false;g.isout=true;g._out.call(g,c);}this[h]=true;this[h==="isout"?"isover":"isout"]=false;this[h==="isover"?"_over":"_out"].call(this,c);if(g&&h==="isout"){g.isout=false;g.isover=true;g._over.call(g,c);
}});},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable");if(!b.options.refreshPositions){$.ae.ddmanager.prepareOffsets(b,c);}}};var a=$.ae.aeDroppable;});define("ui-sortable",function(require,exports,moudles){var a=$.aeWidget("ae.aeSortable",$.ae.aeMouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(c,b,d){return(c>=b)&&(c<(b+d));
},_isFloating:function(b){return(/left|right/).test(b.css("float"))||(/inline|table-cell/).test(b.css("display"));},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true;
},_setOption:function(b,c){this._super(b,c);if(b==="handle"){this._setHandleClassName();}},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle");
});},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData(this.widgetName+"-item");}return this;},destroy:function(){this.destroy();
},_mouseCapture:function(d,e){var b=null,f=false,c=this;if(this.reverting){return false;}if(this.options.disabled||this.options.type==="static"){return false;}this._refreshItems(d);$(d.target).parents().each(function(){if($.data(this,c.widgetName+"-item")===c){b=$(this);return false;}});if($.data(d.target,c.widgetName+"-item")===c){b=$(d.target);
}if(!b){return false;}if(this.options.handle&&!e){$(this.options.handle,b).find("*").addBack().each(function(){if(this===d.target){f=true;}});if(!f){return false;}}this.currentItem=b;this._removeCurrentsFromItems();return true;},_mouseStart:function(e,f,c){var d,b,g=this.options;this.currentContainer=this;
this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;(g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}this._createPlaceholder();if(g.containment){this._setContainment();}if(g.cursor&&g.cursor!=="auto"){b=this.document.find("body");this.storedCursor=b.css("cursor");b.css("cursor",g.cursor);this.storedStylesheet=$("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(b);
}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}this.helper.css("opacity",g.opacity);}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}this.helper.css("zIndex",g.zIndex);}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();
}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}if(!c){for(d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",e,this._uiHash(this));}}if($.ae.ddmanager){$.ae.ddmanager.current=this;}if($.ae.ddmanager&&!g.dropBehaviour){$.ae.ddmanager.prepareOffsets(this,e);
}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true;},_mouseDrag:function(f){var d,e,c,h,g=this.options,b=false;this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;
}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-f.pageY<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+g.scrollSpeed;}else{if(f.pageY-this.overflowOffset.top<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-g.scrollSpeed;
}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-f.pageX<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+g.scrollSpeed;}else{if(f.pageX-this.overflowOffset.left<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-g.scrollSpeed;
}}}else{if(f.pageY-this.document.scrollTop()<g.scrollSensitivity){b=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed);}else{if(this.window.height()-(f.pageY-this.document.scrollTop())<g.scrollSensitivity){b=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed);}}if(f.pageX-this.document.scrollLeft()<g.scrollSensitivity){b=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed);
}else{if(this.window.width()-(f.pageX-this.document.scrollLeft())<g.scrollSensitivity){b=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed);}}}if(b!==false&&$.ae.ddmanager&&!g.dropBehaviour){$.ae.ddmanager.prepareOffsets(this,f);}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";
}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}for(d=this.items.length-1;d>=0;d--){e=this.items[d];c=e.item[0];h=this._intersectsWithPointer(e);if(!h){continue;}if(e.instance!==this.currentContainer){continue;}if(c!==this.currentItem[0]&&this.placeholder[h===1?"next":"prev"]()[0]!==c&&!$.contains(this.placeholder[0],c)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],c):true)){this.direction=h===1?"down":"up";
if(this.options.tolerance==="pointer"||this._intersectsWithSides(e)){this._rearrange(f,e);}else{break;}this._trigger("change",f,this._uiHash());break;}}this._contactContainers(f);if($.ae.ddmanager){$.ae.ddmanager.drag(this,f);}this._trigger("sort",f,this._uiHash());this.lastPositionAbs=this.positionAbs;
return false;},_mouseStop:function(d,f){if(!d){return;}if($.ae.ddmanager&&!this.options.dropBehaviour){$.ae.ddmanager.drop(this,d);}if(this.options.revert){var c=this,g=this.placeholder.offset(),b=this.options.axis,e={};if(!b||b==="x"){e.left=g.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);
}if(!b||b==="y"){e.top=g.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}this.reverting=true;$(this.helper).animate(e,parseInt(this.options.revert,10)||500,function(){c._clear(d);});}else{this._clear(d,f);}return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});
if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,this._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,this._uiHash(this));
this.containers[b].containerCache.over=0;}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});
if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}return this;},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected),c=[];d=d||{};$(b).each(function(){var e=($(d.item||this).attr(d.attribute||"id")||"").match(d.expression||(/(.+)[\-=_](.+)/));
if(e){c.push((d.key||e[1]+"[]")+"="+(d.key&&d.expression?e[1]:e[2]));}});if(!c.length&&d.key){c.push(d.key+"=");}return c.join("&");},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected),c=[];d=d||{};b.each(function(){c.push($(d.item||this).attr(d.attribute||"id")||"");});return c;},_intersectsWith:function(o){var e=this.positionAbs.left,d=e+this.helperProportions.width,m=this.positionAbs.top,k=m+this.helperProportions.height,f=o.left,c=f+o.width,p=o.top,j=p+o.height,q=this.offset.click.top,i=this.offset.click.left,h=(this.options.axis==="x")||((m+q)>p&&(m+q)<j),n=(this.options.axis==="y")||((e+i)>f&&(e+i)<c),g=h&&n;
if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>o[this.floating?"width":"height"])){return g;}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&p<m+(this.helperProportions.height/2)&&k-(this.helperProportions.height/2)<j);
}},_intersectsWithPointer:function(d){var e=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),c=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),g=e&&c,b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();
if(!g){return false;}return this.floating?(((f&&f==="right")||b==="down")?2:1):(b&&(b==="down"?2:1));},_intersectsWithSides:function(e){var c=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+(e.height/2),e.height),d=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+(e.width/2),e.width),b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();
if(this.floating&&f){return((f==="right"&&d)||(f==="left"&&!d));}else{return b&&((b==="down"&&c)||(b==="up"&&!c));}},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!==0&&(b>0?"down":"up");},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;
return b!==0&&(b>0?"right":"left");},refresh:function(b){this._refreshItems(b);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith;},_getItemsAsjQuery:function(b){var d,c,k,f,g=[],e=[],h=this._connectWith();
if(h&&b){for(d=h.length-1;d>=0;d--){k=$(h[d],this.document[0]);for(c=k.length-1;c>=0;c--){f=$.data(k[c],this.widgetFullName);if(f&&f!==this&&!f.options.disabled){e.push([$.isFunction(f.options.items)?f.options.items.call(f.element):$(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);
}}}}e.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function l(){g.push(this);}for(d=e.length-1;d>=0;d--){e[d][0].each(l);
}return $(g);},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(d){for(var c=0;c<b.length;c++){if(b[c]===d.item[0]){return false;}}return true;});},_refreshItems:function(b){this.items=[];this.containers=[this];var f,d,m,g,l,c,o,n,h=this.items,e=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):$(this.options.items,this.element),this]],k=this._connectWith();
if(k&&this.ready){for(f=k.length-1;f>=0;f--){m=$(k[f],this.document[0]);for(d=m.length-1;d>=0;d--){g=$.data(m[d],this.widgetFullName);if(g&&g!==this&&!g.options.disabled){e.push([$.isFunction(g.options.items)?g.options.items.call(g.element[0],b,{item:this.currentItem}):$(g.options.items,g.element),g]);
this.containers.push(g);}}}}for(f=e.length-1;f>=0;f--){l=e[f][1];c=e[f][0];for(d=0,n=c.length;d<n;d++){o=$(c[d]);o.data(this.widgetName+"-item",l);h.push({item:o,instance:l,width:0,height:0,left:0,top:0});}}},refreshPositions:function(b){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;
if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}var d,e,c,f;for(d=this.items.length-1;d>=0;d--){e=this.items[d];if(e.instance!==this.currentContainer&&this.currentContainer&&e.item[0]!==this.currentItem[0]){continue;}c=this.options.toleranceElement?$(this.options.toleranceElement,e.item):e.item;
if(!b){e.width=c.outerWidth();e.height=c.outerHeight();}f=c.offset();e.left=f.left;e.top=f.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(d=this.containers.length-1;d>=0;d--){f=this.containers[d].element.offset();this.containers[d].containerCache.left=f.left;
this.containers[d].containerCache.top=f.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight();}}return this;},_createPlaceholder:function(c){c=c||this;var b,d=c.options;if(!d.placeholder||d.placeholder.constructor===String){b=d.placeholder;
d.placeholder={element:function(){var f=c.currentItem[0].nodeName.toLowerCase(),e=$("<"+f+">",c.document[0]).addClass(b||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(f==="tbody"){c._createTrPlaceholder(c.currentItem.find("tr").eq(0),$("<tr>",c.document[0]).appendTo(e));
}else{if(f==="tr"){c._createTrPlaceholder(c.currentItem,e);}else{if(f==="img"){e.attr("src",c.currentItem.attr("src"));}}}if(!b){e.css("visibility","hidden");}return e;},update:function(e,f){if(b&&!d.forcePlaceholderSize){return;}if(!f.height()){f.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10));
}if(!f.width()){f.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10));}}};}c.placeholder=$(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,c.placeholder);},_createTrPlaceholder:function(c,b){var d=this;
c.children().each(function(){$("<td>&#160;</td>",d.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(b);});},_contactContainers:function(b){var g,e,m,h,k,o,p,f,l,d,c=null,n=null;for(g=this.containers.length-1;g>=0;g--){if($.contains(this.currentItem[0],this.containers[g].element[0])){continue;
}if(this._intersectsWith(this.containers[g].containerCache)){if(c&&$.contains(this.containers[g].element[0],c.element[0])){continue;}c=this.containers[g];n=g;}else{if(this.containers[g].containerCache.over){this.containers[g]._trigger("out",b,this._uiHash(this));this.containers[g].containerCache.over=0;
}}}if(!c){return;}if(this.containers.length===1){if(!this.containers[n].containerCache.over){this.containers[n]._trigger("over",b,this._uiHash(this));this.containers[n].containerCache.over=1;}}else{m=10000;h=null;l=c.floating||this._isFloating(this.currentItem);k=l?"left":"top";o=l?"width":"height";d=l?"clientX":"clientY";
for(e=this.items.length-1;e>=0;e--){if(!$.contains(this.containers[n].element[0],this.items[e].item[0])){continue;}if(this.items[e].item[0]===this.currentItem[0]){continue;}p=this.items[e].item.offset()[k];f=false;if(b[d]-p>this.items[e][o]/2){f=true;}if(Math.abs(b[d]-p)<m){m=Math.abs(b[d]-p);h=this.items[e];
this.direction=f?"up":"down";}}if(!h&&!this.options.dropOnEmpty){return;}if(this.currentContainer===this.containers[n]){if(!this.currentContainer.containerCache.over){this.containers[n]._trigger("over",b,this._uiHash());this.currentContainer.containerCache.over=1;}return;}h?this._rearrange(b,h,null,true):this._rearrange(b,null,this.containers[n].element,true);
this._trigger("change",b,this._uiHash());this.containers[n]._trigger("change",b,this._uiHash(this));this.currentContainer=this.containers[n];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",b,this._uiHash(this));this.containers[n].containerCache.over=1;
}},_createHelper:function(c){var d=this.options,b=$.isFunction(d.helper)?$(d.helper.apply(this.element[0],[c,this.currentItem])):(d.helper==="clone"?this.currentItem.clone():this.currentItem);if(!b.parents("body").length){$(d.appendTo!=="parent"?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);
}if(b[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}if(!b[0].style.width||d.forceHelperSize){b.width(this.currentItem.width());
}if(!b[0].style.height||d.forceHelperSize){b.height(this.currentItem.height());}return b;},_adjustOffsetFromHelper:function(b){if(typeof b==="string"){b=b.split(" ");}if($.isArray(b)){b={left:+b[0],top:+b[1]||0};}if("left" in b){this.offset.click.left=b.left+this.margins.left;}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;
}if("top" in b){this.offset.click.top=b.top+this.margins.top;}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();
b.top+=this.scrollParent.scrollTop();}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ae.ie)){b={top:0,left:0};}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};
},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};
}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var c,e,b,d=this.options;
if(d.containment==="parent"){d.containment=this.helper[0].parentNode;}if(d.containment==="document"||d.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(d.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
}if(!(/^(document|window|parent)$/).test(d.containment)){c=$(d.containment)[0];e=$(d.containment).offset();b=($(c).css("overflow")!=="hidden");this.containment=[e.left+(parseInt($(c).css("borderLeftWidth"),10)||0)+(parseInt($(c).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt($(c).css("borderTopWidth"),10)||0)+(parseInt($(c).css("paddingTop"),10)||0)-this.margins.top,e.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt($(c).css("borderLeftWidth"),10)||0)-(parseInt($(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt($(c).css("borderTopWidth"),10)||0)-(parseInt($(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];
}},_convertPositionTo:function(e,g){if(!g){g=this.position;}var c=e==="absolute"?1:-1,b=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=(/(html|body)/i).test(b[0].tagName);return{top:(g.top+this.offset.relative.top*c+this.offset.parent.top*c-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(f?0:b.scrollTop()))*c)),left:(g.left+this.offset.relative.left*c+this.offset.parent.left*c-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:b.scrollLeft())*c))};
},_generatePosition:function(e){var g,f,h=this.options,d=e.pageX,c=e.pageY,b=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();
}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left;}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top;}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left;
}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top;}}if(h.grid){g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?((g-this.offset.click.top>=this.containment[1]&&g-this.offset.click.top<=this.containment[3])?g:((g-this.offset.click.top>=this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;
f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?((f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2])?f:((f-this.offset.click.left>=this.containment[0])?f-h.grid[0]:f+h.grid[0])):f;}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():i?0:b.scrollLeft())))};
},_rearrange:function(f,e,c,d){c?c[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?e.item[0]:e.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var b=this.counter;this._delay(function(){if(b===this.counter){this.refreshPositions(!d);
}});},_clear:function(c,e){this.reverting=false;var b,f=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(b in this._storedCSS){if(this._storedCSS[b]==="auto"||this._storedCSS[b]==="static"){this._storedCSS[b]="";
}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}if(this.fromOutside&&!e){f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside));});}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger("update",g,this._uiHash());
});}if(this!==this.currentContainer){if(!e){f.push(function(g){this._trigger("remove",g,this._uiHash());});f.push((function(g){return function(h){g._trigger("receive",h,this._uiHash(this));};}).call(this,this.currentContainer));f.push((function(g){return function(h){g._trigger("update",h,this._uiHash(this));
};}).call(this,this.currentContainer));}}function d(i,g,h){return function(j){h._trigger(i,j,g._uiHash(g));};}for(b=this.containers.length-1;b>=0;b--){if(!e){f.push(d("deactivate",this,this.containers[b]));}if(this.containers[b].containerCache.over){f.push(d("out",this,this.containers[b]));this.containers[b].containerCache.over=0;
}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}this.dragging=false;
if(!e){this._trigger("beforeStop",c,this._uiHash());}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}this.helper=null;}if(!e){for(b=0;b<f.length;b++){f[b].call(this,c);}this._trigger("stop",c,this._uiHash());
}this.fromOutside=false;return !this.cancelHelperRemoval;},_trigger:function(){if($.AEWidget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||$([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null};
}});});define("ui-dialog",function(require,exports,moudles){var a=$.aeWidget("ae.aeDialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"Close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:90,minWidth:150,modal:false,confirmButtonText:"Confirm",cancelButtonText:"Cancel",position:{my:"top",at:"top",of:window,collision:"flipfit",using:function(b){$(this).css(b);
$(this).css("top","30px");}},resizable:true,show:null,title:"",width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,afterInit:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){var c=this.element.attr("id"),b=$(document.body).find("[aria-describedby='"+c+"']");
if(c){this.element.attr("aeId",c);}this._buildOptions(this.options,this.element);if(b.length>0){b.remove();$("#"+c).remove();}this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};
this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title;this._createWrapper();this.element.show().removeAttr("title").addClass("modal-body").appendTo(this.modalContent);
if(this.options.componentType!=="message"){this._createTitlebar();}this._createButton();if(this.options.draggable&&$.fn.aeDraggable){this._makeDraggable();}if(this.options.resizable&&$.fn.aeResizable){this._makeResizable();}this._isOpen=false;this._trackFocus();},_init:function(){if(this.options.autoOpen){this.element.prev(".modal-header").children("h4.modal-title").text(this.options.title);
this.open();}},_buildOptions:function(b,c){b.confirmButtonText=(c.attr("confirmButtonText")||b.confirmButtonText);b.cancelButtonText=(c.attr("cancelButtonText")||b.cancelButtonText);},_appendTo:function(){var b=this.options.appendTo;if(b&&(b.jquery||b.nodeType)){return $(b);}return this.document.find(b||"body").eq(0);
},_destroy:function(){var c,b=this.originalPosition;if(this.options.draggable&&$.fn.aeDraggable){this.modalContent.aeDraggable("destroy");}if(this.options.resizable&&$.fn.aeResizable){this.modalContent.aeResizable("destroy");}$("#"+this.options.elementId).getNiceScroll().remove();this._untrackInstance();
this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}c=b.parent.children().eq(b.index);if(c.length&&c[0]!==this.element[0]){c.before(this.element);
}else{b.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(f){var e,d=this;if(!this._isOpen||this._trigger("beforeClose",f)===false){return;}this._isOpen=false;this._focusedElement=null;this._untrackInstance();if(!this.opener.filter(":focusable").focus().length){try{e=this.document[0].activeElement;
if(e&&e.nodeName.toLowerCase()!=="body"){$(e).blur();}}catch(c){}}this.uiDialog.removeClass("in");var b=null;if(b!=null){clearTimeout(b);b=null;}b=setTimeout(function(){d._hide(d.uiDialog,d.options.hide,function(){d._trigger("close",f);});if(d.options.popupType!=="div"){d.element.remove();}},150);$(document.body).css("overflow","");
this._resetScrollbar();},_checkScrollbar:function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this._measureScrollbar();},_setScrollbar:function(){var b=parseInt(($(document.body).css("padding-right")||0),10);if(this.bodyIsOverflowing){$(document.body).css("padding-right",b+this.scrollbarWidth);
}},_resetScrollbar:function(){$(document.body).css("padding-right","");},_measureScrollbar:function(){var c=document.createElement("div");c.className="modal-scrollbar-measure";$(document.body).append(c);var b=c.offsetWidth-c.clientWidth;$(document.body)[0].removeChild(c);return b;},isOpen:function(){return this._isOpen;
},moveToTop:function(){this._moveToTop();},_moveToTop:function(f,b){var e=false,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return +$(this).css("z-index");}).get(),c=Math.max.apply(null,d);if(c>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",c+1);e=true;}if(e&&!b){this._trigger("focus",f);
}return e;},open:function(){var b=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}return;}this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1);
}this._show(this.uiDialog,this.options.show,function(){b._trigger("focus");});this._makeFocusTarget();if(this.options.modal){this.modalBackdrop.css("height",this.uiDialog[0].scrollHeight);}b.uiDialog.addClass("in");$(document.body).css("overflow","hidden");$(".modal").scrollTop(0);this._trigger("open");
this._trigger("afterInit",null);this._checkScrollbar();this._setScrollbar();},_focusTabbable:function(){var b=this._focusedElement;if(!b){b=this.element.find("[autofocus]");}if(!b.length){b=this.element.find(":tabbable");}if(!b.length){b=this.uiDialog;}b.eq(0).focus();},_keepFocus:function(b){function c(){var e=this.document[0].activeElement,d=this.uiDialog[0]===e||$.contains(this.uiDialog[0],e);
if(!d){this._focusTabbable();}}b.preventDefault();c.call(this);this._delay(c);},_createWrapper:function(){this.uiDialog=$("<div>").addClass("modal fade").hide().attr({"aria-hidden":false,tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());if(this.options.modal){this.modalBackdrop=$("<div>").addClass("modal-backdrop fade in").prependTo(this.uiDialog);
}this.modalDialog=$("<div>").addClass("modal-dialog").css("width","auto").appendTo(this.uiDialog);this.modalContent=$("<div>").addClass("modal-content").appendTo(this.modalDialog);if(this.options.componentType==="message"){var c=this.modalDialog,b=this.options.messageType;c.addClass("popup-notic-default").removeClass("popup-notic-warning popup-notic-error popup-notic-success");
if(b==="alert"){c.addClass("popup-notic-warning");}if(b==="success"){c.addClass("popup-notic-success");}if(b==="error"){c.addClass("popup-notic-error");}}this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===$.ae.keyCode.ESCAPE){f.preventDefault();
this.close(f);return;}if(f.keyCode!==$.ae.keyCode.TAB||f.isDefaultPrevented()){return;}var e=this.uiDialog.find(":tabbable"),g=e.filter(":first"),d=e.filter(":last");if((f.target===d[0]||f.target===this.uiDialog[0])&&!f.shiftKey){this._delay(function(){g.focus();});f.preventDefault();}else{if((f.target===g[0]||f.target===this.uiDialog[0])&&f.shiftKey){this._delay(function(){d.focus();
});f.preventDefault();}}},mousedown:function(d){if(this._moveToTop(d)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var b;this.uiDialogTitlebar=$("<div>").addClass("modal-header").prependTo(this.modalContent);
this._on(this.uiDialogTitlebar,{mousedown:function(c){if(!$(c.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus();}}});this.uiDialogTitlebarClose=$("<button type='button'>  </button>").addClass("close").attr({"aria-hidden":true}).appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(c){c.preventDefault();
this.close(c);}});$('<h4 class="modal-title">'+this.options.title+"</h4>").appendTo(this.uiDialogTitlebar);if(!this.options.showClose){this.uiDialogTitlebarClose.hide();}},_createButton:function(){var b=this;this.modalFooter=$("<div>").addClass("modal-footer").appendTo(this.modalContent);this.modalCancel=$('<button class="btn btn-default" type="button">'+this.options.cancelButtonText+"</button>").appendTo(this.modalFooter);
this.modalConfirm=$('<button class="btn btn-primary" type="button">'+this.options.confirmButtonText+"</button>").appendTo(this.modalFooter);if(this.options.componentType==="message"){var c=this.options.messageType;this.modalConfirm.text("Ok");if(c==="alert"||c==="success"){this.modalCancel.hide();}if(c==="error"){this.modalConfirm.hide();
}}this._on(this.modalConfirm,{click:function(d){if(b.options.popupType!=="div"){var f=$.aries.page.data._privateArray;if($.isArray(f)&&f.length>0){var e=f[f.length-1];if(typeof e=="function"){e(d);}else{if(e&&e.confirmFunc&&typeof e.confirmFunc=="function"){e.confirmFunc(d,e.id);}}}if($.aries.page.data._textPopPageConfirm&&typeof $.aries.page.data._textPopPageConfirm==="function"){$.aries.page.data._textPopPageConfirm(d);
}}else{b._trigger("confirm",d);}}});this._on(this.modalCancel,{click:function(d){d.preventDefault();this.close(d);}});if(!this.options.showButton){this.modalFooter.hide();}},_title:function(b){if(!this.options.title){b.html("&#160;");}b.text(this.options.title);},_makeDraggable:function(){var d=this,c=this.options;
function b(e){return{position:e.position,offset:e.offset};}this.modalContent.aeDraggable({cancel:".modal-body, .close",handle:".modal-header",containment:"document",start:function(e,f){$(this).addClass("ui-dialog-dragging");d._blockFrames();d._trigger("dragStart",e,b(f));},drag:function(e,f){d._trigger("drag",e,b(f));
},stop:function(e,f){d._trigger("dragStop",e,b(f));}});},_makeResizable:function(){var g=this,e=this.options,f=e.resizable,b=this.modalContent.css("position"),d=typeof f==="string"?f:"n,e,s,w,se,sw,ne,nw";function c(h){return{originalPosition:h.originalPosition,originalSize:h.originalSize,position:h.position,size:h.size};
}this.modalContent.aeResizable({alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:d,start:function(h,i){$(this).addClass("ui-dialog-resizing");g._blockFrames();g._trigger("resizeStart",h,c(i));},resize:function(h,i){g._trigger("resize",h,c(i));
},stop:function(h,i){var l=g.uiDialog.offset(),k=l.left-g.document.scrollLeft(),j=l.top-g.document.scrollTop();e.height=g.uiDialog.height();e.width=g.uiDialog.width();e.position={my:"left top",at:"left"+(k>=0?"+":"")+k+" "+"top"+(j>=0?"+":"")+j,of:g.window};$(this).removeClass("ui-dialog-resizing");g._unblockFrames();
g._trigger("resizeStop",h,c(i));}}).css("position",b);},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=$(b.target);}});},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this);},_untrackInstance:function(){var c=this._trackingInstances(),b=$.inArray(this,c);
if(b!==-1){c.splice(b,1);}},_trackingInstances:function(){var b=this.document.data("ui-dialog-instances");if(!b){b=[];this.document.data("ui-dialog-instances",b);}return b;},_minHeight:function(){var b=this.options;return b.height==="auto"?b.minHeight:Math.min(b.minHeight,b.height);},_position:function(){var b=this.uiDialog.is(":visible");
if(!b){this.uiDialog.show();}this.modalContent.position(this.options.position);if(!b){this.uiDialog.hide();}},_setOptions:function(d){var e=this,c=false,b={};$.each(d,function(f,g){e._setOption(f,g);if(f in e.sizeRelatedOptions){c=true;}if(f in e.resizableRelatedOptions){b[f]=g;}});if(c){this._size();
this._position();}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",b);}},_setOption:function(d,e){var c,f,b=this.uiDialog;if(d==="dialogClass"){b.removeClass(this.options.dialogClass).addClass(e);}if(d==="disabled"){return;}this._super(d,e);if(d==="appendTo"){this.uiDialog.appendTo(this._appendTo());
}if(d==="draggable"){c=b.is(":data(ui-draggable)");if(c&&!e){b.draggable("destroy");}if(!c&&e){this._makeDraggable();}}if(d==="position"){this._position();}if(d==="resizable"){f=b.is(":data(ui-resizable)");if(f&&!e){b.resizable("destroy");}if(f&&typeof e==="string"){b.resizable("option","handles",e);
}if(!f&&e!==false){this._makeResizable();}}},_size:function(){var b,d,e,c=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(c.minWidth>c.width){c.width=c.minWidth;}b=this.modalContent.css({height:"auto",width:c.width}).outerHeight();d=Math.max(0,c.minHeight-b);
e=typeof c.maxHeight==="number"?Math.max(0,c.maxHeight-b):"none";if(c.height==="auto"){this.element.css({minHeight:d,maxHeight:e,height:"auto"});}else{this.element.height(Math.max(0,c.height-b));}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());
}if(!this.element.hasClass("scorll-bar-box")){this.element.addClass("scorll-bar-box");$("#"+this.options.elementId).niceScroll();}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=$(this);return $("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0];
});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(b){if($(b.target).closest(".ui-dialog").length){return true;}return !!$(b.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;
}var b=true;this._delay(function(){b=false;});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(c){if(b){return;}if(!this._allowInteraction(c)){c.preventDefault();this._trackingInstances()[0]._focusTabbable();}}});}this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());
this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1);},_destroyOverlay:function(){if(!this.options.modal){return;}if(this.overlay){var b=this.document.data("ui-dialog-overlays")-1;if(!b){this.document.unbind("focusin").removeData("ui-dialog-overlays");
}else{this.document.data("ui-dialog-overlays",b);}this.overlay.remove();this.overlay=null;}}});});define("ui-advcombo",function(require,exports,moudles){$.aeWidget("ae.aeAdvcombo",{options:{_initial:false,multi:false,width:"auto",height:"auto",inputHeight:60,_maxHeight:300,initData:undefined,_dataMap:"",_niceScroll:false,onSetValue:function(){},onBodyInit:function(b,a){},initType:"html"},_create:function(){var b=this,c=this.options,e=this.element;
if(c._initial===true){return;}if(c.initType==="html"){b._buildOptions(c,e);}e.css("width",c.width).addClass("dropdown group_dropdown");c._id=e.attr("id");this.element.attr("aeId",c._id);if(e.children().length>1){e.children().wrap('<div bodyId="'+c._id+'"></div>');}else{if(e.children.length===0){var d=$.trim(e.html());
if(d){e.empty().prepend('<div bodyId="'+c._id+'">'+d+"</div>");}else{e.empty().prepend('<div bodyId="'+idoptions._id+'"></div>');}}else{e.children().attr("bodyId",c._id);}}if(!$('[bodyId="'+c._id+'"]').parent().is("body")){e.children('[bodyId="'+c._id+'"]').appendTo(document.body);}e.empty();if(c.renderer){e.prepend('<div class="input-icon right"><div class="form-control fx-input" style="height:'+c.inputHeight+'px;"></div><i class="icon-arrowlup-down" style="line-height:'+c.inputHeight+'px;"></i></div>');
}else{if(c.multi){e.prepend('<div class="input-icon right"><i class="icon-arrowlup-down"></i><div class="form-control"><input value="Select please"></div></div>');}else{e.prepend('<div class="input-icon right"><i class="icon-arrowlup-down"></i><input class="form-control"></div>');}}var a=$('[bodyId="'+c._id+'"]');
a.addClass("dropdown-menu");b._trigger("onBodyInit",null,a);b._heightRenderer();c._initial=true;},_heightRenderer:function(){var a=this.options,c=$('[bodyId="'+a._id+'"]');var b=c.outerHeight(true);a._height=a.height==="auto"?b:a.height;a._height=Math.min(a._height,a._maxHeight);if(b>a._height){c.css({"height":a._height});
a._niceScroll=true;}},_buildOptions:function(h,d){h.multi=d.attr("multi")=="true"?true:h.multi;if(h.multi){h._dataMap=[];}h.width=parseInt(d.attr("width"),10)||h.width;h.height=parseInt(d.attr("height"),10)||h.height;h.inputHeight=parseInt(d.attr("inputHeight"),10)||h.inputHeight;var g=$.trim(d.attr("initData"));
if(g&&g.indexOf("{")===0){h.initData={};var j=g.substring(1,g.length-1).split(",");for(var e=0;e<j.length;e++){j[e]=$.trim(j[e]);var c=j[e].split(":");h.initData[c[0]]=c[1];}}else{h.initData=g||undefined;}var a=d.attr("onBodyInit");h.onBodyInit=a?function(k,o){if($.isString(a)){var m=a.indexOf("(");var l=m>0?a.substring(0,m):a;
var n="return window."+l+"?"+l+".call(window, b ,e):false;";return new Function("b","e",n)(k,o);}}:undefined;var f=d.attr("renderer");h.renderer=f?function(){if($.isString(f)){var l=f.indexOf("(");var k=l>0?f.substring(0,l):f;var m="return window."+k+"?"+k+".call(window):false;";return new Function(m)();
}}:undefined;h.renderer?h._template=Handlebars.compile(h.renderer()):null;var b=d.attr("onSetValue");h.onSetValue=b?function(n){if($.isString(b)){var l=b.indexOf("(");var k=l>0?b.substring(0,l):b;var m="return window."+k+"?"+k+".call(window, d):false;";return new Function("d",m)(n);}}:undefined;},_init:function(){var a=this,c=this.options,e=this.element;
var b=e.children(":eq(0)"),d=$('[bodyId="'+c._id+'"]');b.bind("click.header",function(f){if(d.is(":hidden")){d.css({"position":"absolute","left":b.offset().left,"top":b.offset().top+b.outerHeight(),"width":b.outerWidth()});d.show();if(c._niceScroll&&!d.hasClass("scorll-bar-box")){d.addClass("scorll-bar-box");
d.niceScroll();}}});c.initData?a.setValue(c.initData):null;},setValue:function(e){var a=this,c=this.options,f=this.element,b=f.children(":eq(0)");var d=e;if(c.onSetValue){e=c.onSetValue(e);}if(c.renderer){var g=b.children(".fx-input:first");if(!c.multi){g.empty().html($.trim(c._template(e)));c._dataMap=d;
}else{g.html($.trim(c._template(e)));c._dataMap.push(d);}}else{var g=b.find("input");if(!c.multi){g.val(e);c._dataMap=d;}else{g.val("");if($.inArray(d,c._dataMap)===-1){g.before('<span class="label label-info label-as-badge">'+e+'<i class="icon-error2"></i></span>');a._bindCloseEvent(g.prev());c._dataMap.push(d);
}else{b.find(">div.form-control").children("span").each(function(h,i){if($(i).text()==e){$(i).remove();}});c._dataMap.splice($.inArray(d,c._dataMap),1);}}}},getValue:function(){return this.options._dataMap;},getBody:function(){return $('[bodyId="'+this.options._id+'"]');},_bindCloseEvent:function(a){a.find("i.icon-error2").bind("click.close",function(){a.remove();
});},refresh:function(){$('[bodyId="'+this.options._id+'"]').height("auto");this._heightRenderer();}});});define("ui-calendar",function(require,exports,moudles){$.aeWidget("ae.aeCalendar",{options:{enable:true,visible:true,dateFormat:false,showTime:false,weekStart:0,showClear:false,_minViewMode:0,_viewMode:0,_flag:false,timezone:false,timezoneValue:"",isCurrentTime:false,initType:"html"},setValue:function(a){var b;
if(!a){this.element.val("");}else{if(this.options.timezone){a=a+"";a=a.indexOf("T")!=-1?a=a.replace("T"," "):a;if(a.indexOf("+")>9){this.options.timezoneValue=a.substring(a.indexOf("+"),a.length);a=a.substring(0,a.indexOf("+"));}if(a.lastIndexOf("-")>9){this.options.timezoneValue=a.substring(a.lastIndexOf("-"),a.length);
a=a.substring(0,a.lastIndexOf("-"));}}b=this._parseDate(a);if(b){this.options._date=b;this._fillDate();this._fillTime();this._set(b);}}},getValue:function(){var a=this.element.val()||"";if(a&&this.options.timezone){a=a.replace(" ","T");a=a+this.options.timezoneValue;}return a;},clear:function(){this.element.val("");
if(this.options.showClear){this.element.next().hide();}},visible:function(a){if(a===undefined||a===""){a=true;}var b=this.element;if(a===true||a==="true"){b.closest("div.input-group").removeClass("hidden");this.options.visible=true;}if(a===false||a==="false"){b.closest("div.input-group").addClass("hidden");
this.options.visible=false;}},enable:function(b){var a=this;if(b===undefined){b=true;}var c=this.element;if(b===true||b==="true"){this.options.enable=true;c.prop({"readonly":true,"disabled":false}).addClass("form-readonly");c.closest("div.input-group").find(".btn-default").prop("disabled",false);a._attachDatePickerEvents();
if(this.options.showClear){if(c.val()!==""&&typeof(c.val())!="undefined"){c.next().show();}c.next().click(function(){c.val("");$(this).hide();a._trigger("onClear");});}}if(b===false||b==="false"){this.options.enable=false;c.prop({"readonly":false,"disabled":true}).removeClass("form-readonly").off();c.closest("div.input-group").find(".btn-default").prop("disabled",true);
if(c.next().css("display")==="block"){c.next().hide();}}},setStartDate:function(a){var b=this._parseDate(a);if(b){this.options.startDate=b;this._fillDate();}},setEndDate:function(a){var b=this._parseDate(a);if(b){this.options.endDate=b;this._fillDate();}},isDisableTodayBtn:function(c){if(c===true||c==="true"){this.widget.find(">li >div.btn_box >button").hide();
var b=new Date(),a;a=b.getDate();var d=this.widget.find(">li table >tbody >tr >td.active").text();if(a===parseInt(d)){this.widget.find(">li table >tbody >tr >td.active").removeClass("active");}}},_create:function(){var c=this.element,a=this.options;if(a.initType=="html"){this._buildOptions(a,c);}var b=$("<input></input>");
b.attr({"aeType":c.attr("aeType"),"aeId":c.attr("id"),"aeInit":"false","dataField":c.attr("dataField"),"aeValidate":c.attr("aeValidate"),"rules":c.attr("rules")});this.element=b;c.after(b);c.empty().hide();this.element.addClass("form-control").wrap('<div class="input-group"></div>');this.element.after('<span class="input-group-btn"><button class="btn btn-default"><i class="icon-calendar1"></i></button></span>');
},_init:function(){var h=this,a=this.options,e=this.element,i="",j;if(!a.visible){e.closest("div.input-group").addClass("hidden");}if(a.width){e.closest("div.input-group").css("width",a.width);}if(a.showClear&&a.enable){e.wrap('<div class="input-icon right"></div>');$('<i class="icon-error2"></i>').insertAfter(e).hide();
}if(!a.dateFormat){i=(a.showTime?"yyyy-MM-dd hh:mm:ss":"yyyy-MM-dd");}this.format=a.dateFormat||i;h._compileFormat();var d=document.body;var b=$.aries.page.data._getHidedData("ae_popup_Id");if($.isArray(b)){if(b.length===1){j=b[0];d=(j&&j.popupType!=="div")?$("#"+j.elementId):document.body;}if(b.length===2){j=b[1];
d=(j&&j.popupType!=="div")?$("#"+j.elementId):document.body;}}this.widget=$(h._buildTemplate()).appendTo(d);h._fillDow();h._fillMonths();h._fillHours();h._fillMinutes();h._fillSeconds();h._update();h._showMode();h.enable(!!a.enable);if(a.emptyText){this.element.focus(function(){h._refeshEmptyText(a.emptyText);
}).blur(function(){h._refeshEmptyText(a.emptyText);});h._refeshEmptyText(a.emptyText);}if(a.isCurrentTime){var g=new Date(),f=h._UTCDate(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds());h._set(f);}if(a.timezone&&$.aries.config.tenant){var c=$.cookie($.aries.config.tenant.TIMEZONE_KEY);
a.timezoneValue=c||"";}},_buildOptions:function(c,f){var d,e,b=f.attr("onValueChange"),a=f.attr("onClear");c.visible=f.attr("visible")=="false"?false:c.visible;c.enable=f.attr("enable")=="false"?false:c.enable;c.dateFormat=f.attr("dateFormat")||c.dateFormat;c.showTime=f.attr("showTime")=="true"?true:c.showTime;
c.weekStart=f.attr("weekStart")?parseInt(f.attr("weekStart")):c.weekStart;c.startDate=f.attr("startDate");c.endDate=f.attr("endDate");c.emptyText=f.attr("emptyText");c.width=f.attr("width");c.showClear=f.attr("showClear")=="true"?true:c.showClear;c.timezone=f.attr("timezone")=="true"?true:c.timezone;
c.isCurrentTime=f.attr("isCurrentTime")=="true"?true:c.isCurrentTime;if(b&&typeof(b)==="string"){d=b.indexOf("(");e=(d>0)?b.substring(0,d):b;}c.onValueChange=(typeof(window[e])==="function")?window[e]:"";e="";if(a&&typeof(a)==="string"){d=a.indexOf("(");e=(d>0)?a.substring(0,d):a;}c.onClear=(typeof(window[e])==="function")?window[e]:"";
},_refeshEmptyText:function(a){var b=this.element;if(!a){return;}if(b.prop("placeholder")===""){b.prop("placeholder",a);}else{if(b.prop("placeholder")===a){b.prop("placeholder","");}}},_show:function(i){var d=$.aries.page.data._getHidedData("ae_popup_Id"),m="";if($.isArray(d)){if(d.length===1){m=d[0];
}if(d.length===2){m=d[1];}}var c,j;var f=this.element.offset();if(m&&m.popupType!=="div"){var b=$("#"+m.elementId).offset();c=f.top+this.element.outerHeight()-b.top;j=f.left-b.left;}else{c=f.top+this.element.outerHeight();j=f.left;var g=f;var a=$(window).height();var h=$(window).scrollTop();var k=this.widget.outerHeight();
var l=this.element.outerHeight();if(f.top+l+k>h+a){c=f.top-k;}}this.widget.show().css({position:"absolute",top:c,left:j,right:"auto"});this.element.trigger({type:"show.aries",date:this.options._date});this._attachDatePickerGlobalEvents();if(i){i.stopPropagation();i.preventDefault();}},_hide:function(){var a=this;
this.widget.hide();this.options._viewMode=0;a._showMode();this.element.trigger({type:"hide.aries",date:this.options._date});a._detachDatePickerGlobalEvents();},_detachDatePickerGlobalEvents:function(){$(document).off("mousedown.aeCalendar");},_showMode:function(a){if(a){this.options._viewMode=Math.max(this.options._minViewMode,Math.min(2,this.options._viewMode+a));
}this.widget.find(".datepicker > div").hide().filter(".datepicker-"+$.aeCalendar.modes[this.options._viewMode].clsName).show();if(this.options.showTime){if(this.options._viewMode===0){this.widget.find(".datepicker > div.datepicker-time").show();}}if(this.options._viewMode!==0){this.widget.find(".btn_box").hide();
}else{this.widget.find(".btn_box").show();}},_attachDatePickerGlobalEvents:function(){$(document).on("mousedown.aeCalendar",$.proxy(this._hide,this));},_stopEvent:function(a){a.stopPropagation();a.preventDefault();},_attachDatePickerEvents:function(){var a=this;this.widget.on("click",".datepicker *",$.proxy(a._click,this));
this.widget.on("mousedown.aeCalendar",$.proxy(a._stopEvent,this));this.element.on("click",$.proxy(a._show,this)).closest("div.input-group").find("span.input-group-btn").off().on("click",function(){a.element.trigger("click");});this.widget.find("div.btn_box >button.btn-default").on("click",function(){var b=new Date();
a.options._date=a._UTCDate(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds());a._fillDate();a._fillTime();a._set(a.options._date);a._notifyChange();a._hide();});this.widget.find(".datepicker-time > ul").on("mousedown.aeCalendar",$.proxy(a._stopEvent,this));
this.widget.on("mousedown.aeCalendar",this.globalEvent=function(){a.widget.find(".datepicker-time > ul").hide();});},_set:function(d){var c="";if(!this._unset){c=this._formatDate(d);}var a=this.element,b=a.val(),e=true;a.val(c);this._resetMaskPos(a);this.element.data("date",c);if(c==b){e=false;}if(this.options.onValueChange&&e){this._trigger("onValueChange",null,a);
}if(this.options.showClear){this.element.next().show();}},_resetMaskPos:function(a){var c=a.val();for(var b=0;b<this._mask.length;b++){if(this._mask[b].end>c.length){this._maskPos=b;break;}else{if(this._mask[b].end===c.length){this._maskPos=b+1;break;}}}},_formatDate:function(b){var a=this;return this.format.replace($.aeCalendar.formatReplacer(),function(e){var d,f,g,c=e.length;
if(e==="ms"){c=1;}f=$.aeCalendar.dateFormatComponents[e].property;if(f==="Hours12"){g=b.getUTCHours();if(g===0){g=12;}else{if(g!==12){g=g%12;}}}else{if(f==="Period12"){if(b.getUTCHours()>=12){return"PM";}else{return"AM";}}else{if(f==="UTCYear"){g=b.getUTCFullYear();g=g.toString().substr(2);}else{d="get"+f;
g=b[d]();}}}if(d==="getUTCMonth"){g=g+1;}return a._padLeft(g.toString(),c,"0");});},_padLeft:function(b,a,d){if(a<b.length){return b;}else{return Array(a-b.length+1).join(d||" ")+b;}},_click:function(i){var o=this,j,k,n,m;i.stopPropagation();i.preventDefault();this._unset=false;j=$(i.target).closest("span, td, th");
if(j.length===1){if(!j.is(".disabled")){switch(j[0].nodeName.toLowerCase()){case"th":switch(j[0].className){case"switch":if(j[0].colSpan===2||j[0].colSpan===5){this._showMode(1);}if(j[0].colSpan===3){this._showMode(2);this.options._flag=true;}break;case"prev":case"next":var l=this.options._viewDate;var b=$.aeCalendar.modes[this.options._viewMode].navFnc;
var c=$.aeCalendar.modes[this.options._viewMode].navStep;if(j[0].className==="prev"){c=c*-1;}l["set"+b](l["get"+b]()+c);this._fillDate();break;}break;case"span":if(j.is(".month")){k=j.parent().find("span").index(j);this.options._viewDate.setUTCMonth(k);}if(j.is(".year")){m=parseInt(j.text(),10)||0;this.options._viewDate.setUTCFullYear(m);
}if(j.is(".input-group-btn")){var d=j.prev().offset();var f=this.widget.find(".datepicker-time > ul").hide();var h=f.filter("[data-time-component="+j.attr("data-time-component")+"]");h.show().css({top:d.top-this.widget.offset().top-162,left:d.left-this.widget.offset().left-1,right:"auto"}).find("a").mousedown(function(){o._backfill(this);
});var g=j.prev().val();h.find("li").removeClass("current").find(">i.fa-check").remove();if(g!==undefined&&g!==""){h.find("a").each(function(){if($(this).text()===g){$(this).parent().addClass("current").prepend('<i class="fa fa-check"></i>');}});}return;}if(this.options._viewMode!==0){this.options._date=this._UTCDate(this.options._viewDate.getUTCFullYear(),this.options._viewDate.getUTCMonth(),this.options._viewDate.getUTCDate(),this.options._date.getUTCHours(),this.options._date.getUTCMinutes(),this.options._date.getUTCSeconds(),this.options._date.getUTCMilliseconds());
this._notifyChange();}if(this.options._flag){this._showMode(-2);this.options._flag=false;}else{this._showMode(-1);}this._fillDate();break;case"td":if(j.is(".day")){n=parseInt(j.text(),10)||1;k=this.options._viewDate.getUTCMonth();m=this.options._viewDate.getUTCFullYear();if(j.is(".old")){if(k===0){k=11;
m-=1;}else{k-=1;}}else{if(j.is(".new")){if(k==11){k=0;m+=1;}else{k+=1;}}}var a=this._UTCDate(m,k,n,this.options._date.getUTCHours(),this.options._date.getUTCMinutes(),this.options._date.getUTCSeconds(),this.options._date.getUTCMilliseconds());if(this.options.showTime&&this._isDaylightSavingTime()){if(this._isInDaylightSavingTime(a)){return;
}}this.options._date=a;this.options._viewDate=this._UTCDate(m,k,Math.min(28,n),0,0,0,0);this._fillDate();this._set(this.options._date);this._notifyChange();if(!this.options.showTime){this._hide();}}break;}}}},_backfill:function(d){if(d.length===0){return;}var f=this.widget.find(".datepicker-time > ul").filter(function(){if($(this).css("display")=="block"){return $(this);
}});f.find("a").parent().removeClass("current").find(">i.fa-check").remove();$(d).parent().addClass("current").prepend('<i class="fa fa-check"></i>');var e=f.find("li[class*=current] >a"),c=parseInt(e.text(),10);f.hide();var b=(this.options._date).toString();var a=new Date(b);if(f.attr("data-time-component")==="hours"){a.setUTCHours(c);
}if(f.attr("data-time-component")==="minutes"){a.setUTCMinutes(c);}if(f.attr("data-time-component")==="seconds"){a.setUTCSeconds(c);}if(this.options.showTime&&this._isDaylightSavingTime()){if(this._isInDaylightSavingTime(a)){return;}}this.options._date=a;this._set(this.options._date);this._fillTime();
this._notifyChange();},_notifyChange:function(){this.element.trigger({type:"changeDate",date:this._getDate(),localDate:this._getLocalDate()});},_getLocalDate:function(){if(this._unset){return null;}var a=this.options._date;return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds());
},_getDate:function(){if(this._unset){return null;}return new Date(this.options._date.valueOf());},_update:function(a){var c=a,b=this,e=this.element,f=this.options;if(!c){c=e.val();if(c){f._date=b._parseDate(c);}if(!f._date){var d=new Date();f._date=b._UTCDate(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds());
}}f._viewDate=b._UTCDate(f._date.getUTCFullYear(),f._date.getUTCMonth(),1,0,0,0,0);b._fillDate();b._fillTime();},_fillDow:function(){var a=this.options.weekStart;var b=$("<tr>");while(a<this.options.weekStart+7){b.append('<th class="dow">'+$.aeCalendar.daysMin[(a++)%7]+"</th>");}this.widget.find(".datepicker-days thead").append(b);
},_fillMonths:function(){var b="",a=0;while(a<12){b+='<span class="month">'+$.aeCalendar.monthsShort[a++]+"</span>";}this.widget.find(".datepicker-months td").append(b);},_fillDate:function(){var m=this,q,l=this.options,j=l._date,h=l._viewDate.getUTCFullYear(),u=l._viewDate.getUTCMonth(),t=new Date(),e=m._UTCDate(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),0,0,0,0),f=m._UTCDate(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0,0);
if(typeof l.startDate==="string"){l.startDate=m._parseDate(l.startDate);}if(typeof l.endDate==="string"){l.endDate=m._parseDate(l.endDate);}var n=typeof l.startDate==="object"?l.startDate.getUTCFullYear():-Infinity;var s=typeof l.startDate==="object"?l.startDate.getUTCMonth():-1;var d=typeof l.endDate==="object"?l.endDate.getUTCFullYear():Infinity;
var o=typeof l.endDate==="object"?l.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled");
var r=this.widget.find(".datepicker-days th:eq(1)");r.text($.aeCalendar.months[u]);r.next().text(h);var w=m._UTCDate(h,u-1,28,0,0,0,0);var p=$.aeCalendar.getDaysInMonth(w.getUTCFullYear(),w.getUTCMonth());w.setUTCDate(p);w.setUTCDate(p-(w.getUTCDay()-l.weekStart+7)%7);if((h==n&&u<=s)||h<n){this.widget.find(".datepicker-days th:eq(0)").addClass("disabled");
}if((h==d&&u>=o)||h>d){this.widget.find(".datepicker-days th:eq(3)").addClass("disabled");}var a=new Date(w.valueOf());a.setUTCDate(a.getUTCDate()+42);a=a.valueOf();var g=[];var b;var k;while(w.valueOf()<a){if(w.getUTCDay()===l.weekStart){b=$("<tr>");g.push(b);}k="";if(w.getUTCFullYear()<h||(w.getUTCFullYear()==h&&w.getUTCMonth()<u)){k+=" old";
}else{if(w.getUTCFullYear()>h||(w.getUTCFullYear()==h&&w.getUTCMonth()>u)){k+=" new";}}if(w.valueOf()===e.valueOf()){k+=" active";}if(w.valueOf()===f.valueOf()){if(k!==" active"){k+=" today";}}if((w.valueOf()+86400000)<=l.startDate){if(k===" active"){k="";}k+=" disabled";}if(w.valueOf()>l.endDate){k+=" disabled";
}b.append('<td class="day'+k+'">'+w.getUTCDate()+"</td>");w.setUTCDate(w.getUTCDate()+1);}this.widget.find(".datepicker-days tbody").empty().append(g);var x=j.getUTCFullYear();var c=this.widget.find(".datepicker-months").find("th:eq(1)").text(h).end().find("span").removeClass("active");if(x===h){c.eq(j.getUTCMonth()).addClass("active");
}if(x-1<n){this.widget.find(".datepicker-months th:eq(0)").addClass("disabled");}if(x+1>d){this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");}for(q=0;q<12;q++){if((h==n&&s>q)||(h<n)){$(c[q]).addClass("disabled");}else{if((h==d&&o<q)||(h>d)){$(c[q]).addClass("disabled");}}}g="";h=parseInt(h/10,10)*10;
var v=this.widget.find(".datepicker-years").find("th:eq(1)").text(h+"-"+(h+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled");if(n>h){this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled");}if(d<h+9){this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled");
}h-=1;for(q=-1;q<11;q++){g+='<span class="year'+(q===-1||q===10?" old":"")+(x===h?" active":"")+((h<n||h>d)?" disabled":"")+'">'+h+"</span>";h+=1;}v.html(g);},_fillTime:function(){var b=this.options._date;if(!b){return;}var e=this.widget.find(".datepicker-time input[data-time-component]");var a=this._padLeft(b.getUTCHours().toString(),2,"0");
var d=this._padLeft(b.getUTCMinutes().toString(),2,"0");var c=this._padLeft(b.getUTCSeconds().toString(),2,"0");e.filter("[data-time-component=hours]").val(a);e.filter("[data-time-component=minutes]").val(d);e.filter("[data-time-component=seconds]").val(c);},_fillHours:function(){var f=this.widget.find(".datepicker-time div.input-group"),b='<ul class="dropdown-menu thin-scroll" id="'+this.element.attr("aeId")+'_hours" data-time-component="hours" style="height:160px;width:64px;overflow-y:auto">',d=0,a;
for(a=0;a<24;a+=1){var e=d.toString();b+='<li><a href="#">'+this._padLeft(e,2,"0")+"</a></li>";d++;}b+="</ul>";$(f[0]).next().after(b);$("#"+this.element.attr("aeId")+"_hours").niceScroll();},_fillMinutes:function(){var f=this.widget.find(".datepicker-time div.input-group"),b='<ul class="dropdown-menu thin-scroll" id="'+this.element.attr("aeId")+'_minutes" data-time-component="minutes" style="height:160px;width:64px;overflow-y:auto">',d=0,a;
for(a=0;a<60;a+=1){var e=d.toString();b+='<li><a href="#">'+this._padLeft(e,2,"0")+"</a></li>";d++;}b+="</ul>";$(f[1]).next().after(b);$("#"+this.element.attr("aeId")+"_minutes").niceScroll();},_fillSeconds:function(){var f=this.widget.find(".datepicker-time div.input-group"),b='<ul class="dropdown-menu thin-scroll" id="'+this.element.attr("aeId")+'_seconds" data-time-component="seconds" style="height:160px;width:64px;overflow-y:auto">',d=0,a,e;
for(a=0;a<60;a+=1){e=d.toString();b+='<li><a href="#">'+this._padLeft(e,2,"0")+"</a></li>";d++;}b+="</ul>";$(f[2]).after(b);$("#"+this.element.attr("aeId")+"_seconds").niceScroll();},_buildTemplate:function(){return('<div class="datetimepicker-widget dropdown-menu">'+'<li class="collapse in">'+'<div class="datepicker">'+$.aeCalendar.template()+"</div>"+'<div class="btn_box">'+'<button class="btn btn-default">Today</button>'+"</div>"+"</li>"+"</div>");
},_compileFormat:function(){var k=this,d,h,e=[],l=[],f=k.format,c={},b=0,g=0,a=$.aeCalendar.formatComponent(),j=$.aeCalendar.dateFormatComponents;while(d=a.exec(f)){h=d[0];if(h in j){b++;c[b]=j[h].property;e.push("\\s*"+j[h].getPattern(this)+"\\s*");l.push({pattern:new RegExp(j[h].getPattern(this)),property:j[h].property,start:g,end:g+=h.length});
}else{e.push(k._escapeRegExp(h));l.push({pattern:new RegExp(k._escapeRegExp(h)),character:h,start:g,end:++g});}f=f.slice(h.length);}this._mask=l;this._maskPos=0;this._formatPattern=new RegExp("^\\s*"+e.join("")+"\\s*$");this._propertiesByIndex=c;},_escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");
},_parseDate:function(g){var c,d,f,b,e,a={};if(!(c=this._formatPattern.exec(g))){return null;}for(d=1;d<c.length;d++){f=this._propertiesByIndex[d];if(!f){continue;}e=c[d];if(/^\d+$/.test(e)){e=parseInt(e,10);}a[f]=e;}return this._finishParsingDate(a);},_finishParsingDate:function(b){var f,g,d,a,e,h,c;
f=b.UTCFullYear;if(b.UTCYear){f=2000+b.UTCYear;}if(!f){f=1970;}if(b.UTCMonth){g=b.UTCMonth-1;}else{g=0;}d=b.UTCDate||1;a=b.UTCHours||0;e=b.UTCMinutes||0;h=b.UTCSeconds||0;c=b.UTCMilliseconds||0;if(b.Hours12){a=b.Hours12;}if(b.Period12){if(/pm/i.test(b.Period12)){if(a!=12){a=(a+12)%24;}}else{a=a%12;}}return this._UTCDate(f,g,d,a,e,h,c);
},_UTCDate:function(){return new Date(Date.UTC.apply(Date,arguments));},_isDaylightSavingTime:function(){var a=false;if(this.options.timezone&&this.options.timezoneValue){switch(this.options.timezoneValue){case"+0000":a=true;break;case"+1000":a=true;break;default:break;}}return a;},_isInDaylightSavingTime:function(b){var e=this._formatDate(b);
var d=new Date(e);var c=31-d.getDate();var a=$("div[aria-describedby*=messagebox_div]");if((d.getMonth()+1)==3&&d.getDay()==0&&c<7&&d.getHours()==2){if(!a.length){$.message.alert("","The last Sunday in March between 02:00:00 and 02:59:59 can not be selected!");}return true;}return false;},_destroy:function(){this.widget.remove();
this.widget=null;}});$.aeCalendar=$.aeCalendar||{};$.extend($.aeCalendar,{dateFormatComponents:{dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b";}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b";}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b";
}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b";}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b";}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b";}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b";
}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b";}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b";}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b";}}},formatComponent:function(){var b=[];for(var a in $.aeCalendar.dateFormatComponents){b.push(a);
}b[b.length-1]+="\\b";b.push(".");return new RegExp(b.join("\\b|"));},formatReplacer:function(){var b=[];for(var a in $.aeCalendar.dateFormatComponents){b.push(a);}b[b.length-1]+="\\b";b.push(".");b.pop();return new RegExp(b.join("\\b|"),"g");},isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0));
},getDaysInMonth:function(a,b){return[31,($.aeCalendar.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b];},getHeadTemplate:function(){return("<thead>"+"<tr>"+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+"</tr>"+"</thead>");},getContTemplate:function(){return'<tbody><tr><td colspan="7"></td></tr></tbody>';
},template:function(){return('<div class="datepicker-days">'+'<table class="table-condensed">'+"<thead>"+"<tr>"+'<th class="prev">&lsaquo;</th>'+'<th colspan="2" class="switch"></th>'+'<th colspan="3" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+"</tr>"+"</thead>"+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+$.aeCalendar.getHeadTemplate()+$.aeCalendar.getContTemplate()+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+$.aeCalendar.getHeadTemplate()+$.aeCalendar.getContTemplate()+"</table>"+"</div>"+'<div class="datepicker-time">'+'<div class="input-group">'+'<input type="text" class="form-control" maxlength="3" data-time-component="hours">'+'<span class="input-group-btn" data-time-component="hours"><button type="button" class="btn btn-default btn-sm"><i class="fa fa-sort"></i></button></span>'+"</div>"+"<span></span>"+'<div class="input-group">'+'<input type="text" class="form-control" maxlength="3" data-time-component="minutes">'+'<span class="input-group-btn" data-time-component="minutes"><button type="button" class="btn btn-default btn-sm"><i class="fa fa-sort"></i></button></span>'+"</div>"+"<span></span>"+'<div class="input-group">'+'<input type="text" class="form-control" maxlength="3" data-time-component="seconds">'+'<span class="input-group-btn" data-time-component="seconds"><button type="button" class="btn btn-default btn-sm"><i class="fa fa-sort"></i></button></span>'+"</div>"+"</div>");
},modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
});define("ui-checkbox",function(require,exports,moudles){$.aeWidget("ae.aeCheckbox",{options:{isHorizontal:true,multiSeparator:",",enable:true,visible:true,labelField:"text",valueField:"value",initType:"html"},_create:function(){var a=this.options,b=this.element,c=b.attr("id");if(a.initType=="html"){this._buildOptions(a,b);
}if(c){b.attr("aeId",c);}b.hide();},_init:function(){var a=this,b=a.options,c=b.dataSource,d=a.element;b.aeType?d.attr("aeType",b.aeType):d.attr("aeType","aeCheckbox");if(c&&typeof c=="string"){c=$.parseJSON(c);a.reload(c);}},_buildOptions:function(b,c){b.isHorizontal=c.attr("isHorizontal")=="false"?false:b.isHorizontal;
b.multiSeparator=c.attr("multiSeparator")||b.multiSeparator;b.enable=c.attr("enable")=="false"?false:b.enable;b.visible=c.attr("visible")=="false"?false:b.visible;b.aeType=c.attr("aeType");b.labelField=c.attr("labelField")||b.labelField;b.valueField=c.attr("valueField")||b.valueField;b.dataSource=c.attr("dataSource");
var a=c.attr("onSelect");b.onSelect=a?function(g){if($.isString(a)){var e=a.indexOf("(");var d=e>0?a.substring(0,e):a;var f="return window."+d+"?"+d+".call(window,e):false;";return new Function("e",f)(g);}}:b.onSelect;},_bindEvent:function(){var a=this,c=a.options.onSelect,b=a._getAllOptions();b.off("click.aeCheckbox").on("click.aeCheckbox",function(d){d.preventDefault();
d.stopPropagation();d.cancelBubble=true;$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked");if(c){if(c){a._trigger("onSelect",null,d);}}});},getValue:function(){var c=this.options,b=this._getAllOptions(),a=[];b.each(function(){if($(this).hasClass("checked")){a.push(""+$(this).prev().val());
}});return a.join(c.multiSeparator);},setValue:function(f){if(typeof f==="undefined"||f===""||f==null){return;}var h=this,b=h.element,j=h.options,g=[],a=$.data(b,"allValues"),e=h._getAllOptions();e.removeClass("checked");g=f.split(j.multiSeparator);for(var c=0;c<g.length;c++){var d=a?a.indexOf(g[c]):-1;
if(d>-1){if(!$(e[d]).hasClass("disabled")){$(e[d]).addClass("checked");}}}},getDisplayText:function(){var c=this.options,b=this._getAllOptions(),a=[];b.each(function(){if($(this).hasClass("checked")){a.push(""+$(this).text());}});return a.join(c.multiSeparator);},clear:function(){this._getAllOptions().removeClass("checked");
},reload:function(a){this._loadData(a);if(!this.options.visible){this.element.nextAll(".ckbox").addClass("hidden");}!this.options.enable?this.enable(false):this.enable(true);},enable:function(e){if(e===undefined){e=true;}var b=this,d=b.options,c=d.enable,a=b._getAllOptions();if(e===true||e==="true"){a.removeClass("disabled");
c=true;this._bindEvent();}if(e===false||e==="false"){a.addClass("disabled").off("click.aeCheckbox");c=false;}},visible:function(a){if(a===undefined){a=true;}var c=this.element,b=this.options.visible;if(a===true||a==="true"){c.nextAll(".ckbox").removeClass("hidden");b=true;}if(a===false||a==="false"){c.nextAll(".ckbox").addClass("hidden");
b=false;}},_loadData:function(d){var c=this,e=c.element,b="",a=[];if(e.nextAll(".ckbox").length>0){e.nextAll(".ckbox").remove();}$(d).each(function(f,g){b+=c._wrapText(g);a.push(""+g[c.options.valueField]);});$(b).insertAfter(e);$.data(e,"allValues",a);},_getAllOptions:function(){return this.element.nextAll(".ckbox").find(">label");
},_wrapText:function(a){return'<div class="ckbox ckbox-default '+(this.options.isHorizontal?"ckbox_horizontal":"")+'"><input type="checkbox" id="'+a[this.options.valueField]+'" value="'+a[this.options.valueField]+'"/><label for="'+a[this.options.valueField]+'" class="'+(a.checked?"checked":"")+" "+(a.disabled?"disabled":"")+'">'+a[this.options.labelField]+"</label></div>";
}});});define("ui-combo",function(require,exports,moudles){$.aeWidget("ae.aeCombo",{options:{optionLabel:"",optionField:"text",valueField:"value",enable:true,visible:true,listMaxHeight:300,multi:false,multiSeparator:",",showClear:false,initType:"html",_keyIndex:-1,_scrollTop:-28,editable:false,onValueChange:null},reload:function(data){var self=this,inputEl=self.textInput,valueEl=self.element;
self.options.value="";valueEl.val("");inputEl.val("");self._loadData(data);},getValue:function(){var value=this.element.val();return value?value:"";},setValue:function(value){this._setValue(value+"");return this;},setDefault:function(value){this._flag=true;this._setValue(value+"");this._flag=false;return this;
},getDisplayText:function(){var value=this.textInput.val();return value?value:"";},clear:function(){var self=this,inputEl=self.textInput,valueEl=self.element;self.options.value="";if(self.options.multi){valueEl.parent().find(">span").remove();if(self.options.emptyText){$('<em class="label-tip">'+self.options.emptyText+"</em>").prependTo(valueEl.parent()).width(valueEl.parent().width()-12);
}}valueEl.val("");inputEl.val("");if(!self.options.multi&&self.options.showClear){if(valueEl.prevAll().is(".icon-error2")){valueEl.prevAll(".icon-error2").hide();}}},visible:function(value){if(value===undefined){value=true;}var $ele=this.element;if(value===true||value==="true"){$ele.closest("div.input-icon").removeClass("hidden");
this.options.visible=true;}if(value===false||value==="false"){$ele.closest("div.input-icon").addClass("hidden");this.options.visible=false;}},enable:function(value){var self=this,labelInfo,textInput=this.textInput,val=this.element.val(),valueEl=this.element;if(value===undefined){value=true;}if(value===true||value==="true"){this.options.enable=true;
if(!self.options.multi){textInput.prop({"readonly":true,"disabled":false}).addClass("form-readonly");if(self.options.showClear){if(this.element.prevAll().is(".icon-error2")&&(val!==""&&typeof(val)!="undefined")){this.element.prevAll(".icon-error2").show();}}}else{textInput.prop("disabled",false);labelInfo=valueEl.parent().find(">span.label-info");
if(labelInfo.length>0){labelInfo.find(">i.icon-error2").on("click",function(){var arr=[],s="";$(this).parent().remove();valueEl.parent().find(">span.label-info").each(function(){arr.push($(this).attr("value"));});s=arr.join(self.options.multiSeparator);valueEl.val(s);self.options.value=s;});}}}if(value===false||value==="false"){this.options.enable=false;
if(!self.options.multi){textInput.prop({"readonly":false,"disabled":true}).removeClass("form-readonly");if(self.options.showClear){if(this.element.prevAll().is(".icon-error2")&&(val!==""&&typeof(val)!="undefined")){this.element.prevAll(".icon-error2").hide();}}}else{textInput.prop("disabled",true);labelInfo=valueEl.parent().find(">span.label-info");
if(labelInfo.length>0){labelInfo.find(">i.icon-error2").off();}}}},_init:function(){var options=this.options,inputEl=this.textInput,source=options.dataSource,valueEl=this.element,self=this;this._flag=false;if(!options.labelField){options.labelField=options.optionField;}if(!options.visible){valueEl.closest("div.input-icon").addClass("hidden");
}this.enable(!!options.enable);if(options.width){valueEl.parents(".input-icon").css("width",options.width);}this._refeshEmptyText(options.emptyText);if(options.multi&&options.emptyText){$('<em class="label-tip">'+options.emptyText+"</em>").prependTo(valueEl.parent()).width(valueEl.parent().width()-12);
}if(options.showClear&&!options.multi){var div=valueEl.closest("div.input-icon");div.addClass("comboxclear");$('<i class="icon-error2"></i>').prependTo(div).on("click",function(event){var oldValue=valueEl.val();options.value="";inputEl.val("");valueEl.val("");$(this).hide();if(oldValue!==""){self._trigger("onValueChange",null,event);
}}).hide();}if(options.optionLabel){var _$wrap=valueEl.closest("div.input-icon");_$wrap.prepend('<span class="text-muted optionLabel">'+options.optionLabel+"</span>");var _$label=_$wrap.find("span.optionLabel");_$label.css({"position":"absolute","line-height":"32px","left":"10px"});var _width=_$label.width()||0;
if(_width===0){_width=(_$wrap.find("span.optionLabel").text().length)*6.4;_width=Math.ceil(_width);}_$wrap.find("input").css("padding-left",(_width+15)+"px");}if(source&&typeof source=="string"){source=$.parseJSON(source);this.reload(source);}this._bindEvent();if(valueEl.attr("value")){this.setValue(valueEl.attr("value"));
this._flag=true;}if(valueEl.attr("defaultValue")){this.setValue(valueEl.attr("defaultValue"));}if(options.editable){inputEl.prop({"readonly":false}).removeClass("form-readonly");}},_create:function(){var valueEl=this.element,options=this.options,$dlg=this.element.parents(".modal-content"),obj,ss;if(options.initType=="html"){this._buildOptions(options,valueEl);
}obj=$("<input></input>");obj.attr({"aeType":valueEl.attr("aeType"),"aeId":valueEl.attr("id"),"aeInit":false,"dataField":valueEl.attr("dataField"),"aeValidate":valueEl.attr("aeValidate"),"rules":valueEl.attr("rules"),"value":valueEl.attr("value"),"defaultValue":valueEl.attr("defaultValue")});this.element=obj;
valueEl.after(obj);valueEl.empty().hide();this.element.wrap('<div class="input-icon right"></div>');$('<i class="icon-arrowlup-down"></i>').insertBefore(this.element);if(options.multi){this.element.wrap('<div class="form-control"></div>');}this.textInput=this.element.clone().attr({"id":"COMBO_INPUT_TEXT_"+this.element.attr("aeId"),"aeInit":false}).removeAttr("dataField").insertAfter(this.element);
obj=document.body;var popupArray=$.aries.page.data._getHidedData("ae_popup_Id");if($.isArray(popupArray)){if(popupArray.length===1){ss=popupArray[0];obj=(ss&&ss.popupType!=="div")?$("#"+ss.elementId):document.body;}if(popupArray.length===2){ss=popupArray[1];obj=(ss&&ss.popupType!=="div")?$("#"+ss.elementId):document.body;
}}this.dropList=$('<ul class="dropdown-menu dropdown-menu-hover" role="menu" id="'+this.element.attr("aeId")+'_scrollbar">').appendTo(obj).hide();if(!options.multi){this.textInput.addClass("form-control");}this.element.hide();},_buildOptions:function(options,valueEl){options.enable=valueEl.attr("enable")=="false"?false:options.enable;
options.visible=valueEl.attr("visible")=="false"?false:options.visible;options.emptyText=valueEl.attr("emptyText");options.listMaxHeight=parseInt(valueEl.attr("listMaxHeight"))||options.listMaxHeight;options.multi=valueEl.attr("multi")=="true"?true:options.multi;options.multiSeparator=valueEl.attr("multiSeparator")||options.multiSeparator;
options.labelField=valueEl.attr("labelField");options.optionField=valueEl.attr("optionField")||options.optionField;options.valueField=valueEl.attr("valueField")||options.valueField;options.showClear=valueEl.attr("showClear")=="true"?true:options.showClear;options.dataSource=valueEl.attr("dataSource");
options.aeType=valueEl.attr("aeType");options.width=valueEl.attr("width");options.value=valueEl.attr("value");options.optionLabel=valueEl.attr("optionLabel")||options.optionLabel;options.editable=valueEl.attr("editable")=="true"?true:options.editable;this._buildOptionsEvent(options,valueEl);},_buildOptionsEvent:function(options,valueEl){var onValueChange=valueEl.attr("onValueChange")||options.onValueChange,onClick=valueEl.attr("onClick")||"",i,funName="";
this._buildCommonEvent(options,"labelField",options.labelField);this._buildCommonEvent(options,"optionField",options.optionField);this._buildCommonEvent(options,"valueField",options.valueField);if($.isString(onValueChange)){options.onValueChange=onValueChange?function(target,newValue,oldValue){var i=onValueChange.indexOf("(");
var actName=i>0?onValueChange.substring(0,i):onValueChange;var func="return window."+actName+"?"+actName+".call(window,t,n,o):false;";return new Function("t","n","o",func)(target,newValue,oldValue);}:function(target,newValue,oldValue,event){};}funName="";if(onClick&&typeof(onClick)==="string"){i=onClick.indexOf("(");
funName=(i>0)?onClick.substring(0,i):onClick;}options.onClick=(typeof(window[funName])==="function")?window[funName]:"";},_buildCommonEvent:function(ops,evtName,evtValue){var i,funName=evtValue;if(funName&&typeof(funName)==="string"){i=funName.indexOf("(");if(i>0){funName=funName.substring(0,i);ops[evtName]=eval(funName);
}}},_bindEvent:function(){var self=this,options=self.options,valueEl=self.element,dropList=self.dropList,emptyText=options.emptyText;input=self.textInput;input.focus(function(event){self._refeshEmptyText(emptyText);if(self.options.multi&&options.emptyText){var em=self.element.parent().find(">em");if(em.length>0){em.remove();
}}if(options.onClick){self._trigger("onClick",null,event);}self._showDropList();}).blur(function(){self._refeshEmptyText(emptyText);if(!self.options.multi&&options.emptyText){options._keyIndex=-1;}if(self.options.multi&&options.emptyText){var span=self.element.parent().find(">span");if(span.length<=0){$('<em class="label-tip">'+self.options.emptyText+"</em>").prependTo(self.element.parent()).width(self.element.parent().width()-12);
}}$(document).off("keydown");});if(!options.editable){input.keydown(function(e){var evt=e||window.event,curKey=evt.keyCode||evt.charCode||evt.which,hoverColor="#EDF1F2",curDropList=$("ul.dropdown-menu").not(":hidden"),curDropListItems=curDropList.children("li"),curDropListItemHeight=curDropListItems.eq(0).height(),allScrollTop=(curDropListItems.eq(0).height()*curDropListItems.size())-(curDropList.innerHeight()-10);
$(document).on("keydown",function(e){e.stopPropagation();e.preventDefault();});if(curKey===40||curKey===38){curDropListItems.each(function(i,listItem){$(listItem).css("background-color","transparent");$(listItem).removeClass("item-selected");});}if(curKey===40){if(options._keyIndex===curDropListItems.size()-1){options._keyIndex=-1;
curDropListItems.eq(0).css("background-color",hoverColor).addClass("item-selected");if(curDropList.hasClass("scorll-bar-box")){curDropList.getNiceScroll(0).doScrollTop(0,100);options._scrollTop=0-curDropListItemHeight;}return false;}curDropListItems.eq(++options._keyIndex).css("background-color",hoverColor).addClass("item-selected");
if(curDropList.hasClass("scorll-bar-box")){curDropList.getNiceScroll(0).doScrollTop(options._scrollTop,100);if(options._scrollTop>=allScrollTop){options._scrollTop=allScrollTop+curDropListItemHeight;}else{options._scrollTop+=curDropListItemHeight;}}}else{if(curKey===38){if(options._keyIndex===-1||options._keyIndex===0){options._keyIndex=curDropListItems.size()-1;
curDropListItems.eq(options._keyIndex).css("background-color",hoverColor).addClass("item-selected");if(curDropList.hasClass("scorll-bar-box")){curDropList.getNiceScroll(0).doScrollTop(allScrollTop,100);options._scrollTop=allScrollTop+curDropListItemHeight;}return false;}curDropListItems.eq(--options._keyIndex).css("background-color",hoverColor).addClass("item-selected");
if(curDropList.hasClass("scorll-bar-box")){if(options._scrollTop<=0){options._scrollTop=0-curDropListItemHeight;}else{options._scrollTop-=curDropListItemHeight;curDropList.getNiceScroll(0).doScrollTop(options._scrollTop,100);}}}else{if(curKey===13){var source=curDropList.children("li.item-selected").children("a");
self._backfill(source);if(options.multi){}else{self.textInput.blur();}}}}});}dropList.mousedown(function(e){e.stopPropagation();});valueEl.parents(".input-icon").find(">i.icon-arrowlup-down").click(function(){self.textInput.focus();});if(options.multi){valueEl.parent().click(function(){self.textInput.focus();
});}$(document).on("mousedown.aeCombo",this.globalEvent=function(){dropList.hide();});},_showDropList:function(){var self=this,options=self.options,inputEl=self.textInput,valueInput=self.element,dropList=self.dropList,valuedItem,i,ss="",span,inputPos,allValues,popupArray,nowValue=valueInput.val(),$listRows=dropList.find("li"),allItems=self._getAllOptionsBeforeFiltered(),index;
if(allItems.size()<=0){return;}dropList.children("li").each(function(i,dropListItem){$(dropListItem).css("background-color","transparent");$(dropListItem).removeClass("item-selected");});options._keyIndex=-1;$listRows.removeClass("current").find(">i.fa-check").remove();if(nowValue!==undefined&&nowValue!==""){allValues=$.data(valueInput,"allValues");
if(options.multi){var selectedValues=nowValue.split(options.multiSeparator);for(i=0;i<selectedValues.length;i++){index=allValues.indexOf(selectedValues[i]);if(index>-1){$(dropList.find("li").get(index)).addClass("current").prepend('<i class="fa fa-check"></i>');}}valueItem=selectedValues[0];}else{index=allValues?allValues.indexOf(nowValue):-1;
if(index>-1){valuedItem=$(dropList.find("li").get(index)).addClass("current").prepend('<i class="fa fa-check"></i>');$(dropList.find("li").get(index)).css("background-color","#EDF1F2");options._keyIndex=index;}}}span=valueInput.parent();inputPos=span.offset();popupArray=$.aries.page.data._getHidedData("ae_popup_Id");
if($.isArray(popupArray)){if(popupArray.length===1){ss=popupArray[0];}if(popupArray.length===2){ss=popupArray[1];}}var widgetTop,widgetLeft;if(ss&&ss.popupType!=="div"){var popup=$("#"+ss.elementId).offset();widgetTop=inputPos.top+span.outerHeight()-popup.top;widgetLeft=inputPos.left-popup.left;}else{widgetTop=inputPos.top+span.outerHeight();
widgetLeft=inputPos.left;var epos=inputPos;var wh=$(window).height();var ws=$(window).scrollTop();var woh=dropList.outerHeight();var eoh=this.element.outerHeight();if(epos.top+eoh+woh>ws+wh){widgetTop=epos.top-woh-10;}}dropList.css({"position":"absolute","left":widgetLeft,"top":widgetTop,"width":span.outerWidth()});
dropList.show();},_loadData:function(records){var options=this.options,valueEl=this.element;options.dataSource=records;var labelField=options.labelField;var allInputText=[];if(typeof labelField==="string"){$(records).each(function(){allInputText.push(this[labelField]);});}else{$(records).each(function(index){allInputText.push(labelField(this,index));
});}$.data(valueEl,"allInputText",allInputText);var valueField=options.valueField;var allValues=[];if(typeof valueField==="string"){$(records).each(function(){allValues.push(""+this[valueField]);});}else{$(records).each(function(index){allValues.push(""+valueField(this,index));});}$.data(valueEl,"allValues",allValues);
var dropList=this.dropList.empty();var optionField=options.optionField;var innerHtml="";var self=this;if(typeof optionField==="string"){$(records).each(function(index){innerHtml+=self._wrapText(this[optionField]);});}else{$(records).each(function(index){innerHtml+=self._wrapText(options.optionField(this,index));
});}if(innerHtml){$(innerHtml).appendTo(dropList);dropList.show().css("height","auto");dropList.hide();}if(dropList.height()>options.listMaxHeight){if(!dropList.hasClass("scorll-bar-box")){dropList.addClass("scorll-bar-box").height(options.listMaxHeight);$("#"+this.element.attr("aeId")+"_scrollbar").niceScroll();
}}if(options.value){this._setValue(""+options.value);}this._bindEventsToList();},_wrapText:function(text){if(typeof this.options.optionField==="string"){return'<li><a title="'+text+'">'+text+"</a></li>";}else{return"<li><a>"+text+"</a></li>";}},_getAllOptionsBeforeFiltered:function(){return this.dropList.find("a");
},_bindEventsToList:function(){var self=this,items=self._getAllOptionsBeforeFiltered();items.mousedown(function(){self._backfill(this);});},_backfill:function(source){if(source.length===0){return;}var self=this,valueEl=self.element,dropList=self.dropList,options=self.options,enableMulti=options.multi;
if(enableMulti){var obj=$(source).parent();obj.toggleClass("current");if(obj.find(">i.fa-check").length>0){obj.find(">i.fa-check").remove();}else{obj.prepend('<i class="fa fa-check"></i>');}}else{this._getAllOptionsBeforeFiltered().parent().removeClass("current").find(">i.fa-check").remove();$(source).parent().addClass("current").prepend('<i class="fa fa-check"></i>');
}if(dropList.css("display")=="none"){return;}var value=[],selectedIndexs=dropList.find("li[class*=current]");for(var i=0;i<selectedIndexs.length;i++){var nowIndex=this._getAllOptionsBeforeFiltered().parent().index(selectedIndexs[i]);if(nowIndex>-1){value.push($.data(valueEl,"allValues")[nowIndex]);}}this._setValue(value.join(enableMulti?options.multiSeparator:""));
if(!enableMulti){dropList.hide();}},_setValue:function(value){var input=this.textInput,valueEl=this.element,dropList=this.dropList,self=this;var valueChange=true;var oldValue=valueEl.val();var options=this.options;if(value==oldValue){valueChange=false;}var allValues=$.data(valueEl,"allValues");var inputText=[],values=[];
if(options.multi){values=value.split(options.multiSeparator);}else{values.push(value);}for(var i=0;i<values.length;i++){var index=allValues?allValues.indexOf(values[i]):-1;if(index>-1){inputText.push($.data(valueEl,"allInputText")[index]);}else{valueEl.val("");value="";}}valueEl.val(value);if(options.multi){if(valueEl.parent().find(">span.label-info").length>0){valueEl.parent().find(">span.label-info").remove();
}var innerHtml="";for(var j=0;j<inputText.length;j++){innerHtml+='<span class="label label-info label-as-badge" value="'+values[j]+'">'+inputText[j]+'<i class="icon-error2"></i></span>';}$(innerHtml).insertBefore(valueEl);valueEl.parent().find(">span.label-info").each(function(){var ulWidth=dropList.width()-60;
if($(this).width()>ulWidth){$(this).width(ulWidth).prop("title",$(this).text());}}).find(">i.icon-error2").on("click",function(event){var val=[],objVal="";$(this).parent().remove();valueEl.parent().find(">span.label-info").each(function(){val.push($(this).attr("value"));});objVal=val.join(options.multiSeparator);
valueEl.val(objVal);options.value=objVal;self._trigger("onValueChange",null,event);});if(options.emptyText){var em=valueEl.parent().find(">em");if(em.length>0){em.remove();}}input.val(inputText.join(options.multiSeparator));}else{input.val(inputText.join(""));if(options.showClear&&options.enable){if(valueEl.val()!==""&&typeof(valueEl.val())!="undefined"){valueEl.prevAll(".icon-error2").show();
}}}options.value=value;if(!this._flag){if(options.onValueChange&&valueChange){this._trigger("onValueChange",null,input,value,oldValue);}}var span=valueEl.parent(),inputPos=span.offset();var epos=inputPos;var widgetTop=inputPos.top+span.outerHeight();var wh=$(window).height();var ws=$(window).scrollTop();
var woh=dropList.outerHeight();var eoh=span.outerHeight();if(epos.top+eoh+woh>ws+wh){widgetTop=epos.top-woh-10;}dropList.css({"position":"absolute","left":inputPos.left,"top":widgetTop,"width":span.outerWidth()});},_refeshEmptyText:function(emptyText){var inputEl=this.textInput,el=this.element,options=this.options;
if(!emptyText){return;}if(!this.options.multi){if(inputEl.prop("placeholder")===""){inputEl.prop("placeholder",emptyText);}else{if(inputEl.prop("placeholder")===emptyText){inputEl.prop("placeholder","");}}}},_destroy:function(){this.dropList.remove();this.dropList=null;}});});define("ui-flip",function(require,exports,modules){var g=100,d=1000,a=0,c=-1,f=-2;function b(i,j){var h;if(i.selectionStart!==undefined){i.selectionStart=j;}else{h=i.createTextRange();h.move("character",j);h.select();}}function e(h){var i;if(window.clipboardData!==undefined){i=window.clipboardData.getData("Text");
}else{i=h.originalEvent.clipboardData.getData("text/plain");}return i;}$.aeWidget("ae.aeFlip",{options:{enable:true,editable:true,visible:true,value:0,degree:1,initType:"html",onValueChange:null,onSelfFocus:null,onSelfBlur:null},_fireChangeEvent:function(){var h=this.options.onValueChange;if(typeof(h)==="function"){h.apply(this,[this.element]);
}},_hdTimer:null,_fireChangeEventDelay:function(){if(this._hdTimer!==null){clearTimeout(this._hdTimer);this._hdTimer=null;}this._hdTimer=setTimeout($.proxy(this._fireChangeEvent,this),500);},editable:function(h){if(h===undefined||h===""){h=true;}var i=this.element;if(h===true||h==="true"){i.removeAttr("readonly");
this.options.editable=true;}if(h===false||h==="false"){i.attr("readonly","readOnly");this.options.editable=false;}},visible:function(h){if(h===undefined||h===""){h=true;}var i=this.element;if(h===true||h==="true"){i.closest("div.input-group").removeClass("hidden");this.options.visible=true;}if(h===false||h==="false"){i.closest("div.input-group").addClass("hidden");
this.options.visible=false;}},enable:function(i){var h=this;if(i===undefined){i=true;}var j=this.element;if(i===true||i==="true"){this.options.enable=true;j.prop("disabled",false);j.closest("div.input-group").find(".btn-default").prop("disabled",false);}if(i===false||i==="false"){this.options.enable=false;
j.prop("disabled",true);j.closest("div.input-group").find(".btn-default").prop("disabled",true);}},getValue:function(){return this.element.val()||"";},setValue:function(h){if(!h){this.element.val(this.options.value);}else{if($.isNumeric(h)){this.element.val(h);this._fireChangeEvent();}}},reset:function(){this.element.val(this.options.value);
this._fireChangeEvent();},_create:function(){var j=this.element,h=this.options,i;if(h.initType=="html"){this._buildOptions(h,j);}i=$("<input></input>");i.attr({"aeType":j.attr("aeType"),"aeId":j.attr("id"),"aeInit":"false","dataField":j.attr("dataField"),"aeValidate":j.attr("aeValidate"),"rules":j.attr("rules")});
this.element=i;j.after(i);j.empty().hide();this.element.addClass("form-control").wrap('<div class="input-group"></div>');this.element.after('<div class="input-group-btn-vertical"><button type="button" class="btn btn-default" data-flip="up"><i class="fa fa-caret-up"></i></button><button type="button" class="btn btn-default" data-flip="down"><i class="fa fa-caret-down"></i></button></div>');
this._addEvents();},_addEvents:function(){this.element.on("focus",$.proxy(function(){var h=this.options;if(typeof(h.onSelfFocus)==="function"){h.onSelfFocus.apply(this,[this.element]);}},this));this.element.on("blur",$.proxy(function(){var h=this.options;if(typeof(h.onSelfBlur)==="function"){h.onSelfBlur.apply(this,[this.element]);
}},this));},_init:function(){var h=this,j=h.element,i=h.options;if(i.width){j.closest("div.input-group").css("width",i.width);}if(!i.visible){j.closest("div.input-group").addClass("hidden");}if(!i.editable){j.attr("readonly","readOnly");}else{j.removeAttr("readonly");}$(document).on("mouseup.ae.aeFlip",function(k){h._resetTimer();
});h.enable(!!i.enable);h._buildInitEvent();i.previousValue=h._getInitValue();j.val(this.options.previousValue);},_buildOptions:function(h,i){h.visible=i.attr("visible")=="false"?false:h.visible;h.enable=i.attr("enable")=="false"?false:h.enable;h.editable=i.attr("editable")=="false"?false:h.editable;
h.value=i.attr("value")||h.value;h.degree=i.attr("degree")||h.degree;h.minData=i.attr("minData")||h.minData||null;h.maxData=i.attr("maxData")||h.maxData||null;h.width=i.attr("width");h.onValueChange=i.attr("onValueChange")||h.onValueChange||null;h.onSelfFocus=i.attr("onSelfFocus")||h.onSelfFocus||null;
h.onSelfBlur=i.attr("onSelfBlur")||h.onSelfBlur||null;},_hdProcValue:function(m){var l=this.element,j=this.options.previousValue,k,n=m.which,i,h;if(n===38){l.closest("div.input-group").find("[data-flip='up']").trigger("click");}else{if(n===40){l.closest("div.input-group").find("[data-flip='down']").trigger("click");
}else{i={8:1,17:1,18:1,19:1,32:1,37:1,39:1,46:1,127:1};k=l.val();if((this.options.degree+"").indexOf(".")>=0){i[190]=1;}h=((n>=48&&n<=57)||(n in i));if(h===true){if(k==="0"&&n!=48){l.val("");}else{if(k==="0"&&n===48){m.stopPropagation();return false;}}}else{m.stopPropagation();return false;}this._fireChangeEventDelay();
}}},_buildInitEvent:function(){var h=this.element;h.on("keydown",$.proxy(this._hdProcValue,this));h.on("keyup",$.proxy(function(j){var k=this.element,i=k.val(),m=j.which,l;l=this._checkNumbericRange(i);if(l===c){i=this.options.minData;k.val(i);}else{if(l===f){i=this.options.maxData;k.val(i);}}b(k[0],i.length);
},this));h.on("blur",$.proxy(function(j){var k=this.element,i=k.val(),l;if(i!=="0"){i=i.replace(/^[0]*/g,"");}if(i===""){k.val(this.options.minData||this.options.previousValue);}else{l=this._checkNumbericRange(i);if(l===c){i=this.options.minData;k.val(i);}else{if(l===f){i=this.options.maxData;k.val(i);
}}k.val(i);}},this));h.on("paste",$.proxy(function(k){var l=this.element,j=e(k),i,m;if($.isNumeric(j)===false){k.stopPropagation();return false;}else{m=this._checkNumbericRange(j);if(m===c){i=this.options.minData;l.val(i);k.stopPropagation();return false;}else{if(m===f){i=this.options.maxData;l.val(i);
k.stopPropagation();return false;}}}},this));h.closest("div.input-group").on("click","[data-flip='up'],[data-flip='down']",$.proxy(this._flip,this)).on("mousedown","[data-flip='up']",$.proxy(this._continuedIncrease,this)).on("mousedown","[data-flip='down']",$.proxy(this._continuedDecrease,this)).on("mouseup","[data-flip='down'],[data-flip='up']",$.proxy(this._resetTimer,this));
},_hdFlipTimer:null,_hdDelayTimer:null,_resetTimer:function(){if(this._hdDelayTimer!==null){clearTimeout(this._hdDelayTimer);}if(this._hdFlipTimer!==null){clearInterval(this._hdFlipTimer);}},_continuedIncrease:function(){var h,i;this._resetTimer();this._hdDelayTimer=setTimeout($.proxy(function(){this._hdFlipTimer=setInterval($.proxy(this._increase,this),g);
},this),d);},_continuedDecrease:function(){var h,i;this._resetTimer();this._hdDelayTimer=setTimeout($.proxy(function(){this._hdFlipTimer=setInterval($.proxy(this._decrease,this),g);},this),d);},_flip:function(i){var h=$(i.currentTarget).data("flip");if(h==="up"){this._increase();}if(h==="down"){this._decrease();
}},_verifyNumeric:function(n){var j=this,k=this.element,m=this.options,h=m.previousValue,i;var l=j._checkNumeric(n);if(l){l=j._checkNumbericRange(n);if(l!==a){$.message.alert("","The value is beyond the range of data set!");i=j._checkNumeric(h);k.val(i?h:j._getInitValue());return;}}else{$.message.alert("","The value is not a number!");
i=j._checkNumeric(h);k.val(i?h:j._getInitValue());return;}m.previousValue=n;},_valueChanged:function(){var i=this,j=this.element,l=this.options,h=l.previousValue,k=j.val();if(k==h){return;}if(k){if(k.lastIndexOf(".")==k.length-1){k=k.substring(0,k.length-1);}i._verifyNumeric(k);}},_increase:function(){var y=this,m=this.element,h=this.options,r=h.degree,s=h.previousValue,v=m.val(),j=y._checkNumeric(v);
if(!j){previousIsNumberic=y._checkNumeric(s);m.val(previousIsNumberic?s:y._getInitValue());this._fireChangeEvent();return;}var p=v.indexOf(".");var x=(r+"").indexOf(".");var l=v.length;var w=(r+"").length;var o=p>-1||x>-1;v=o?(parseFloat(v,10)+parseFloat(r,10)):(parseInt(v,10)+parseInt(r,10));var k=y._checkNumbericRange(v);
if(k!==a){v=o?(parseFloat(v,10)-parseFloat(r,10)):(parseInt(v,10)-parseInt(r,10));}if(o){if(p==-1){p=l;}if(x==-1){x=w;}var t=l-p;var n=w-x;if(n<t){n=t;}var q="0.";n=n-1;for(var u=0;u<n;u++){q+="0";}v=$.format.number(v,q);}h.previousValue=v;m.val(v);this._fireChangeEvent();},_decrease:function(){var p=this,h=this.element,o=this.options,k=o.degree,q=o.previousValue,z=h.val(),m;
var x=p._checkNumeric(z);if(!x){m=p._checkNumeric(q);h.val(m?q:p._getInitValue());this._fireChangeEvent();return;}var r=z.indexOf(".");var n=(k+"").indexOf(".");var s=z.length;var u=(k+"").length;var j=r>-1||n>-1;if(j){z=(parseFloat(z,10)-parseFloat(k,10));}else{z=(parseInt(z,10)-parseInt(k,10));}var y=p._checkNumbericRange(z);
if(y!==a){z=j?(parseFloat(z,10)+parseFloat(k,10)):(parseInt(z,10)+parseInt(k,10));}if(j){if(r==-1){r=s;}if(n==-1){n=u;}var w=s-r;var t=u-n;if(t<w){t=w;}var l="0.";t=t-1;for(var v=0;v<t;v++){l+="0";}z=$.format.number(z,l);}o.previousValue=z;h.val(z);this._fireChangeEvent();},_getInitValue:function(){var i=this,h=this.options.value;
var j=i._checkNumeric(h);if(j){j=i._checkNumbericRange(h);if(j!==a){this.options.previousValue=h=this.options.minData||"0";}}else{h="";}return h;},_checkNumeric:function(j,i){if(""!==j&&!/^(-|\+)?\d+(\.\d+)?$/.test(j)){return false;}if(""!==j&&i&&$.isString(i)&&i.indexOf(".")!=-1&&j){var h=parseFloat(j);
if(h<0){h=-h;}h=h.toString();if(h.indexOf(".")!=-1&&(i.length-i.indexOf(".")<h.length-h.indexOf("."))){return false;}}return true;},_checkNumbericRange:function(k){var j=this.options.minData,h=this.options.maxData,i;if($.isNumeric(k)){i=parseFloat(k);if($.isNumeric(j)&&(i<parseFloat(j))){return c;}else{if($.isNumeric(h)&&(i>parseFloat(h))){return f;
}}}return a;},_destroy:function(){$(document).off("mouseup.ae.aeFlip");}});});define("ui-radio",function(require,exports,moudles){$.aeWidget("ae.aeRadio",{options:{isHorizontal:true,enable:true,visible:true,labelField:"text",valueField:"value",initType:"html"},_create:function(){var a=this.options,b=this.element,c=b.attr("id");if(a.initType=="html"){this._buildOptions(a,b);}if(c){b.attr("aeId",c);
}b.hide();},_init:function(){var a=this,b=a.options,c=b.dataSource,d=a.element;d.attr("aeType",(b.aeType||"aeRadio"));if(c&&typeof c=="string"){c=$.parseJSON(c);a.reload(c);}},_buildOptions:function(b,c){b.isHorizontal=c.attr("isHorizontal")=="false"?false:b.isHorizontal;b.enable=c.attr("enable")=="false"?false:b.enable;
b.visible=c.attr("visible")=="false"?false:b.visible;b.aeType=c.attr("aeType");b.labelField=c.attr("labelField")||b.labelField;b.valueField=c.attr("valueField")||b.valueField;b.dataSource=c.attr("dataSource");var a=c.attr("onSelect");b.onSelect=a?function(g){if($.isString(a)){var e=a.indexOf("(");var d=e>0?a.substring(0,e):a;
var f="return window."+d+"?"+d+".call(window,e):false;";return new Function("e",f)(g);}}:b.onSelect;},_buildEvent:function(){var b=this,a=b._getAllOptions(),c=b.options.onSelect;a.bind("click.aeRadio",function(d){if(c){c(d);}});},getValue:function(){var b=this._getAllOptions(),a=[];b.each(function(c,d){if($.prop(d,"checked")){a.push(""+$(d).val());
}});return a.join("");},setValue:function(b){if(typeof b==="undefined"||b===""||b===null){return;}var a=this._getAllOptions();a.each(function(c,d){if($(d).val()===b&&!$.attr(d,"disabled")){$.prop(d,"checked",true);}});},getDisplayText:function(){var b=this._getAllOptions(),a=[];b.each(function(c,d){if($.prop(d,"checked")){a.push(""+$(d).next().text());
}});return a.join("");},clear:function(){this._getAllOptions().prop("checked",false);},reload:function(a){this._loadData(a);if(!this.options.visible){this.element.nextAll(".rdio").addClass("hidden");}this.enable(!!this.options.enable);},enable:function(e){if(e===undefined){e=true;}var b=this,d=b.options,c=d.enable,a=b._getAllOptions();
if(e===true||e==="true"){a.prop("disabled",false);c=true;}if(e===false||e==="false"){a.prop("disabled",true);c=false;}},visible:function(a){if(a===undefined){a=true;}var c=this.element,b=this.options.visible;if(a===true||a==="true"){c.nextAll(".rdio").removeClass("hidden");b=true;}if(a===false||a==="false"){c.nextAll(".rdio").addClass("hidden");
b=false;}},_loadData:function(c){var b=this,d=this.element,a="";if(d.nextAll(".rdio").length>0){d.nextAll(".rdio").remove();}$(c).each(function(e,f){a+=b._wrapText(f);});$(a).insertAfter(d);b._buildEvent();},_getAllOptions:function(){return this.element.nextAll(".rdio").find('input[type="radio"]');},_wrapText:function(b){var a=parseInt(Math.random()*1000);
return'<div class="rdio '+(this.options.isHorizontal?"rdio_horizontal":"")+'"><input type="radio" '+(b.checked?"checked":"")+" "+(b.disabled?"disabled":"")+' id="ae_radio_'+a+'" name="'+b.name+'" value="'+b[this.options.valueField]+'"/><label for="ae_radio_'+a+'">'+b[this.options.labelField]+"</label></div>";
}});});define("ui-search",function(require,exports,moudles){$.aeWidget("ae.aeSearch",{options:{enable:true,onlyRead:false,minChars:1,delay:500,cacheSize:10,method:"POST",listMaxHeight:300,queryName:"key",crossDomain:false,preProcess:function(b,a){return a;},onBeforeSuggest:function(b,a){},onSuggesting:function(b,a){},onSuccess:function(b,c,a){},onError:function(c,d,a,b){},onSelect:function(c,d,a,b){},initType:"html"},_create:function(){var b=this.element,a=this.options,c=b.attr("id");
if(a.initType=="html"){this._buildOptions(a,b);}if(c){b.attr("aeId",c);}b.wrap('<span class="e_elements"><span class="e_input e_input-left"><span></span></span></span>');this.dropList=$($('<div class="c_combox"><div class="c_comboxContent"></div></div>').css({position:"absolute",zIndex:2000}).appendTo(document.body).children().first()).hide();
},_buildOptions:function(i,b){if(b.attr("cacheSize")){i.cacheSize=parseInt(b.attr("cacheSize"));}i.delay=parseInt(b.attr("delay"))||i.delay;i.enable=b.attr("enable")=="false"?false:i.enable;i.onlyRead=b.attr("onlyRead")=="true"?true:i.onlyRead;i.listMaxHeight=parseInt(b.attr("listMaxHeight"))||i.listMaxHeight;
i.listWidth=parseInt(b.attr("listWidth"));i.minChars=parseInt(b.attr("minChars"))||i.minChars;i.queryName=b.attr("queryName")||i.queryName;i.dataSource=b.attr("dataSource");var h=b.attr("clientFormatter");var a=b.attr("preProcess");var g=b.attr("onBeforeSuggest");var d=b.attr("onSuggesting");var f=b.attr("onSelect");
var e=b.attr("onSuccess");var c=b.attr("onError");this._buildOptionsEvent(i,"clientFormatter",h);this._buildOptionsEvent(i,"preProcess",a);this._buildOptionsEvent(i,"onBeforeSuggest",g);this._buildOptionsEvent(i,"onSuggesting",d);i.onSelect=f?function(p,o,j,n){if($.isString(f)){var l=f.indexOf("(");var k=l>0?f.substring(0,l):f;
var m="return window."+k+"?"+k+".call(window, t ,r , i , e):false;";return new Function("t","r","i","e",m)(p,o,j,n);}}:i.onSelect;i.onSuccess=e?function(n,o,m){if($.isString(e)){var k=e.indexOf("(");var j=k>0?e.substring(0,k):e;var l="return window."+j+"?"+j+".call(window, d ,t ,e):false;";return new Function("d","t","e",l)(n,o,m);
}}:i.onSuccess;i.onError=c?function(o,p,j,n){if($.isString(c)){var l=c.indexOf("(");var k=l>0?c.substring(0,l):c;var m="return window."+k+"?"+k+".call(window, c ,i ,er ,e):false;";return new Function("c","i","er","e",m)(o,p,j,n);}}:i.onError;},_buildOptionsEvent:function(a,c,b){a[c]=b?function(h,g){if($.isString(b)){var e=b.indexOf("(");
var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window,p1,p2):false;";return new Function("p1","p2",f)(h,g);}}:a[c];},_init:function(){var a=this,b=this.options,d=this.element,c=this.dropList;if(b.minChars<0){b.minChars=0;}if(b.cacheSize<0){b.cacheSize=0;}if(b.delay<0){b.delay=0;}if(!b.enable){a.disable();
}else{a.enable();}if(b.onlyRead){d.attr("readonly","readonly");}else{d.removeAttr("readonly");}d.focus(function(){$(".c_comboxContent").hide();$(".c_option").css("visibility","hidden");}).blur(function(){}).keydown(function(f){if(f.keyCode==$.ae.keyCode.TAB){c.hide();}}).keyup(function(h){var g=h.keyCode,i=$.ae.keyCode;
switch(g){case i.DOWN:if(c.css("display")!=="none"){a._selectNext();}else{if(c.find("a").size()>0){c.show();}}break;case i.UP:if(c.css("display")!=="none"){a._selectPrev();}else{if(c.find("a").size()>0){c.show();}}break;case i.ENTER:if(c.css("display")==="none"){return;}c.hide();a._triggerOnSelect(h);
return false;case i.ESCAPE:c.hide();break;case i.TAB:break;default:if(!b.enable||b.onlyRead){return false;}if(b.delay>0){var f=$.data(d,"delayTimer");if(f){clearTimeout(f);}f=setTimeout(function(){a._suggest();},b.delay);$.data(d,"delayTimer",f);}else{a._suggest();}}}).mousedown(function(f){f.stopPropagation();
});c.mousedown(function(f){f.stopPropagation();});$(document).bind("mousedown.aeSearch",this.globalEvent=function(){c.hide();});},clearCache:function(){$.removeData(this.element,"cache");},showMessage:function(c){var d=this.element;var b=this.dropList.empty().css("height","auto");$("<div>"+c+"<div>").appendTo(b);
b.parent().css("left",d.parent().offset().left).css("top",d.offset().top+d.outerHeight());var e=this.options.listWidth;if(!e){b.parent().width(d.parent().outerWidth());}else{if(e!=="auto"){b.parent().width(e);}}b.show();var a=this.options.listMaxHeight;if(a!=="auto"){if(b.height()>a){b.height(a).css("overflow","auto");
}}return this;},disable:function(){this.options.enable=false;this.element.attr("disabled","disabled").parent().parent().addClass("e_dis");},enable:function(){this.options.enable=true;this.element.removeAttr("disabled").parent().parent().removeClass("e_dis");},reload:function(b){var a=this.options;if(b){a.dataSource=b;
}if(a.cacheSize>0){this.clearCache();}},getData:function(){var a=$.data(this.element,"records");return a||null;},getDropList:function(){return this.dropList;},destroy:function(){$(document).unbind("mousedown.aeSearch",this.globalEvent);this.dropList.parent().remove();},_clear:function(){this.element.val("");
return this.dropList.find("li").removeClass("on");},_selectNext:function(){var b=this.dropList,a=b.find(".on").index(),c=this._clear();a+=1;if(a>=c.size()){a=0;}this._scrollToAndSelect(c,a,b);},_selectPrev:function(){var b=this.dropList,a=b.find(".on").index(),c=this._clear();a-=1;if(a<0){a=c.size()-1;
}this._scrollToAndSelect(c,a,b);},_scrollToAndSelect:function(d,a,c){if(d.size()<1){return;}var e=$(d.get(a)).addClass("on");var b=e.position().top;if(b<=0){c.scrollTop(c.scrollTop()+b);}else{var f=b+e.outerHeight()-c.height();if(f>0){c.scrollTop(c.scrollTop()+f);}}this._select(a);},_select:function(b){var d=this.element;
var a=$.data(d,"records");var c,e;if(a.valueField){c=a.data[b];e=c[a.valueField];}else{c=a[b];e=c;}d.val(e);$.data(d,"lastStr",e);},_suggest:function(){var e=this.element;var g=e.val();var f=$.data(e,"lastStr");if(f&&f===g){return;}$.data(e,"lastStr",g);var i=this.options;var a=$.data(e,"cache");if(g.length>0&&g.length>=i.minChars){if(a){var c=a[g];
if(c){$.data(e,"records",c);this._buildDropList(c,g);return;}}if(i.onBeforeSuggest){if(this._trigger("onBeforeSuggest",null,g)===false){this.dropList.empty().hide();return;}}var h=this;var b='{"'+i.queryName+'":"'+g+'"}';$.aries.ajax.post(i.dataSource,b,function(p,r){var q=i.onSuccess;if(q&&h._trigger("onSuccess",null,p,r)===false){return;
}var n=i.preProcess;if(n){p=n(g,p);}if($.isEmptyObject(p)){p=[];}if(i.cacheSize>0){var l=$.data(e,"cache")||{___keys:[]};var o=l.___keys;if(o.length==i.cacheSize){var j=o[0];l.___keys=o.slice(1);l[j]=undefined;}l[g]=p;l.___keys.push(g);$.data(e,"cache",l);}$.data(e,"records",p);var m=$.data(e,"delay");
if(m){clearTimeout(m);}m=setTimeout(function(){h._buildDropList(p,g);},100);$.data(e,"delay",m);},function(l,m,j){var k=i.onError;if(k){h._trigger("onError",null,l,m,j);}},$.extend({},{type:i.method,dataType:i.crossDomain?"jsonp":"json"}));var d=i.onSuggesting;if(d){h._trigger("onSuggesting",null,g);
}}else{this.dropList.empty().hide();}},_buildDropList:function(c,j){var i=this.element,a=this.dropList.empty().css("height","auto"),e=c.valueField?false:true,k=this.options.clientFormatter,l=this,b='<div class="c_list c_list-table c_list-col-1"><ul>';if(e){if(k){$(c).each(function(m){b+=l._addRow(k(this,m));
});}else{$(c).each(function(m){b+=l._addRow(this);});}}else{if(k){$(c.data).each(function(m){b+=l._addRow(k(this,m));});}}b+="</ul></div>";if(b){$(b).appendTo(a);}var h=a.find("a"),f=a.find("li");if(h.size()>0){a.parent().css("left",parseInt(i.parent().offset().left)).css("top",i.offset().top+i.outerHeight());
var g=this.options.listWidth;if(!g){a.parent().width(i.parents(".e_input").outerWidth());}else{if(g!=="auto"){a.parent().width(g);}}f.mouseover(function(){f.removeClass("on");$(this).addClass("on");}).mousedown(function(n){var m=a.find(".on").index();l._select(m);a.hide();l._triggerOnSelect(n);});a.show();
var d=this.options.listMaxHeight;if(d!=="auto"){if(a.height()>d){a.height(d).css("overflow","auto");}}a.scrollTop(0);}},_addRow:function(a){return'<li><a class="text"><span>'+a+"</span></a></li>";},_triggerOnSelect:function(d){var c=this.options.onSelect;if(c){var b=this.dropList.find(".on").index();
if(b<0){return;}var a=$.data(this.element,"records"),e,f;if(a.valueField){e=a.data[b];f=e[a.valueField];}else{e=a[b];f=e;}this._trigger("onSelect",d,e,f,b);}}});});define("ui-textarea",function(require,exports,moudles){$.aeWidget("ae.aeTextarea",{options:{enable:true,editable:true,visible:true,isValidate:false,initType:"html",maxlength:null},_create:function(){var a=this.options,c=this.element;if(a.initType=="html"){this._buildOptions(a,c);}var b=$("<textarea></textarea>");
b.attr({"aeType":c.attr("aeType"),"aeId":c.attr("id"),"aeInit":"false","dataField":c.attr("dataField"),"aeValidate":c.attr("aeValidate"),"rules":c.attr("rules"),"onAddRules":c.attr("onAddRules"),"maxlength":c.attr("maxlength")});this.element=b;c.after(b);c.empty().hide();this.element.addClass("form-control").wrap('<div class="input-icon right"></div>');
},_init:function(){var a=this,b=this.options,c=this.element;if(!b.visible){c.addClass("hidden");}if(b.row){c.attr("rows",b.row);}if(b.width){c.css("width",b.width);}a.enable(!!b.enable);if(!b.editable){c.attr("readonly","readOnly");}else{c.removeAttr("readonly");}c.attr("aeType",(b.aeType||"aeTextarea"));
if(b.isValidate){c.blur(function(){c.validate();});}if(b.value){a.setValue(b.value);}if(b.maxlength){c.attr("maxlength",b.maxlength);}},_buildOptions:function(a,b){a.visible=b.attr("visible")=="false"?false:a.visible;a.enable=b.attr("enable")=="false"?false:a.enable;a.editable=b.attr("editable")=="false"?false:a.editable;
a.isValidate=b.attr("isValidate")=="true"?true:a.isValidate;a.aeType=b.attr("aeType");a.row=parseInt(b.attr("row"));a.width=b.attr("width");a.value=b.attr("value");},enable:function(a){if(a===undefined||a===""){a=true;}var b=this.element;if(a===true||a==="true"){b.removeAttr("disabled");this.options.enable=true;
}if(a===false||a==="false"){b.attr("disabled",true);this.options.enable=false;}},editable:function(a){if(a===undefined||a===""){a=true;}var b=this.element;if(a===true||a==="true"){b.removeAttr("readonly");this.options.editable=true;}if(a===false||a==="false"){b.attr("readonly","readOnly");this.options.editable=false;
}},visible:function(a){if(a===undefined||a===""){a=true;}var b=this.element;if(a===true||a==="true"){b.removeClass("hidden");this.options.visible=true;}if(a===false||a==="false"){b.addClass("hidden");this.options.visible=false;}},getValue:function(){var a=this.element.val();return a?a:"";},setValue:function(a){if(typeof a==="undefined"||a===""||a===null){this.element.val("");
}else{this.element.val(a);}},clear:function(){this.element.val("").focus();}});});define("ui-textfield",function(require,exports,moudles){$.aeWidget("ae.aeTextfield",{options:{enable:true,editable:true,visible:true,showClear:false,password:false,isValidate:false,initType:"html",onValueChange:null,onSelfFocus:null,onSelfBlur:null,onSelfKeyDown:null,onSelfKeyUp:null,maxlength:null},_create:function(){var options=this.options,inputEl=this.element;
if(options.initType=="html"){this._buildOptions(options,inputEl);}var obj=$("<input></input>");obj.attr({"aeType":inputEl.attr("aeType"),"aeId":inputEl.attr("id"),"aeInit":"false","dataField":inputEl.attr("dataField"),"aeValidate":inputEl.attr("aeValidate"),"rules":inputEl.attr("rules"),"onAddRules":inputEl.attr("onAddRules"),"maxlength":inputEl.attr("maxlength")});
this.element=obj;inputEl.after(obj);inputEl.empty().hide();this.element.addClass("form-control").wrap('<div class="input-icon"></div>');},_init:function(){var self=this,options=this.options,inputEl=this.element,onValueChange=options.onValueChange;if(!options.visible){inputEl.addClass("hidden");}if(options.password){inputEl.prop("type","password");
}if(options.width){inputEl.parent().css("width",options.width);}self.enable(!!options.enable);if(!options.editable){inputEl.attr("readonly","readOnly");}else{inputEl.removeAttr("readonly");}if(options.aeType){inputEl.attr("aeType",options.aeType);}else{inputEl.attr("aeType","aeTextfield");}if(options.showClear&&options.visible&&options.enable){this.element.parent().addClass("right");
var inputClear=$('<i class="icon-error2"></i>').insertAfter(this.element).hide();inputEl.bind("input propertychange",function(e){if(inputEl.val()!==""&&typeof(inputEl.val())!="undefined"){inputClear.show();}else{inputClear.hide();}});inputClear.click(function(e){inputEl.val("");inputClear.hide();inputEl.focus();
if(typeof(onValueChange)==="function"){self._trigger("onValueChange",null,e);}});}if(options.height){inputEl.css("height",options.height);if(options.showClear){inputEl.next().css("line-height",options.height+"px");}}if(options.maxlength){inputEl.attr("maxlength",options.maxlength);}inputEl.bind("input propertychange",function(e){if(typeof(onValueChange)==="function"){self._trigger("onValueChange",null,e);
}});inputEl.focus(function(e){self._trigger("onSelfFocus",null,e);});inputEl.blur(function(e){self._trigger("onSelfBlur",null,e);});inputEl.keydown(function(e){self._trigger("onSelfKeyDown",null,e);});inputEl.keyup(function(e){self._trigger("onSelfKeyUp",null,e);});if(options.emptyText){inputEl.focus(function(){self._refeshEmptyText(options.emptyText);
}).blur(function(){self._refeshEmptyText(options.emptyText);});self._refeshEmptyText(options.emptyText);}if(options.isValidate){inputEl.blur(function(){inputEl.validate();});}if(options.value){self.setValue(options.value);}},_buildOptions:function(options,inputEl){var i,onValueChange,onSelfFocus,onSelfBlur,onSelfKeyUp,onSelfKeyDown;
options.visible=inputEl.attr("visible")=="false"?false:options.visible;options.enable=inputEl.attr("enable")=="false"?false:options.enable;options.editable=inputEl.attr("editable")=="false"?false:options.editable;options.showClear=inputEl.attr("showClear")=="true"?true:options.showClear;options.password=inputEl.attr("password")=="true"?true:options.password;
options.isValidate=inputEl.attr("isValidate")=="true"?true:options.isValidate;options.emptyText=inputEl.attr("emptyText");options.width=inputEl.attr("width");options.height=parseInt(inputEl.attr("height"));options.aeType=inputEl.attr("aeType");options.value=inputEl.attr("value");onSelfFocus=inputEl.attr("onSelfFocus");
onSelfBlur=inputEl.attr("onSelfBlur");onValueChange=inputEl.attr("onValueChange");onSelfKeyDown=inputEl.attr("onSelfKeyDown");onSelfKeyUp=inputEl.attr("onSelfKeyUp");this._getFunName(options,onValueChange,"onValueChange");this._getFunName(options,onSelfFocus,"onSelfFocus");this._getFunName(options,onSelfBlur,"onSelfBlur");
this._getFunName(options,onSelfKeyDown,"onSelfKeyDown");this._getFunName(options,onSelfKeyUp,"onSelfKeyUp");},_getFunName:function(options,handleName,handle){var funName;if($.isString(handleName)&&handleName!==""){i=handleName.indexOf("(");funName=handleName;if(i>0){funName=handleName.substring(0,i);
}try{options[handle]=eval(funName);}catch(e){}}if(typeof(options[handle])!=="function"){options[handle]=null;}},_refeshEmptyText:function(emptyText){var el=this.element;if(!emptyText){return;}if(el.prop("placeholder")===""){el.prop("placeholder",emptyText);}else{if(el.prop("placeholder")===emptyText){el.prop("placeholder","");
}}},enable:function(value){if(value===undefined||value===""){value=true;}var $ele=this.element;if(value===true||value==="true"){$ele.removeAttr("disabled");this.options.enable=true;if(this.options.showClear){if($ele.val()!==""&&typeof($ele.val())!="undefined"){$ele.next().show();}}}if(value===false||value==="false"){$ele.attr("disabled",true);
this.options.enable=false;if($ele.next().css("display")==="block"){$ele.next().hide();}}},editable:function(value){if(value===undefined||value===""){value=true;}var $ele=this.element;if(value===true||value==="true"){$ele.removeAttr("readonly");this.options.editable=true;if(this.options.showClear){if($ele.val()!==""&&typeof($ele.val())!="undefined"){$ele.next().show();
}}}if(value===false||value==="false"){$ele.attr("readonly","readOnly");this.options.editable=false;if($ele.next().css("display")==="block"){$ele.next().hide();}}},visible:function(value){if(value===undefined||value===""){value=true;}var $ele=this.element;if(value===true||value==="true"){$ele.removeClass("hidden");
this.options.visible=true;var inputClear=$('<i class="icon-error2"></i>').insertAfter($ele).hide();$ele.bind("input propertychange",function(e){if($ele.val()!==""&&typeof($ele.val())!="undefined"){inputClear.show();}});inputClear.click(function(){$ele.val("");inputClear.hide();});}if(value===false||value==="false"){$ele.addClass("hidden");
this.options.visible=false;if($ele.next().is(".icon-error2")){$ele.next().remove();}}},getValue:function(){var value=this.element.val();return value?value:"";},setValue:function(v){if(typeof v==="undefined"||v===""||v===null){this.element.val("");}else{this.element.val(v);if(this.options.showClear&&this.options.editable&&this.options.enable){this.element.next().show();
}}},clear:function(){this.element.val("").focus();if(this.options.showClear){this.element.next().hide();}}});});define("ui-textpopup",function(require,exports,moudles){$.aeWidget("ae.aeTextpopup",{options:{enable:true,visible:true,draggable:false,resizable:false,popupWidth:"600",popupHeight:"auto",showClose:true,showButton:true,onValueChange:null,modal:true,showClear:false,initType:"html"},enable:function(d){var a=this;
if(d===undefined){d=true;}var e=this.element,c=this.options,b=c.enable;if(d===true||d==="true"){b=true;e.prop({"readonly":true,"disabled":false}).addClass("form-readonly");e.closest("div.input-group").find(".btn-default").prop("disabled",false);if(c.emptyText){e.focus(function(){a._refeshEmptyText(c.emptyText);
}).blur(function(){a._refeshEmptyText(c.emptyText);});a._refeshEmptyText(c.emptyText);}a._bindEvent();}if(d===false||d==="false"){b=false;e.prop({"readonly":false,"disabled":true}).removeClass("form-readonly").off("click.aeTextpopup");e.closest("div.input-group").find(".btn-default").prop("disabled",true);
}},visible:function(a){if(a===undefined){a=true;}var c=this.element,b=this.options.visible;if(a===true||a==="true"){c.closest("div.input-group").removeClass("hidden");b=true;}if(a===false||a==="false"){c.closest("div.input-group").addClass("hidden");b=false;}},clear:function(){var a=this.element.val();
this.element.val("").focus();this.element.removeAttr("valueField");if(this.options.showClear){this.element.next().hide();}if(a!==""&&this.options.onValueChange!==null){this._trigger("onValueChange");}},getDisplayText:function(){var a=this.element.val();return a?a:"";},getValue:function(){var a=this.element.attr("valueField");
return a?a:"";},setValue:function(a){if(typeof a!=="undefined"||a!==""){this.element.attr("valueField",a);}},setDisplayText:function(a){if(typeof a==="undefined"||a===""){this.element.val("");}else{this.element.val(a);if(this.options.showClear){this.element.next().show();}}},_create:function(){var c=this.element,a=this.options;
if(a.initType=="html"){this._buildOptions(a,c);}var b=$("<input></input>");b.attr({"aeType":c.attr("aeType"),"aeId":c.attr("id"),"aeInit":"false","afterAction":c.attr("afterAction"),"dataField":c.attr("dataField"),"aeValidate":c.attr("aeValidate"),"rules":c.attr("rules")});this.element=b;c.after(b);c.empty().hide();
this.element.addClass("form-control").wrap('<div class="input-group"></div>');this.element.after('<span class="input-group-btn"><button class="btn btn-default"><i class="fa fa-search"></i></button></span>');},_init:function(){var a=this,c=this.element,b=this.options;if(!b.visible){c.closest("div.input-group").addClass("hidden");
}if(b.showClear&&b.enable){c.wrap('<div class="input-icon right"></div>');$('<i class="icon-error2"></i>').insertAfter(c).hide();c.next().click(function(){a.clear();});}if(b.width){c.closest("div.input-group").css("width",b.width);}a.enable(!!b.enable);if(b.aeType){c.attr("aeType",b.aeType);}else{c.attr("aeType","aeTextpopup");
}},_buildOptions:function(c,d){var f=d.attr("onValueChange");if(f!==undefined){f=(window[f]||null);}c.onValueChange=($.isFunction(f))?f:c.onValueChange;c.enable=d.attr("enable")=="false"?false:c.enable;c.visible=d.attr("visible")=="false"?false:c.visible;c.draggable=d.attr("draggable")=="true"?true:c.draggable;
c.resizable=d.attr("resizable")=="true"?true:c.resizable;c.popupWidth=parseInt(d.attr("popupWidth"))||c.popupWidth;c.popupHeight=parseInt(d.attr("popupHeight"))||c.popupHeight;c.showClose=d.attr("showClose")=="false"?false:c.showClose;c.showButton=d.attr("showButton")=="false"?false:c.showButton;c.popupTitle=$.evalI18nString(d.attr("popupTitle"));
f=d.attr("popupSource");if(f===undefined){f=c.popupSource;}c.popupSource=f;f=d.attr("popupType");if(f===undefined){f=c.popupType;}c.popupType=f;c.modal=d.attr("modal")=="false"?false:c.modal;c.showClear=d.attr("showClear")=="true"?true:c.showClear;c.emptyText=d.attr("emptyText");c.aeType=d.attr("aeType");
c.width=d.attr("width");var b=d.attr("initAfterAction");c.initAfterAction=b?function(){if($.isString(b)){var h=b.indexOf("(");var g=h>0?b.substring(0,h):b;var j="return window."+g+"?"+g+".call(window):false;";return new Function(j)();}}:"";var a=d.attr("setParam");c.setParam=a?function(){if($.isString(a)){var h=a.indexOf("(");
var g=h>0?a.substring(0,h):a;var j="return window."+g+"?"+g+".call(window):false;";return new Function(j)();}}:"";var e=d.attr("onConfirm");c.onConfirm=e?function(k){if($.isString(e)){var h=e.indexOf("(");var g=h>0?e.substring(0,h):e;var j="return window."+g+"?"+g+".call(window,e):false;";return new Function("e",j)(k);
}}:"";},_bindEvent:function(){var b=this,c=b.options,a=c.initAfterAction;this.element.off("click.aeTextpopup").on("click.aeTextpopup",function(){var e={autoOpen:true,modal:c.modal,draggable:c.draggable,resizable:c.resizable,showClose:c.showClose,showButton:c.showButton,width:c.popupWidth,height:c.popupHeight,title:c.popupTitle,popupType:c.popupType,close:function(){var h=$.aries.page.data._paramArray;
if(h.length>0){h.pop();}else{$.aries.page.data._removeHidedData("ae_popup_Id");}$.aries.page.data._removeHidedData("ae_popup_param");if(c.popupType==="page"){var g=$.aries.page.data._privateArray;if($.isArray(g)&&g.length>0){g.pop();}}},confirm:c.onConfirm};if(c.popupSource){if(c.popupType==="page"){if(c.setParam){var d=c.setParam();
if(d){$.aries.page.data._setHidedData("ae_popup_param",d);}}$.ajax(c.popupSource,{cache:false,success:function(h,k,g){if($(document.body).find('div[id="ae_popup_div_'+b.element.attr("aeId")+'"]').length<=0){$('<div id="ae_popup_div_'+b.element.attr("aeId")+'"></div>').appendTo("body");}var i=$.extend(true,{},$.extend({elementId:"ae_popup_div_"+b.element.attr("aeId")},e));
$("#ae_popup_div_"+b.element.attr("aeId")).aeDialog(i);$.aries.page.data._paramArray.push(i);$.aries.page.data._setHidedData("ae_popup_Id",$.aries.page.data._paramArray);$("#ae_popup_div_"+b.element.attr("aeId")).html(h);if(typeof $.popupConfirmEvent=="function"){var j=$.aries.page.data._privateArray;
j.push({"id":b.element.attr("aeId"),"confirmFunc":$.popupConfirmEvent});}if(c.popupConfirmEvent&&typeof c.popupConfirmEvent==="function"){$.aries.page.data._textPopPageConfirm=c.popupConfirmEvent;}$.aries.common.globalInit("ae_popup_div_"+b.element.attr("aeId"));},error:function(g,i,h){}});}if(c.popupType==="div"){if(a){b._trigger("initAfterAction");
}var f=$.extend(true,{},$.extend({elementId:c.popupSource},e));$.aries.page.data._paramArray.push(f);$.aries.page.data._setHidedData("ae_popup_Id",$.aries.page.data._paramArray);$("#"+c.popupSource).attr("elementId",b.element.attr("aeId"));$("#"+c.popupSource).aeDialog(f);}}}).closest("div.input-group").find("span.input-group-btn").off("click.aeTextpopup").click(function(){b.element.trigger("click");
});},_refeshEmptyText:function(a){var b=this.element;if(!a){return;}if(b.prop("placeholder")===""){b.prop("placeholder",a);}else{if(b.prop("placeholder")===a){b.prop("placeholder","");}}}});$.extend($.ae.aeTextpopup,{closePopup:function(o,d,p){var m,f,l,k;var a=$.aries.page.data._getHidedData("ae_popup_Id");
if(!$.isArray(a)||a.length<0){return;}var j=a[a.length-1];var n=j.elementId;if(n.indexOf("ae_popup_div_")>-1){$("#"+n).aeDialog("close");var b=n.substring(("ae_popup_div_").length);f=$("input[aeId="+b+"]");m=f.attr("afterAction");}else{$("#"+n).aeDialog("close");var h=$("#"+n).attr("elementId");if(h){f=$("input[aeId="+h+"]");
m=f.attr("afterAction");}}if(f){k=f.attr("valueField");}if(o){if(m){var g=m.indexOf("(");var e=g>0?m.substring(0,g):m;var c="return window."+e+"?"+e+".call(window,j):false;";new Function("j",c)(o);}else{if(d&&f){l=f.val();f.val(o[d]);}if(p&&f){f.attr("valueField",o[p]);}else{if(l!==f.val()){f.removeAttr("valueField");
}}}if(f&&f.next().is(".icon-error2")){if(f.val()!==""&&typeof(f.val())!="undefined"){f.next().show();}}}if(f&&f.attr("valueField")!==k){$("#"+f.attr("aeId")).data("ae-aeTextpopup")._trigger("onValueChange");}},getParam:function(){return $.aries.page.data._getHidedData("ae_popup_param")||"";}});$.closeTextPopup=$.ae.aeTextpopup.closePopup;
$.getTextPopupParam=$.ae.aeTextpopup.getParam;});define("ui-guide",function(require,exports,moudles){$.aeWidget("ae.aeGuide",{options:{_initial:false,theme:0,_icon:["fa fa-user","fa fa-picture-o","fa fa-edit","fa fa-calendar","fa fa-book","fa fa-home","fa fa-folder","fa fa-save"],title:"",width:"auto",height:"auto",button:false,initType:"html"},_create:function(){var a=this,c=this.options,e=this.element,f=e.attr("id");
if(c._initial===true){return;}if(f){e.attr("aeId",f);}if(c.initType==="html"){a._buildOptions(c,e);}var d;switch(c.theme){case 0:d="nav nav-justified nav-pills nav-wizard-circle";c.icon=[];break;case 1:d="nav nav-justified nav-pills nav-wizard-icon";c.icon=c.icon||c._icon;break;default:d="nav nav-justified nav-pills nav-wizard-circle";
optinos.icon=[];break;}e.addClass("modal-body");e.find(">ul:first").addClass(d);c._total=e.find(">ul.nav").children("li").length;if(e.children(":not(ul.nav)").length){e.children(":not(ul.nav)").wrapAll('<div class="tab-content"></div>');}else{e.find(">ul.nav").after('<div class="tab-content"></div>');
}e.find(">div.tab-content").children().hide();var b=e.find(">div.tab-content");e.find(">ul.nav li").each(function(g,j){var o=$(j).text();if(c.theme===1){g<c.icon.length?$(j).children("a").html('<strong><i class="'+c.icon[g]+'"></i></strong><p>'+o+"<p>"):$(j).children("a").html('<strong><i class="'+c.icon[g%c.icon.length]+'"></i></strong><p>'+o+"<p>");
}else{$(j).children("a").html("<strong>"+(g+1)+"</strong><p>"+o+"<p>");c.icon.push("fa fa-check");}var k=(((1+Math.random())*65536)|0).toString(16).substring(1);var h=g.toString();$(j).attr("stepId","stepid"+h+k);var n=$(j).attr("stepId");var m=$(j).attr("src");c._data.push([n,m]);if(a._srcType(m)==="page"){b.append('<div stepId="'+n+'" style="display:none;"></div>');
}else{if(a._srcType(m)==="div"){if(!b.find(">"+m).length){var l=$(m).prop("outerHTML")||'<div id="'+m.split("#")[1]+'"></div>';$(m).remove();b.append(l);}$(m).attr("stepId",n).hide();}}});c._initial=true;},_init:function(){this.element.find(">ul.nav li").removeClass().addClass("disabled");this.element.find(">div.tab-content").children().hide();
this.options._history=[];this.options._active=undefined;this.options._activeStep=undefined;this.element.unbind(".aeguidelis");},_buildOptions:function(b,d){b._data=[];b.id=d.attr("id");b.theme=parseInt(d.attr("theme"),10)||b.theme;b.title=d.attr("title")||undefined;b.button=d.attr("button")=="true"?true:b.button;
b.width=parseInt(d.attr("width"),10)||b.width;b.height=parseInt(d.attr("height"),10)||b.height;var e=d.attr("icon");if(e&&e.indexOf("[")!==-1){e=$.trim(e);b.icon=[];var a=e.substring(1,e.length-1).split(",");for(var c=0;c<a.length;c++){a[c]=$.trim(a[c]);b.icon.push(a[c]);}}this._buildOptionEvent(b,"onBeforeStart",d.attr("onBeforeStart"));
this._buildOptionEvent(b,"onStart",d.attr("onStart"));this._buildOptionEvent(b,"onBeforeNext",d.attr("onBeforeNext"));this._buildOptionEvent(b,"onNext",d.attr("onNext"));this._buildOptionEvent(b,"onBeforePrev",d.attr("onBeforePrev"));this._buildOptionEvent(b,"onPrev",d.attr("onPrev"));this._buildOptionEvent(b,"onBeforeClose",d.attr("onBeforeClose"));
this._buildOptionEvent(b,"onClose",d.attr("onClose"));},_buildOptionEvent:function(a,c,b){a[c]=b?function(h,g){if($.isString(b)){var e=b.indexOf("(");var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window,p1,p2):false;";return new Function("p1","p2",f)(h,g);}}:a[c];},start:function(){var a=this,c=this.options,e=this.element;
a._init();$.setPublicData("guide",e.attr("id"));if(c.onBeforeStart&&false===a._trigger("onBeforeStart")){return;}var d=$.extend(true,{},$.extend({title:c.title,width:c.width,height:c.height,showButton:c.button,modal:true,draggable:false,resizable:false,showFlush:false,showClose:true,showMinMax:false,popupType:"div",onBeforeClose:c.onBeforeClose,onClose:c.onClose}));
c._dialogConfig=a._buildDialogConfig(d);if(a._srcType(c._data[0][1])==="page"){var b=e.find(">div.tab-content").children("[stepId="+c._data[0][0]+"]");$.includeHtml(b,c._data[0][1],function(){a._startThen();});}else{a._startThen();}},_startThen:function(){var a=this,b=this.options,c=this.element;a._stepsInit(b._data[0][0]);
c.aeDialog(b._dialogConfig);a._stepsShow(0,"start");b._history.push(0);b._active=0;b._activeStep=b._data[0][0];a._bindEvent();if(b.onStart){a._trigger("onStart");}},_bindEvent:function(){var a=this,d=this.element;var b=d.find(">ul.nav li");for(var c=0;c<b.length;c++){if($(b[c]).hasClass("done")){a._bindLiEvent(b[c]);
}}},_bindLiEvent:function(b){var a=this;$(b).bind("mouseover.aeguidelis",function(){$(this).css("cursor","pointer");}).bind("click.aeguidelis",function(){a._jump($(this).index());});},_buildDialogConfig:function(b){var a=this;return{autoOpen:true,modal:b.modal,width:b.width||"auto",height:b.height||"auto",title:b.title||"",popupType:b.popupType||"",draggable:b.draggable,resizable:b.resizable,showFlush:b.showFlush,showClose:b.showClose,showMinMax:b.showMinMax,partId:b.partId,onBeforeClose:function(){if(b.onBeforeClose&&false===a._trigger("onBeforeClose")){return false;
}},onClose:function(){if(this.options.onPrev){a._trigger("onPrev",event,this.options._active);}if(b.onClose){a._trigger("onClose");}$.removePublicData("guide");}};},next:function(){var a=this,c=this.options,f=this.element;var d=c._active;if(d===c._total-1){return;}if(c.onBeforeNext&&false===a._trigger("onBeforeNext",event,c._active)){return;
}var e=c._data[d+1][0];if(a._srcType(c._data[d+1][1])==="page"){var b=f.find(">div.tab-content").children("[stepId="+e+"]");$.includeHtml(b,c._data[d+1][1],function(){a._nextThen(e,d+1);});}else{a._nextThen(e,d+1);}},_nextThen:function(d,c){var a=this,b=this.options;a._stepsInit(d);a._stepsShow(c,"next");
b._active=c;b._activeStep=d;b._history.push(c);a._bindEvent();if(b.onNext){a._trigger("onNext",event,b._active);}},_jump:function(c){var a=this,b=this.options;if(c<b._active){if(c===b._active-1){a.prev();}else{if(b.onBeforePrev&&false===a._trigger("onBeforePrev",event,b._active)){return;}a._stepsShow(c,"jump");
b._active=c;b._activeStep=b._data[c][0];for(i=b._history.length-1;i>0;i--){if(b._history[i]===b._active){break;}else{b._history.pop();}}a._bindEvent();if(b.onPrev){a._trigger("onPrev",event,b._active);}}}},getActive:function(){var a=this.options._active;return a;},prev:function(c){var a=this,b=this.options;
if(c===true||c==="true"){a._prevThen();return;}if(b.onBeforePrev&&false===a._trigger("onBeforePrev",event,b._active)){return;}a._prevThen();if(b.onPrev){a._trigger("onPrev",event,b._active);}},_prevThen:function(){var a=this,b=this.options,e=this.element;var c=b._active;if(c===0){e.aeDialog("close");
return;}var d=b._data[c-1][0];a._stepsShow(c-1,"prev");b._active--;b._activeStep=d;b._history.pop();a._bindEvent();},_stepsInit:function(e){var j=this.options,g=this.element;var a=g.find(">div.tab-content:first").children('[stepId="'+e+'"]');var h=a.attr("initFunction");var c,f,d,b;if(h){c=a.find("[aeInit=false]");
if(c){$(c).each(function(k,l){$(l).attr("aeInit","true");});$.globalInit(a);f=h.indexOf("(");d=f>0?h.substring(0,f):h;b="return window."+d+"?"+d+".call(window):false;";new Function(b)();}}else{c=a.find('[aeInit="false"]');if(c&&c.length){$(c).each(function(k,l){$(l).attr("aeInit","true");});$.globalInit(a);
}}},_stepsShow:function(c,d){var b=this.options,f=this.element;var e=b._data[c][0];var a=f.find(">div.tab-content:first").children('[stepId="'+e+'"]');var g=f.find(">ul.nav li").eq(c);if(d==="start"){g.addClass("active").removeClass("disabled");}else{if(d==="next"){if(b.theme===0){g.prev("li").find(">a >strong").empty().html('<i class="fa fa-check"></i>');
}g.prev("li").addClass("done").removeClass("active");g.addClass("active").removeClass("disabled");}else{if(d==="prev"){if(b.theme===0){g.find(">a >strong").empty().text(c+1);}g.addClass("active").removeClass("done");g.next("li").addClass("disabled").removeClass("active");}else{if(d==="jump"){if(b.theme===0){g.find(">a >strong").empty().text(c+1);
g.nextAll("li").each(function(j,h){$(h).find(">a >strong").empty().text(c+j+2);});}g.addClass("active").removeClass("done");g.nextAll("li").addClass("disabled").removeClass("active").removeClass("done");}}}}a.show().siblings().hide();},_srcType:function(a){if(a&&typeof a==="string"){if(a.indexOf("#")===0){return"div";
}else{if(a.indexOf("#")!==0&&a.indexOf(".html")===a.length-5){return"page";}}}else{return false;}}});});define("ui-irguide",function(require,exports,moudles){$.aeWidget("ae.aeIrguide",{options:{_initial:false,path:[],title:"",width:"auto",height:"auto",button:false,buttonRenderer:undefined,initType:"html"},_create:function(){var a=this,c=this.options,e=this.element,f=e.attr("id");if(c._initial===true){return;
}if(f){e.attr("aeId",f);}if(c.initType==="html"){a._buildOptions(c,e);}e.addClass("modal-body");e.find(">ul:first").addClass("nav nav-justified nav-pills nav-wizard");if(e.children(":not(ul.nav)").length){e.children(":not(ul.nav)").wrapAll('<div class="tab-content"></div>');}else{e.find(">ul.nav").after('<div class="tab-content"></div>');
}e.find(">div.tab-content").children().hide();if(c.buttonRenderer){e.append(c.buttonRenderer());}else{if(c.button){var d='<div class="aeIrguidebutton" style="float:right">'+'<button type="button" class="btn btn-primary">Confirm</button>&nbsp;'+'<button type="button" class="btn btn-default">Cancel</button>'+"</div>";
e.append(d);a._bindButtonEvent();}}var b=e.find(">div.tab-content");e.find(">ul.nav li").each(function(g,j){if(c.path===undefined){if(!$(j).attr("stepId")){var k=(((1+Math.random())*65536)|0).toString(16).substring(1);var h=g.toString();$(j).attr("stepId","stepid"+h+k);}c._path.push($(j).attr("stepId"));
}var n=$(j).attr("stepId");var m=$(j).attr("src");c._src[n]=m;if(a._srcType(m)==="page"){b.append('<div stepId="'+n+'" style="display:none;"></div>');}else{if(a._srcType(m)==="div"){if(!b.find(">"+m).length){var l=$(m).prop("outerHTML")||'<div id="'+m.split("#")[1]+'"></div>';$(m).remove();b.append(l);
}$(m).attr("stepId",n).hide();}}$(j).children("a").hide();c._liObject[n]=$(j).prop("outerHTML");});c.path=c.path||c._path;a._structuringPath(c.path);c._initial=true;},_init:function(){this.element.find(">ul.nav").empty();this.options._history=[];this.options._active=undefined;this.options._activePath=[];
this.options._activeLiArray=[];},_buildOptions:function(b,c){b._liObject=[];b._src=[];b.id=c.attr("id");b.title=c.attr("title")||undefined;b.button=c.attr("button")=="true"?true:b.button;b.width=parseInt(c.attr("width"),10)||b.width;b.height=parseInt(c.attr("height"),10)||b.height;var d=c.attr("path");
if(d&&d.indexOf("[")!==-1){d=$.trim(d);b.path=$.parseJSON(d);}else{b.path=undefined;b._path=[];}var a=c.attr("buttonRenderer");b.buttonRenderer=a?function(){if($.isString(a)){var f=a.indexOf("(");var e=f>0?a.substring(0,f):a;var g="return window."+e+"?"+e+".call(window):false;";return new Function(g)();
}}:undefined;b.button=b.buttonRenderer?false:b.button;this._buildSimpleEvent(b,"onBeforeStart",c.attr("onBeforeStart"));this._buildSimpleEvent(b,"onStart",c.attr("onStart"));this._buildSimpleEvent(b,"onBeforeClose",c.attr("onBeforeClose"));this._buildSimpleEvent(b,"onClose",c.attr("onClose"));this._buildOptionEvent(b,"onBeforeNext",c.attr("onBeforeNext"));
this._buildOptionEvent(b,"onNext",c.attr("onNext"));this._buildOptionEvent(b,"onBeforePrev",c.attr("onBeforePrev"));this._buildOptionEvent(b,"onPrev",c.attr("onPrev"));if(b.button){this._buildOptionEvent(b,"onConfirm",c.attr("onConfirm"));this._buildOptionEvent(b,"onCancel",c.attr("onCancel"));}},_buildSimpleEvent:function(a,c,b){a[c]=b?function(g){if($.isString(b)){var e=b.indexOf("(");
var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window,e):false;";return new Function("e",f)(g);}}:undefined;},_buildOptionEvent:function(a,c,b){a[c]=b?function(j,h,g){if($.isString(b)){var e=b.indexOf("(");var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window,a,d,e):false;";
return new Function("a","d","e",f)(j,h,g);}}:undefined;},_bindButtonEvent:function(){var a=this,b=this.options,c=this.element;c.find(">div.aeIrguidebutton >button:first").bind("click.aeIrguidebutton",function(d){if(b.onConfirm){a._trigger("onConfirm",d,b._active,b._data);}a.prev();});c.find(">div.aeIrguidebutton >button:last").bind("click.aeIrguidebutton",function(d){if(b.onCancel){a._trigger("onCancel",d,b._active,b._data);
}a.prev(true);});},start:function(f){var a=this,c=this.options,e=this.element;a._init();$.setPublicData("irGuide",e.attr("id"));c._data={};if(f===undefined&&c.path){if(typeof c.path[0]==="object"){f=c.path[0][0];}else{f=c.path[0];}}if(a._getActivePath(f)){a._getActiveLiArray();}if(c.onBeforeStart&&false===a._trigger("onBeforeStart",null)){return;
}e.find(">ul.nav").append(c._activeLis);var d=$.extend(true,{},$.extend({title:c.title,width:c.width,height:c.height,showButton:c.button,modal:true,draggable:true,resizable:true,showClose:true,popupType:"div",onBeforeClose:c.onBeforeClose,onClose:c.onClose}));c._dialogConfig=a._buildDialogConfig(d);if(a._srcType(c._src[f])==="page"){var b=e.find(">div.tab-content").children("[stepId="+f+"]");
$.includeHtml(b,c._src[f],function(){a._startThen(f);});}else{a._startThen(f);}},_startThen:function(d){var a=this,b=this.options,c=this.element;a._stepsInit(d);c.aeDialog(b._dialogConfig);a._stepsShow(d,"start");b._history.push(d);b._active=d;if(b.onStart){a._trigger("onStart",null);}},_buildDialogConfig:function(b){var a=this;
return{autoOpen:true,modal:b.modal,width:b.width||"auto",height:b.height||"auto",title:b.title||"",popupType:b.popupType||"",draggable:b.draggable,resizable:b.resizable,showFlush:b.showFlush,showClose:b.showClose,showMinMax:b.showMinMax,partId:b.partId,beforeClose:function(){if(b.onBeforeClose&&false===a._trigger("onBeforeClose",null)){return false;
}},close:function(){if(b.onClose){a._trigger("onClose",null);}a.options._data=undefined;$.removePublicData("irGuide");}};},next:function(f){var a=this,c=this.options,e=this.element;var d=c._active;if(f===undefined){if(d===c._activePath[c._activePath.length-1]){return;}else{f=c._activePath[$.inArray(d,c._activePath)+1];
}}if(c.onBeforeNext&&false===a._trigger("onBeforeNext",null,c._active,c._data)){return;}if(a._getActivePath(f)===false){return;}else{if(a._getActivePath(f)===true){a._getActiveLiArray();}}if(a._srcType(c._src[f])==="page"){var b=e.find(">div.tab-content").children("[stepId="+f+"]");$.includeHtml(b,c._src[f],function(){a._nextThen(f);
});}else{a._nextThen(f);}},_nextThen:function(c){var a=this,b=this.options;a._stepsInit(c);a._stepsShow(c,"next");b._history.push(c);b._active=c;if(b.onNext){a._trigger("onNext",null,b._active,b._data);}},prev:function(c){var a=this,b=this.options;if(c===true||c==="true"){a._prevThen(c);return;}if(b.onBeforePrev&&false===a._trigger("onBeforePrev",null,b._active,b._data)){return;
}a._prevThen();},_prevThen:function(c){var a=this,b=this.options,f=this.element;var d=b._active;if(d===b._history[0]){if((!c)&&b.onPrev){a._trigger("onPrev",null,b._active,b._data);}f.aeDialog("close");return;}var e=b._history[$.inArray(d,b._history)-1];a._stepsShow(e,"prev");b._history.pop();b._active=e;
if(b.onPrev){a._trigger("onPrev",null,b._active,b._data);}},_stepsInit:function(d){var b=this.options,c=this.element;var a=c.find(">div.tab-content:first").children('[stepId="'+d+'"]');$.globalInit(a);},_stepsShow:function(e,c){var b=this.options,d=this.element;var a=d.find(">div.tab-content:first").children('[stepId="'+e+'"]');
var f=d.find(">ul.nav").children('li[stepId="'+e+'"]');if(c==="start"){f.addClass("active").children("a").show();a.show().siblings().hide();}else{if(c==="next"){f.prevAll("li").addClass("done").removeClass("active").children("a").show();f.addClass("active").children("a").show();a.show().siblings().hide();
}else{if(c==="prev"){f.nextAll("li").removeClass("active").children("a").hide();f.addClass("active").removeClass("done");a.show().siblings().hide();}}}},_structuringPath:function(d){var c,a,b=[];for(c=0;c<d.length;c++){if(typeof d[c]==="string"){b[d[c]]=d[c+1];}else{if(typeof d[c]==="object"){for(a=0;
a<d[c].length;a++){b[d[c][a]]=d[c][a+1];}}}}this.options._pathMap=b;},_getActivePath:function(h){var c=this.options,f=c.path,a=c._pathMap,e,d,g,b;if(!c._activePath.length){if($.inArray(h,f)!==-1){for(e=0;e<f.length;e++){if(f[e]===h||$.inArray(h,c._activePath)===0){c._activePath.push(f[e]);}}}return true;
}else{d=c._history[c._history.length-1];if((typeof c._pathMap[d]==="string"&&h===c._pathMap[d])||(typeof c._pathMap[d]==="object"&&$.inArray(h,c._pathMap[d])!==-1)){if($.inArray(h,c._activePath)===-1||($.inArray(h,c._activePath)!==-1&&$.inArray(h,c._activePath)-$.inArray(d,c._activePath)!==1)){g=[];for(e=0;
e<c._activePath.length;e++){if(c._activePath[e]===d){_avtivePath.push(c._activePath[e]);break;}else{_avtivePath.push(c._activePath[e]);}}g.push(h);b=h;while(c._pathMap[b]){g.push(c._pathMap[h][0]);b=c._pathMap[h][0];}c._activePath=g;return true;}}else{$.message.error("","","");return false;
}}},_getActiveLiArray:function(){var a=this.options;a._activeLiArray=[];a._activeLis="";for(var b=0;b<a._activePath.length;b++){a._activeLiArray.push(a._liObject[a._activePath[b]]);a._activeLis+=a._liObject[a._activePath[b]];}},_srcType:function(a){if(a&&typeof a==="string"){if(a.indexOf("#")===0){return"div";
}else{if(a.indexOf("#")!==0&&a.indexOf(".html")===a.length-5){return"page";}}}else{return false;}},getContent:function(a){},getActive:function(){return this.options._active;},setData:function(b,c){var a=this.options;if(b===undefined||a._data===undefined){return;}c=c||a._active;a._data[c]=b;},getData:function(){return this.options._data;
}});});define("ui-offCanvas",function(require,exports,moudles){$.aeWidget("ae.aeOffCanvas",{options:{initial:false,mouseMode:"click",location:"left",width:"15%",height:"15%",sideMargin:0,animSpeed:0,button:true,pushpin:false,bgColor:"#fff",opacity:1,initialMode:"close",initType:"html"},_create:function(){var b=this,c=b.options,e=b.element,f=e.attr("id");
if(c.initial){return;}if(f){e.attr("aeId",f);}if(c.initType=="html"){this._buildOptions(c,e);}e.attr("aeType",(c.aeType||"aeOffCanvas"));e.attr("uiid",c.uiid?c.uiid:e.attr("id"));var a=e.find("[name='offCanvas_side']");if(a.length===0){a=e.children(":first");a.attr("name","offCanvas_side");}var d=c.sideData={};
d.width=c.width;d.height=c.height;d.cssTop=a.css("top");d.cssBottom=a.css("bottom");d.cssLeft=a.css("left");d.cssRight=a.css("right");c.bodyWidth=$(document.body).outerWidth(true);c.bodyHeight=$(document.body).outerHeight(true);a.width(c.width);a.height(c.height);e.addClass("offCanvas_content");a.addClass("offCanvas_side");
e.children().css({"background":c.bgColor,"opacity":c.opacity});c.initial=true;},_init:function(){var b=this,c=b.options,e=b.element;var a=e.find("[name='offCanvas_side']");if(c.initialMode=="close"){c.side=false;}else{c.side=true;}var d=b._getSideLocation(!c.side);a.css(d);if(c.button){b._offCanvasButton();
}},_buildOptions:function(c,e){c.aeType=e.attr("aeType");c.uiid=e.attr("uiid");c.mouseMode=e.attr("mouseMode")||c.mouseMode;c.location=e.attr("location")||c.location;c.animSpeed=parseInt(e.attr("animSpeed"))||c.animSpeed;c.width=e.attr("width")||c.width;c.height=e.attr("height")||c.height;c.sideMargin=e.attr("sideMargin")||c.sideMargin;
c.bgColor=e.attr("bgColor")||c.bgColor;c.opacity=e.attr("opacity")||c.opacity;c.initialMode=e.attr("initialMode")||c.initialMode;c.button=e.attr("button")=="false"?false:c.button;var d=e.attr("onBeforeOpen");c.onBeforeOpen=d?function(k){if($.isString(d)){var h=d.indexOf("(");var g=h>0?d.substring(0,h):d;
var j="return window."+g+"?"+g+".call(window, e):false;";return new Function("e",j)(k);}}:"";var b=e.attr("onAfterOpen");c.onAfterOpen=b?function(k){if($.isString(b)){var h=b.indexOf("(");var g=h>0?b.substring(0,h):b;var j="return window."+g+"?"+g+".call(window, e):false;";return new Function("e",j)(k);
}}:"";var a=e.attr("onBeforeClose");c.onBeforeClose=a?function(k){if($.isString(a)){var h=a.indexOf("(");var g=h>0?a.substring(0,h):a;var j="return window."+g+"?"+g+".call(window, e):false;";return new Function("e",j)(k);}}:"";var f=e.attr("onAfterClose");c.onAfterClose=f?function(k){if($.isString(f)){var h=f.indexOf("(");
var g=h>0?f.substring(0,h):f;var j="return window."+g+"?"+g+".call(window, e):false;";return new Function("e",j)(k);}}:"";},_open:function(){var b=this,c=b.options,e=b.element;var a=e.find("[name='offCanvas_side']");if(c.side){return;}if(c.onBeforeOpen&&b._trigger("onBeforeOpen",null)===false){return false;
}var d=b._getSideLocation(!!c.side);a.animate(d,c.animSpeed);if(c.button){b._btnOpen();}if(c.onAfterOpen){b._trigger("onAfterOpen",null);}c.side=true;},_close:function(){var b=this,c=b.options,g=b.element;var a=g.find("[name='offCanvas_side']");if(!c.side){return;}if(c.onBeforeClose&&b._trigger("onBeforeClose",null)===false){return false;
}var e;if(c.button){var d=g.find("[name='offCanvasBtn']");e=d.siblings(":not([name='offCanvas_side'])");}else{e=a.siblings();}if(e.length>0){e.hide();}var f=b._getSideLocation(!!c.side);a.animate(f,c.animSpeed);if(c.button){b._btnClose();}if(c.onAfterClose){b._trigger("onAfterClose",null);}c.side=false;
},_getSideLocation:function(d){var b=this,c=b.options,g=b.element;var e=c.sideData;var f,a;if(d===undefined){d=c.side;}if(c.location=="top"){a=b._calculator(c.sideMargin,2,e.height);e.leftOpen=e.leftClose=0;e.topOpen=e.topClose=0;e.topClose=a;if(d===false){f={"top":e.topOpen};}else{f={"top":e.topClose};
}}else{if(c.location=="bottom"){a=b._calculator(c.sideMargin,2,e.height);e.leftOpen=e.leftClose=0;e.bottomOpen=e.bottomClose=0;e.bottomClose=a;if(d===false){f={"bottom":e.bottomOpen};}else{f={"bottom":e.bottomClose};}}else{if(c.location=="right"){a=b._calculator(c.sideMargin,2,e.width);e.topOpen=e.topClose=0;
e.rightOpen=e.rightClose=0;e.rightClose=a;if(d===false){f={"right":e.rightOpen};}else{f={"right":e.rightClose};}}else{a=b._calculator(c.sideMargin,2,e.width);e.topOpen=e.topClose=0;e.leftOpen=e.leftClose=c.sideMargin;e.leftClose=a;if(d===false){f={"left":e.leftOpen};}else{f={"left":e.leftClose};}}}}return f;
},_btnOpen:function(){var a=this,b=a.options,e=a.element;var c=e.find("[name='offCanvasBtn']");var d=a._getBtnLocation(!!b.side);c.animate(d,b.animSpeed);c.removeClass("offCanvas_close_btn_"+b.location).addClass("offCanvas_open_btn_"+b.location);},_btnClose:function(){var a=this,b=a.options,e=a.element;
var c=e.find("[name='offCanvasBtn']");var d=a._getBtnLocation(!!b.side);c.animate(d,b.animSpeed);c.removeClass("offCanvas_open_btn_"+b.location).addClass("offCanvas_close_btn_"+b.location);},_offCanvasButton:function(){var h=this,i=h.options,f=h.element;var c=i.btnData={};var b=i.sideData;var e,a;a="offCanvas_close_btn_"+i.location;
if(i.side){a="offCanvas_open_btn_"+i.location;}var d='<div name="offCanvasBtn">&nbsp;</div>';f.prepend(d);var g=f.find("[name='offCanvasBtn']");g.addClass(a);c.width=g.width();c.height=g.height();e=h._getBtnLocation(!i.side);g.css(e);if(i.mouseMode=="mouseover"){g.mouseover(function(){if(i.side){h._close();
}else{h._open();}});}else{g.click(function(){if(i.side){h._close();}else{h._open();}});}},_getBtnLocation:function(e){var i=this,j=i.options,f=i.element;var a=j.sideData,b=j.btnData;var d,h,c,g;if(e===undefined){e=j.side;}if(j.location=="top"){h=i._calculator(a.width,4,2);h=i._calculator(h,2,b.width/2);
if(a.cssLeft!=="auto"){c=i._calculator(a.cssLeft,1,h);b.leftOpen=b.leftClose=c;}else{if(a.cssRight!=="auto"){c=i._calculator(a.cssRight,1,h);b.rightOpen=b.rightClose=c;}else{b.leftOpen=b.leftClose=h;}}g=i._calculator(j.sideMargin,1,a.height);b.topOpen=g;b.topClose=j.sideMargin;if(e===false){d={"top":b.topOpen,"left":b.leftOpen,"right":b.rightOpen};
}else{d={"top":b.topClose,"left":b.leftClose,"right":b.rightClose};}}else{if(j.location=="bottom"){h=i._calculator(a.width,4,2);h=i._calculator(h,2,b.width/2);if(a.cssLeft!=="auto"){c=i._calculator(a.cssLeft,1,h);b.leftOpen=b.leftClose=c;}else{if(a.cssRight!=="auto"){c=i._calculator(a.cssRight,1,h);b.rightOpen=b.rightClose=c;
}else{b.leftOpen=b.leftClose=h;}}g=i._calculator(j.sideMargin,1,a.height);b.leftOpen=b.leftClose=h;b.bottomOpen=g;b.bottomClose=j.sideMargin;if(e===false){d={"bottom":b.bottomOpen,"left":b.leftOpen,"right":b.rightOpen};}else{d={"bottom":b.bottomClose,"left":b.leftClose,"right":b.rightClose};}}else{if(j.location=="right"){h=i._calculator(a.height,4,2);
h=i._calculator(h,2,b.height/2);if(a.cssTop!=="auto"){c=i._calculator(a.cssTop,1,h);b.TopOpen=b.TopClose=c;}else{if(a.cssBottom!=="auto"){c=i._calculator(a.cssBottom,1,h);b.rightOpen=b.rightClose=c;}else{b.bottomOpen=b.bottomClose=h;}}g=i._calculator(j.sideMargin,1,a.width);b.topOpen=b.topClose=h;b.rightOpen=g;
b.rightClose=j.sideMargin;if(e===false){d={"top":b.topOpen,"right":b.rightOpen,"bottom":b.bottomOpen};}else{d={"top":b.topClose,"right":b.rightClose,"bottom":b.bottomClose};}}else{h=i._calculator(a.height,4,2);h=i._calculator(h,2,b.height/2);if(a.cssTop!=="auto"){c=i._calculator(a.cssTop,1,h);b.TopOpen=b.TopClose=c;
}else{if(a.cssBottom!=="auto"){c=i._calculator(a.cssBottom,1,h);b.rightOpen=b.rightClose=c;}else{b.bottomOpen=b.bottomClose=h;}}g=i._calculator(j.sideMargin,1,a.width);b.topOpen=b.topClose=h;b.leftOpen=g;b.leftClose=j.sideMargin;if(e===false){d={"top":b.topOpen,"left":b.leftOpen,"bottom":b.bottomOpen};
}else{d={"top":b.topClose,"left":b.leftClose,"bottom":b.bottomClose};}}}}return d;},_calculator:function(f,c,d){var e,b,a;if(typeof f=="string"){if(f.indexOf("%")!=-1){b="%";}else{if(f.indexOf("px")!=-1){b="px";}}f=parseInt(f);}if(typeof d=="string"){if(d.indexOf("%")!=-1){a="%";}else{if(d.indexOf("px")!=-1){a="px";
}}d=parseInt(d);}switch(c){case 1:e=f+d;break;case 2:e=f-d;break;case 3:e=f*d;break;case 4:e=f/d;break;case 5:e=f%d;break;default:return false;}if(b!==undefined||a!==undefined){if(b==a){e+=b;}else{b=a||b;e+=b;}}return e;},open:function(){this._open();},close:function(){this._close();},reload:function(c){return;
var a=this,b=this.options,d=this.element;if(c){data=a._transformToNodes(data);d.empty();d.append(a._appendNodes.apply(a,[data]));a._bindEvent();}}});});define("ui-panel",function(require,exports,moudles){$.aeWidget("ae.aePanel",{options:{_initial:false,header:true,theme:0,level:3,title:undefined,iconTitle:undefined,width:"auto",height:"auto",iconClose:false,iconFold:false,folding:false,initClosed:false,initFolded:false,loading:false,rightRenderer:undefined,leftRenderer:undefined,initType:"html"},_create:function(c){var g=this,j=this.options,f=this.element,d=f.attr("id");
if(j._initial===true){return;}if(d){f.attr("aeId",d);}if(j.initType==="html"){g._buildOptions(j,f);}var e;switch(j.theme){case 0:e="panel panel-primary panel-noborder";break;case 1:e="panel panel-primary panel-noborder panel-blue";break;case 2:e="panel panel-primary";break;case 3:e="panel panel-primary panel-blue";
break;default:e="panel panel-primary panel-noborder";break;}f.addClass("panel-body").wrap('<div class="'+e+'"></div>');var i=f.parent();i.css("width",j.width);if(j.header){g._rendererHeader();}j._initial=true;if(j.onInit){g._trigger("onInit",c);}if(j.height==="auto"){f.css("height",j.height);}else{var a,h=f.outerHeight(true);
if(j.header){var b=i.find(">div.panel-heading").outerHeight(true);a=j.height-b;}a=a||j.height;f.css("height",a);if(h>a){f.addClass("scorll-bar-box");f.niceScroll();}}},_rendererHeader:function(){var a=this,d=this.options,f=this.element,g=f.parent();g.prepend('<div class="panel-heading"></div>');var c=g.find(">div.panel-heading");
c.prepend('<div class="pull-left"></div>');var e=c.children("div.pull-left:first");switch(d.level){case 1:e.prepend('<h1 class="panel-title"></h1>');break;case 2:e.prepend('<h2 class="panel-title"></h2>');break;case 3:e.prepend('<h3 class="panel-title"></h3>');break;case 4:e.prepend('<h4 class="panel-title"></h4>');
break;case 5:e.prepend('<h5 class="panel-title"></h5>');break;case 6:e.prepend('<h6 class="panel-title"></h6>');break;default:e.prepend('<h3 class="panel-title"></h3>');break;}if(d.title){e.children(".panel-title").html(d.title);}if(d.iconTitle){e.children(".panel-title").prepend('<i class="'+d.iconTitle+'"></i>');
}if(d.leftRenderer){e.append(d.leftRenderer());}c.append('<div class="panel-btn"></div>');var b=c.find(">div.panel-btn");if(d.iconClose){b.prepend('<a class="aePaneliconclose"><i class="icon-error2"></i></a>');b.find(">a.aePaneliconclose").bind("mouseover.headericons",function(){$(this).css("cursor","pointer");
}).bind("click.herdericons",function(i){a.close(i);i.stopPropagation();});}if(d.iconFold){b.prepend('<a class="aePaneliconfold"><i class="icon-arrowlup-down"></i></a>');var h=b.find(">a.aePaneliconfold");h.bind("mouseover.headericons",function(){$(this).css("cursor","pointer");}).bind("click.herdericons",function(i){if(d._folded){a.unfold(i);
}else{a.fold(i);}i.stopPropagation();});}if(d.rightRenderer){b.prepend(d.rightRenderer());}if(d.folding){c.find(".panel-title").bind("click.folding",function(i){if(d._folded){a.unfold(i);}else{a.fold(i);}});}},_buildOptions:function(b,c){b.header=c.attr("header")=="false"?false:b.header;b.loading=c.attr("loading")=="true"?true:b.loading;
if(c.attr("aeTitle")){b.title=$.trim(c.attr("aeTitle"))||b.title;}else{if(c.attr("title")){b.title=$.trim(c.attr("title"))||b.title;c.removeAttr("title");}}b.iconTitle=$.trim(c.attr("iconTitle"))||b.iconTitle;b.theme=parseInt(c.attr("theme"),10)||b.theme;b.level=parseInt(c.attr("level"),10)||b.level;
b.width=parseInt(c.attr("width"),10)||b.width;b.height=parseInt(c.attr("height"),10)||b.height;b.folding=c.attr("folding")=="true"?true:b.folding;b.initFolded=c.attr("initFolded")=="true"?true:b.initFolded;b.initClosed=c.attr("initClosed")=="true"?true:b.initClosed;b.iconClose=c.attr("iconClose")=="true"?true:b.iconClose;
b.iconFold=c.attr("iconFold")=="true"?true:b.iconFold;var a=c.attr("leftRenderer");b.leftRenderer=a?function(){if($.isString(a)){var f=a.indexOf("(");var e=f>0?a.substring(0,f):a;var g="return window."+e+"?"+e+".call(window):false;";return new Function(g)();}}:undefined;var d=c.attr("rightRenderer");
b.rightRenderer=d?function(){if($.isString(d)){var f=d.indexOf("(");var e=f>0?d.substring(0,f):d;var g="return window."+e+"?"+e+".call(window):false;";return new Function(g)();}}:undefined;this._buildOptionEvent(b,"onBeforeOpen",c.attr("onBeforeOpen"));this._buildOptionEvent(b,"onOpen",c.attr("onOpen"));
this._buildOptionEvent(b,"onBeforeClose",c.attr("onBeforeClose"));this._buildOptionEvent(b,"onClose",c.attr("onClose"));this._buildOptionEvent(b,"onBeforeFold",c.attr("onBeforeFold"));this._buildOptionEvent(b,"onFold",c.attr("onFold"));this._buildOptionEvent(b,"onBeforeUnfold",c.attr("onBeforeUnfold"));
this._buildOptionEvent(b,"onUnfold",c.attr("onUnfold"));this._buildOptionEvent(b,"onInit",c.attr("onInit"));this._buildOptionEvent(b,"onReload",c.attr("onReload"));},_buildOptionEvent:function(a,c,b){a[c]=b?function(g){if($.isString(b)){var e=b.indexOf("(");var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window,e):false;";
return new Function("e",f)(g);}}:a[c];},_init:function(c){var a=this,b=this.options;b._closed=false;b._folded=false;b.initClosed?a.close(c):a.open(c);b.initFolded?a.fold(c):a.unfold(c);},reload:function(c,d){var a=this,b=this.options,e=this.element;if(!c){return;}a._init();if(b.loading){e.empty().html('<div class="loading"><span>Loading...</span></div>');
}$.includeHtml(e,c,function(f){if(b.onReload){a._trigger("onReload",f);}});},fold:function(c){var a=this,b=this.options,f=this.element,h=f.parent();var e=true,d="slow";if(b._folded){return;}if(b.onBeforeFold&&a._trigger("onBeforeFold",c)===false){return;}h.stop(true,true);if(b.header&&b.iconFold){var g=f.prev("div.panel-heading").find(">div.panel-btn >a.aePaneliconfold");
g.children("i").removeClass("icon-arrowlup-down").addClass("icon-arrowlup-little");}h.animate({height:"-="+f.outerHeight()},e?(d||"normal"):0,function(){f.hide();if(b.height==="auto"){h.css("height","");}b._folded=true;if(b.onFold){a._trigger("onFold",c);}});},unfold:function(c){var a=this,b=this.options,f=this.element,h=f.parent();
var e=true,d="slow";if(!b._folded){return;}if(b.onBeforeUnfold&&a._trigger("onBeforeUnfold",c)===false){return;}h.stop(true,true);if(b.header&&b.iconFold){var g=f.prev("div.panel-heading").find(">div.panel-btn >a.aePaneliconfold");g.children("i").removeClass("icon-arrowlup-little").addClass("icon-arrowlup-down");
}if(b.height==="auto"){h.height(f.prev("div.panel-heading").outerHeight()||"1px");}f.show();h.animate({height:"+="+f.outerHeight(true)},e?(d||"normal"):0,function(){if(b.height==="auto"){h.css("height","");}b._folded=false;if(b.onUnfold){a._trigger("onUnfold",c);}});},open:function(b){var c=this.element.parent(),a=this.options;
if(!a._closed){return;}if(a.onBeforeOpen&&this._trigger("onBeforeOpen",b)===false){return;}c.show();a._closed=false;if(a.onOpen){this._trigger("onOpen",b);}},close:function(b){var c=this.element.parent(),a=this.options;if(a._closed){return;}if(a.onBeforeClose&&this._trigger("onBeforeClose",b)===false){return;
}c.hide();a._closed=true;if(a.onClose){this._trigger("onClose",b);}},_destroy:function(){},setTitle:function(c){var b=this.options;if(!b.header){return;}var a=this.element.prev("div.panel-heading");a.find(">div.pull-left >h"+b.level).empty().html(c);},setRenderer:function(c,d){var b=this.options;if(!b.header){return;
}var a=this.element.prev("div.panel-heading");if(c&&typeof c==="string"){if(a.find(">div.panel-btn").children().length){a.find(">div.panel-btn").children().each(function(e,f){if(!($(f).is(".aePaneliconfold")||$(f).is(".aePaneliconclose"))){$(f).remove();}});}a.find(">div.panel-btn").prepend(c);}if(d&&typeof d==="string"){a.find(">div.pull-left >h"+b.level).nextAll().remove();
a.find(">div.pull-left").append(d);}}});});define("ui-tabs",function(require,exports,moudles){var a="active",b="tab-disable";$.aeWidget("ae.aeTabs",{options:{_initial:false,theme:0,leaveRefresh:false,width:"auto",height:"auto",_scrollable:true,closable:false,position:"top",switchMode:"click",active:0,tabMenu:false,_activateType:["first","last","prev","next"],onBeforeActivate:function(d,c){},onActivate:function(d,c){},onBeforeClose:function(d,c){},onClose:function(d,c){},onBeforeCloseAll:function(c){},onCloseAll:function(){},onAdd:function(c){},onBeforeAdd:function(c){},onReload:function(c){},initType:"html"},_create:function(){var c=this,d=this.options,f=this.element,h=f.attr("id");
if(d._initial===true){return;}if(h){f.attr("aeId",h);}d.random=(((1+Math.random())*65536)|0).toString(16).substring(1);d.id=0;if(d.initType==="html"){c._buildOptions(d,f);}var g,e;switch(d.theme){case 0:g="panel panel-default tab-nowrap";e="nav nav-tabs";break;case 1:g="panel panel-default tab-nowrap tab-simple";
e="nav nav-tabs";break;case 2:g="panel panel-default tab-nowrap tab-justi";e="nav nav-tabs";break;case 3:g="panel panel-default tab-nowrap tab-simple";e="nav nav-tabs nav-justified";d._scrollable=false;break;case 4:g="panel panel-default tab-less";e="nav nav-tabs";d._scrollable=false;d.tool=f.attr("tool");
c._tool(d.tool);break;case 5:g="panel panel-default tab-less";e="nav nav-tabs pull-right";d._scrollable=false;d.tool=f.attr("tool");c._tool(d.tool);break;default:g="panel panel-default tab-nowrap";e="nav nav-tabs";break;}f.addClass(g).children("ul:first").addClass(e).wrapAll('<div class="panel-heading"></div>').wrapAll('<div class="tab-listbox"></div>');
if(d._toolFn){f.find(">div.panel-heading").append(d._toolFn);}if(f.children(":not(div.panel-heading)").length){f.children(":not(div.panel-heading)").wrapAll('<div class="tab-content"></div>');}else{f.find(">div.panel-heading").after('<div class="tab-content"></div>');}f.find(">div.tab-content").children().addClass("tab-pane").hide();
if(d.active<0){d.active=0;}else{if(d.active>c._getLength()-1){d.active=c._getLength()-1;}}if(d.width==="fit"){f.outerWidth(f.parent().width());}else{if(d.width!=="auto"){f.css("width",d.width);}}if(d.height==="fit"){f.outerHeight(f.parent().height());}else{if(d.height!=="auto"){f.css("height",d.height);
}}c._history=[];c._makeSketch();d._initial=true;},_makeSketch:function(){var l=this,p=this.options,k=this.element;var d=k.find(">div.tab-content");k.find(">div.panel-heading >div.tab-listbox >ul li").each(function(r,s){var q="tabId-"+p.random+"-"+p.id++;var v=$(s).attr("src");$(s).children("a").attr("tabId",q);
if(l._srcType(v)==="page"){$(s).children("a").attr("href","#"+q);d.append('<div id="'+q+'"></div>');if(p.active===r){l._includeHtml(q,v);}}else{if(l._srcType(v)==="div"){$(s).children("a").attr("href",v);if(!d.find(">"+v).length){var u=$(v).prop("outerHTML")||'<div id="'+v.split("#")[1]+'"></div>';$(v).remove();
d.append(u);}}else{$(s).children("a").attr("href","#"+q);d.append('<div id="'+q+'"></div>');}}var t=$(s).find("a");if(p.closable===true||($.isArray(p.closable)&&$.inArray(r,p.closable)!==-1)){$('<i class="icon-error2"></i>').insertAfter(t);}});var m=k.find(">div.panel-heading >div.tab-listbox >ul li:eq("+p.active+")");
m.addClass(a).siblings("li").removeClass(a);p.activeTabId=l._getAlter(p.active);if(!$.inArray(p.activeTabId,l._history)){l._history.push(p.activeTabId);}d.children(l._tabIndex(p.active,false,true)).addClass("active").show().siblings().hide();var j=k.find(">div.panel-heading >div.tab-listbox >ul"),g=j.find("li a[tabId="+l._getAlter(p.active)+"]");
if(l._checkScroller()){j.stop(true,true);k.clearQueue();var e=k.find(">div.panel-heading >div.fn");var c=g.parent().offset().left;var i=c+g.parent().outerWidth(true);var o=4-c;var f=e.offset().left-i;if(o>=0){l._scroll(o,l._scrollCbFn());}else{if(f<=0){l._scroll(f,l._scrollCbFn());}else{l._scrollCbFn()();
}}}l._checkScroller()&&l._enableScroller();if(p.height!=="auto"){var h=k.innerHeight(),n=k.find(">div.panel-heading").outerHeight();k.find(">div.tab-content").css("height",h-n);}k.children().each(function(){$(this).is("div.panel-heading, div.tab-content")||$(this).remove();});k.css("height",k.height());
k.css("height",p.height);},_buildOptions:function(e,g){e.theme=parseInt(g.attr("theme"),10)||e.theme;e.active=parseInt(g.attr("active"),10)||e.active;e.width=parseInt(g.attr("width"),10)||e.width;e.height=parseInt(g.attr("height"),10)||e.height;e.leaveRefresh=g.attr("leaveRefresh")=="true"?true:e.leaveRefresh;
if(g.attr("switchMode")&&g.attr("switchMode").indexOf("mouseover")!==-1){e.switchMode="mouseover";}var h=g.attr("closable");if(h&&h=="true"){e.closable=true;}else{if(h&&h.indexOf("[")===0){h=[];var c=g.attr("closable").substring(1,g.attr("closable").length-1).split(",");for(var f=0;f<c.length;f++){h.push(parseInt(c[f],10));
}e.closable=h;}else{e.closable=false;}}this._buildOptionEvent(e,"onBeforeActivate",g.attr("onBeforeActivate"));this._buildOptionEvent(e,"onActivate",g.attr("onActivate"));this._buildOptionEvent(e,"onBeforeAdd",g.attr("onBeforeAdd"));this._buildOptionEvent(e,"onAdd",g.attr("onAdd"));this._buildOptionEvent(e,"onBeforeClose",g.attr("onBeforeClose"));
this._buildOptionEvent(e,"onClose",g.attr("onClose"));this._buildOptionEvent(e,"onReload",g.attr("onReload"));var j=g.attr("onBeforeCloseAll");e.onBeforeCloseAll=j?function(n){if($.isString(j)){var l=j.indexOf("(");var k=l>0?j.substring(0,l):j;var m="return window."+k+"?"+k+".call(window,e):false;";return new Function("e",m)(n);
}}:"";var d=g.attr("onCloseAll");e.onCloseAll=d?function(n){if($.isString(d)){var l=d.indexOf("(");var k=l>0?d.substring(0,l):d;var m="return window."+k+"?"+k+".call(window,e):false;";return new Function("e",m)(n);}}:"";},_buildOptionEvent:function(c,e,d){c[e]=d?function(k,j){if($.isString(d)){var g=d.indexOf("(");
var f=g>0?d.substring(0,g):d;var h="return window."+f+"?"+f+".call(window,p,e):false;";return new Function("p","e",h)(k,j);}}:c[e];},_tool:function(d){var c=this.options;if(c.theme===4){c.tool=function(){if($.isString(d)){var f=d.indexOf("(");var e=f>0?d.substring(0,f):d;var g="return window."+e+"?"+e+".call(window):false;";
return new Function(g)();}};c._toolFn='<div class="fn">'+c.tool()+"</div>"||'<div class="fn"><i class="icon-settings"></i></div>';}else{if(c.theme===5){c.tool=function(){if($.isString(d)){var f=d.indexOf("(");var e=f>0?d.substring(0,f):d;var g="return window."+e+"?"+e+".call(window):false;";return new Function(g)();
}};c._toolFn=c.tool()||"<h4>Title can be there</h4>";}}},_init:function(){this._buildEvent();},_renderTabMenu:function(){var c=this,e=this.element,d=this.options;},_buildEvent:function(){var c=this,f=this.element,e=this.options;var g=f.find(">div.panel-heading >div.tab-listbox >ul i.icon-error2");g.unbind("click.aetabs").bind("mouseover.aetabs",function(){$(this).css("cursor","pointer");
}).bind("click.aetabs",function(h){c._close($(this).parent("li:first").index());return false;});var d=f.find(">div.panel-heading >div.tab-listbox >ul li");if(e.switchMode==="mouseover"){d.bind("mouseover.aetabs",function(h){var j=$(this);var i=$.data(f[0],"activateTimer");if(typeof i!=="undefined"){clearTimeout(i);
}i=setTimeout(function(){c._activate(j.index(),h);return false;},200);$.data(f[0],"activateTimer",i);});}else{if(e.switchMode==="click"){d.bind("click.aetabs",function(h){c._activate($(this).index(),h);return false;});}}d.bind("click.aetabs",function(){return false;});f.find(">div.panel-heading >div.fn span").bind("click.aetabs",function(h){if($(this).hasClass(b)){return false;
}var i=$(this).parent("div.fn").siblings("div.tab-listbox").find(">ul li:last").outerWidth(true);if($(this).children("i").hasClass("icon-arrowleft-little")){c._scroll(i,c._scrollCbFn());}if($(this).children("i").hasClass("icon-arrowright-little")){c._scroll(-i,c._scrollCbFn());}if($(this).children("i").hasClass("icon-arrowlup-down")){if(f.find(">div.panel-heading >ul").is(":hidden")){f.find(">div.panel-heading >ul").slideDown();
}else{f.find(">div.panel-heading >ul").slideUp();}}return false;});},_purgeEvent:function(){var e=this.element,c=this.options;var d=e.find(">div.panel-heading");d.children().unbind(".aetabs");d.find(">div.tab-listbox >ul >li >a").unbind(".aetabs");},_activate:function(i,f){var p=this,o=this.element,r=this.options;
var m=o.find(">div.panel-heading >div.tab-listbox >ul");var h=p._getAlter(i),d=p._tabIndex(i,true);if(r.active===i){return false;}if(r.onBeforeActivate&&this._trigger("onBeforeActivate",f,i)===false){return false;}var k=m.find("li a[tabId="+h+"]"),e=k.attr("href");k.parent().addClass(a).siblings().removeClass(a);
if(p._checkScroller()){m.stop(true,true);o.clearQueue();var g=o.find(">div.panel-heading >div.fn");var c=k.parent().offset().left;var l=c+k.parent().outerWidth(true);var q=4-c;var j=g.offset().left-l;if(q>=0){p._scroll(q,p._scrollCbFn());}else{if(j<=0){p._scroll(j,p._scrollCbFn());}else{p._scrollCbFn()();
}}}if(p._srcType(d)==="page"&&(r.leaveRefresh===true||$("#"+h).html()==="")){p._includeHtml(h,d,function(){p._activateThen(i,h,e,f);});}else{p._activateThen(i,h,e,f);}},_activateThen:function(j,f,c,h){var i=this.element,e=this.options;i.find(">div.tab-content >"+c).addClass("active").show().siblings().removeClass("active").hide();
e.activeTabId=f;e.active=j;var g=this._history,d=$.inArray(f,g);d===-1?g.push(f):g.push(g.splice(d,1)[0]);e.onActivate&&this._trigger("onActivate",h,j);},_close:function(g){var q=this.element,t=this.options;g=(g===undefined?t.active:g);var r=q.find(">div.panel-heading"),d=q.find(">div.tab-content");var f=this._getAlter(g),k=q.height();
if(t.onBeforeClose&&this._trigger("onBeforeClose",null,g)===false){return false;}r.find("li").eq(g).remove();d.children().eq(g).empty().remove();if(d.children().length===0){d.css({height:k-r.outerHeight()});}for(var o=this._history.length-1;o>=0;o--){if(f===this._history[o]){this._history.splice(o,1);
break;}}if(t.onClose){this._trigger("onClose",null,g);}if(this._getLength()===0){t.active=-1;t.activeTabId=null;return;}else{if(g===t.active){if(g===this._getLength()){t.active=-1;this._activate(0);}else{t.active=-1;this._activate(g);}this._buildDropDown();}else{g<t.active&&t.active--;var m=r.find(">div.tab-listbox >ul");
if(this._checkScroller()){m.stop(true,true);q.clearQueue();var p=m.children(":last");var j=m.children(":first");var e=q.find(">div.panel-heading >div.fn");var c=p.offset().left;var l=c+p.outerWidth(true);var s=4-j.offset().left;var h=e.offset().left-l;if(h>0){this._scroll(h,this._scrollCbFn());}else{this._scroll(s,this._scrollCbFn());
}}}}},add:function(g){var c=this,i=this.element,f=this.options;if(f.onBeforeAdd&&c._trigger("onBeforeAdd",null,g)===false){return false;}g=g||{};var h={title:g.title||"tabId-"+f.random+"-"+f.id++,tabId:"tabId-"+f.random+"-"+f.id++,icon:g.icon||false,closable:!!g.closable,activate:!!g.activate,index:g.index||"last",content:g.src||undefined};
if(h.index==="next"){h.index=f.active;}else{if(h.index==="first"){h.index=-1;f.active++;}else{h.index=c._tabIndex(h.index);if(h.index<f.active){f.active++;}else{if(h.index===c._getLength()){h.index=-1;f.active++;}}}}i.find(">div.tab-content").append('<div id="'+h.tabId+'"></div>');i.find("#"+h.tabId).hide();
h.href="#"+h.tabId;var e=i.find(">div.panel-heading >div.tab-listbox >ul");if(h.index===-1){$('<li><a tabId="'+h.tabId+'" href="'+h.href+'">'+h.title+"</a></li>").insertBefore(e.children("li:eq(0)"));}else{$('<li><a tabId="'+h.tabId+'" href="'+h.href+'">'+h.title+"</a></li>").insertAfter(e.children("li:eq("+h.index+")"));
}var d=e.children("li:eq("+(h.index+1)+")");if(h.icon){d.children("a").prepend('<i class="'+h.icon+'"></i>');}if(h.closable){$('<i class="icon-error2"></i>').insertAfter(d.children("a"));}if(e.innerWidth()-d.position().left<500){e.width(e.width()+500);}c._checkScroller()&&c._enableScroller();if(c._srcType(h.content)==="page"){h.src=h.content;
d.attr("src",h.src);c._includeHtml(h.tabId,h.src,function(){if(h.activate){c._purgeEvent();c._buildEvent();c._trigger("onAdd",null,g);c._activate(h.index+1);}});}else{h.src="#"+h.tabId;d.attr("src",h.src);if(h.content&&$.isFunction(h.content)){i.find("#"+h.tabId).html(h.content());$.globalInit(i.find("#"+h.tabId));
}c._purgeEvent();c._buildEvent();c._trigger("onAdd",null,g);if(h.activate){c._activate(h.index+1);}}},reload:function(d){if(!d||!d.src){return;}var f={};var c=d.index===undefined?this.options.active:d.index;f.index=this._tabIndex(c);if(f.index<0){f.index=0;}else{if(f.index>this._getLength()-1){f.index=this._getLength()-1;
}}var e=this._srcType(d.src);if(e==="div"){f.content=$(d.src).prop("outerHTML");}else{if(e==="page"){f.url=d.src;}else{if($.isFunction(d.src)){f.content=d.src();}}}f.activate=(d.activate==="true"||d.activate===true)?true:false;this._reload(f);},_reload:function(d){var c=this._tabIndex(d.index,false,true);
if(d.url){this._includeHtml(c.split("#")[1],d.url,function(){if(d.activate){this._activate(d.index);}if(this.options.onReload){this._trigger("onReload",null,d.index);}});}else{if(d.content){$(c).html(d.content);$.globalInit(c.split("#")[1]);if(d.activate){this._activate(d.index);}if(this.options.onReload){this._trigger("onReload",null,d.index);
}}else{$(c).empty();if(d.activate){this._activate(d.index);}if(this.options.onReload){this._trigger("onReload",null,d.index);}}}},_scrollCbFn:function(){var c=this;return function(){c._enableScroller();c._buildDropDown();};},_scroll:function(c,m){var l=this,k=this.element,n=this.options;var h=k.find(">div.panel-heading >div.tab-listbox >ul"),i=h.children(":last"),e=h.children(":first"),g=k.find(">div.panel-heading >div.fn >span:first"),j=k.find(">div.panel-heading >div.fn >span:eq(1)");
if(c===0||!n._scrollable){return;}var f=g.parent().offset();var d=function(p){if((c<0&&j.hasClass(b))||(c>0&&g.hasClass(b))){h.stop(true,true);k.clearQueue();return;}var o=false;c=(c>0)?"+="+Math.min(Math.abs(e.offset().left)+4,c):"-="+Math.min((i.offset().left+i.outerWidth(true)-f.left),Math.abs(c));
l.isScrolling=true;h.animate({left:c+"px"},"normal","swing",function(){if(typeof(m)==="function"){m();}l.isScrolling=false;p();});};k.queue(d);if(k.queue().length==1&&!l.isScrolling){k.dequeue();}},_checkScroller:function(){var h=this.element,f=this.options;if(!f._scrollable){return false;}var e=h.find(">div.panel-heading >div.tab-listbox >ul");
var d=h.find(">div.panel-heading >div.tab-listbox");var c=4;e.children().each(function(){c+=$(this).outerWidth(true);});if(c>e.parent().parent().innerWidth()){if(d.siblings().length===0){var g=$("<div></div>").insertAfter(d).addClass("fn");$('<span><i class="icon-arrowleft-little"></i></span>').appendTo(g);
$('<span><i class="icon-arrowright-little"></i></span>').appendTo(g);$('<span><i class="icon-arrowlup-down"></i></span>').appendTo(g);$("<ul></ul>").addClass("dropdown-menu").css("display","none").insertAfter(g);f.tools=true;f._dropDown=[];}return true;}else{d.siblings().remove();f.tools=false;return false;
}},_enableScroller:function(){var j=this.element.find(">div.panel-heading"),h=j.find(">div.tab-listbox >ul");if(j.length===0||h.length===0){return false;}var i=j.find(">div.fn >span").eq(0),f=j.find(">div.fn >span").eq(1),k=h.children(":last"),c=j.offset().left,g=i.offset().left,d=h.offset().left,e=k.offset().left+k.outerWidth(true);
i.toggleClass(b,d>=c);f.toggleClass(b,e<=g);},_buildDropDown:function(){var c=this,e=this.options,g=this.element;if(!e.tools){return;}var d=g.find(">div.panel-heading >div.tab-listbox >ul li");var f=g.find(">div.panel-heading >div.fn");d.each(function(i,j){var h=c._getAlter(i);if(($(j).offset().left+$(j).outerWidth(true))>f.offset().left||$(j).offset().left<0){if($.inArray(h,e._dropDown)===-1){e._dropDown.push(h);
f.next("ul").append('<li><a tabId="'+h+'">'+$(j).children("a").html()+"</a></li>");}}else{if($.inArray(h,e._dropDown)!==-1){e._dropDown.splice($.inArray(h,e._dropDown),1);var k=f.next("ul").find("li a[tabId="+h+"]");k.parent("li").empty().remove();}}});g.find(">div.panel-heading >ul li").unbind("click.aetabs").bind("click.aetabs",function(j){g.find(">div.panel-heading >ul").slideUp();
var i=$(j.target).attr("tabId");$(j.target).parent("li").empty().remove();var h=$.inArray(i,e._dropDown);e._dropDown.splice(h,1);c._activate(c._getAlter(i));});},_includeHtml:function(e,g,h){var c=this,d=this.options,f=this.element;$.ajax(g,{async:false,cache:false,success:function(j,k,i){$("#"+e).html(j);
$.globalInit(e);if(h&&$.isFunction(h)){h(j,k,i);}},error:function(i,k,j){$.message.error("","","tabs reloading error.");}});},_srcType:function(c){if(c&&typeof c==="string"){if(c.indexOf("#")===0){return"div";}else{if(c.indexOf("#")!==0&&c.indexOf(".html")===c.length-5){return"page";}}}else{return false;
}},_tabIndex:function(g,i,d){var c=this,h=this.element,f=this.options,j;var e=/\D/g;if(!e.test(g)){j=parseInt(g,10);}else{if($.inArray(g,f._activateType)===-1){j=h.find(">div.panel-heading >div.tab-listbox >ul a[tabId="+j+"]").parents("li:first").index();}else{if($.inArray(g,f._activateType)!==-1){switch(g){case"first":j=0;
break;case"last":j=h.find(">div.panel-heading >div.tab-listbox >ul li:last").index();break;case"prev":j=(f.active-1)>=0?(f.active-1):c._getLength();break;case"next":j=(f.active+1)<=c._getLength()?(f.active+1):0;break;default:break;}}}}if(i){i=h.find(">div.panel-heading >div.tab-listbox >ul li").eq(j).attr("src");
return i;}else{if(d){d=h.find(">div.panel-heading >div.tab-listbox >ul li").eq(j).children("a").attr("href");return d;}else{return j;}}},_getAlter:function(f){var e=this.element,d=this.options,c;if(typeof f==="number"){c=e.find(">div.panel-heading >div.tab-listbox >ul li:eq("+f+") a").attr("tabId");}else{if(typeof f==="string"){e.find(">div.panel-heading >div.tab-listbox >ul li a").each(function(g){if($(this).attr("tabId")==f){c=g;
return false;}});}}return c===undefined?null:c;},_getLength:function(){return this.element.find(">div.panel-heading >div.tab-listbox >ul").children().length;},_doLayout:function(){if(this._checkScroller()){this._enableScroller();}},doLayout:function(){this._doLayout();},close:function(c){c=(c===undefined?this.options.active:c);
c=this._tabIndex(c);if(c<0){c=0;}else{if(c>this._getLength()-1){c=this._getLength()-1;}}this._close(c);},closeAll:function(){var g=this.element,e=this.options;var f=g.find(">div.panel-heading"),d=g.find(">div.tab-content"),c=g.height();if(e.onBeforeCloseAll&&this._trigger("onBeforeCloseAll",null)===false){return false;
}f.find(">div.tab-listbox >ul li").remove();f.find(">div.tab-listbox").siblings().remove();d.empty();d.css({height:c-f.outerHeight()});e.active=-1;e.activeTabId=null;this._history=[];e._dropDown=[];this._doLayout();if(e.onCloseAll){this._trigger("onCloseAll",null);}},activate:function(c){if(!c){return;
}c=this._tabIndex(c);if(c<0){c=0;}else{if(c>this._getLength()-1){c=this._getLength()-1;}}this._activate(c);},getAlter:function(c){return this._getAlter(c);},getActivated:function(){return this.options.activeTabId;},getLength:function(){return this._getLength();},getTabHeader:function(d){if(d===undefined){d=this.options.active;
}else{d=this._tabIndex(d);if(d<0){d=0;}else{if(d>this._getLength()-1){d=this._getLength()-1;}}}var c=this.element.find(">div.panel-heading ul.nav >li").eq(d);return c;}});});define("ui-breadcrumb",function(require,exports,moudles){$.aeWidget("ae.aeBreadcrumb",{options:{_initial:false,iconHome:undefined,home:{},_history:[],_jumpType:"jump",_jumpData:null,_backData:null,_active:{},onJump:function(){},initType:"html"},_create:function(){var a=this.options,b=this.element,c=b.attr("id");
if(a._initial===true){return;}if(c){b.attr("aeId",c);}if(a.initType==="html"){this._buildOptions(a,b);}b.addClass("breadcrumb");b.append('<li homeid="home" class="active"><a>'+a.home.label+"</a></li>");if(a.iconHome){b.children("li:last").prepend('<i class="'+a.iconHome+'"></i>');}a._history.push(a.home);
a._active=a.home;a._disable=false;a._initial=true;},_init:function(){},_buildOptions:function(b,d){b.iconHome=d.attr("iconHome");var f=$.trim(d.attr("home"));if(f&&f.indexOf("{")===0){var a=f.substring(1,f.length-1).split(",");for(var c=0;c<a.length;c++){a[c]=$.trim(a[c]);var e=a[c].split(":");b.home[e[0]]=e[1];
}}else{b.home["label"]="Home";b.home["href"]=window.location.pathname;}var g=d.attr("onJump");b.onJump=g?function(m,l){if($.isString(g)){var j=g.indexOf("(");var h=j>0?g.substring(0,j):g;var k="return window."+h+"?"+h+".call(window, d, e):false;";return new Function("d","e",k)(m,l);}}:undefined;},jump:function(a,b){this.options._jumpType="jump";
this.options._jumpData=b===undefined?null:b;this._jump(a);},_jump:function(b){var a=this.options,c=this.element;if(a._active===b){return;}a._tempData=b;this._trigger("onJump",null,b);},jumpSucceed:function(){var a=this,b=this.options,d=this.element;var c=b._tempData;if($.inArray(c,b._history)===-1){d.children("li:last").removeClass("active");
a._bindLiEvent(d.children("li:last"),b._history[b._history.length-1]);d.append('<li class="active"><a>'+c.label+"</a></li>");b._history.push(c);}else{var e=a._getLi($.inArray(c,b._history));e.addClass("active").unbind("breadli").nextAll().remove();for(i=b._history.length-1;i>0;i--){if(b._history[i]===c){break;
}else{b._history.pop();}}}b._active=c;},_bindLiEvent:function(b,c){var a=this;b.bind("click.breadli",function(){if(!a.options._disable){a.options._jumpType="href";a._jump(c);}});},_getLi:function(c){var b=this.options,e=this.element;var d=e.children('li[homeid="home"]');if(c===0){return d;}else{var a=d.index();
return e.children().eq(a+c);}},disable:function(a){if(a===false||a==="false"){this.options._disable=false;}else{if(a===undefined||a===true||a==="true"){this.options._disable=true;}}},back:function(a){this.options._jumpType="back";this.options._backData=a===undefined?null:a;this._jump(this.options._history[this.options._history.length-2]);
},getData:function(b){var a=this.options,c;c=b==="back"?a._backData:a._jumpData;return c;}});});define("ui-currency",function(require,exports,moudles){var a=$.aeWidget("ae.aeCurrency",{_init:function(){var b=this.element,d,c=$.aries.config?$.aries.config.common.IS_USE_TENANT:false;if(c){d=$.aries.config.tenant?$.aries.config.tenant.CURRENCY_KEY:"";currency=d?$.cookie(d):"";if(currency&&currency.length){b.html(currency);
}}}});});define("ui-form",function(require,exports,moudles){$.aeWidget("ae.aeForm",{options:{initType:"html",initChildren:true},_create:function(){var self=this,options=self.options,el=self.element,id=el.attr("id");if(id){el.attr("aeId",id);}if(options.initType=="html"){self._buildOptions(options,el);}},_init:function(){},_buildOptions:function(options,el){options.dataField=el.attr("dataField");
options.aeType=el.attr("aeType");options.initChildren=el.attr("initChildren")=="false"?false:options.initChildren;},setEditSts:function(value){var el=this.element;return el.each(function(){$("input[datafield],textarea[datafield],span[datafield]",this).enable(value);});},setColEditSts:function(dataField,value){var areaId=this.element.attr("id");
var els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"']");els.enable(value);},setColVisibleSts:function(dataField,value){var areaId=this.element.attr("id");var els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"']");
els.visible(value);},clear:function(dataField){var el=this.element,els,i,dataFields;if(typeof dataField==="undefined"||dataField===""){return el.each(function(){$("input[dataField],textarea[dataField],span[dataField]",this).clearFields();});}else{var areaId=el.attr("id");if(dataField.indexOf(",")>=0){dataFields=dataField.split(",");
for(i in dataFields){els=$("#"+areaId+" input[dataField='"+dataFields[i]+"'],#"+areaId+" textarea[dataField='"+dataFields[i]+"'],#"+areaId+" span[dataField='"+dataField+"']");els.clearFields();}}else{els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"'],#"+areaId+" span[dataField='"+dataField+"']");
els.clearFields();}}},setValueByField:function(dataField,value){var areaId=this.element.attr("id");var els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"']");els.setField(value,this.element);},getValueByField:function(dataField){var areaId=this.element.attr("id");
var els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"']");return els.getValue();},getDisplayTextByField:function(dataField){var areaId=this.element.attr("id");var els=$("#"+areaId+" input[dataField='"+dataField+"'],#"+areaId+" textarea[dataField='"+dataField+"']");
return els.getDisplayText();},reload:function(data){var self=this,$ele=this.element,opts=self.options,children;if(data){if(opts.initChildren){children=$ele.find("*[aeType]");if(children.length){$.each(children,function(index,item){if($(item).attr("aeInit")=="true"){$(item)[$(item).attr("aeType")]();$(item).attr("aeInit","false");
}});}}data=$.aries.common.getDataByDatafield(data,opts.dataField);return $ele.each(function(){$("input[dataField],textarea[dataField],span[dataField]",this).setField(data,$ele);});}},getData:function(needTrans){var obj={},returnData={},dataField=this.options.dataField;this.element.find("input[dataField],textarea[dataField],span[dataField],div[dataField]").each(function(index,item){var dataField=$(item).attr("dataField"),id=$(item).attr("aeid"),type=$(item).attr("aeType"),val="";
if(dataField&&id){if(type==="aeCheckbox"){val=$("#"+id).aeCheckbox("getValue");}else{if(type==="aeRadio"){val=$("#"+id).aeRadio("getValue");}else{if(type==="aeTextpopup"){val=$("#"+id).aeTextpopup("getValue");}else{if(type==="aeAdvcombo"){val=$("#"+id).aeAdvcombo("getValue");}else{val=$(item).val();}}}}obj=$.aries.common.buildUiidData(obj,dataField,val);
}});if(dataField){returnData=$.aries.common.buildUiidData(returnData,dataField,obj);}else{returnData=obj;}if(needTrans&&(needTrans==="true"||needTrans===true)){returnData=JSON.stringify(returnData);}return returnData;}});$.fn.clearFields=function(){return this.each(function(){var aeType=$.attr(this,"aeType"),id=$.attr(this,"aeId");
eval('$("#'+id+'").'+aeType+"('clear');");});};$.fn.enable=function(b){if(b===undefined){b=true;}return this.each(function(){var aeType=$.attr(this,"aeType"),id=$.attr(this,"aeId");var enable=!b?'$("#'+id+'").'+aeType+"('enable',false);":'$("#'+id+'").'+aeType+"('enable',true);";eval(enable);});};$.fn.visible=function(b){if(b===undefined){b=true;
}return this.each(function(){var aeType=$.attr(this,"aeType"),id=$.attr(this,"aeId");var enable=!b?'$("#'+id+'").'+aeType+"('visible',false);":'$("#'+id+'").'+aeType+"('visible',true);";eval(enable);});};$.fn.setField=function(v,el){return this.each(function(){var value="",objValue=v,id=$.attr(this,"aeId"),type=$.attr(this,"aeType");
if(v&&typeof v=="object"){if($.isArray(v)){objValue=v[0];}var dataField=$.attr(this,"dataField");if(dataField){value=$.aries.common.getDataByDatafield(objValue,dataField);}}else{value=v;}switch(type){case"aeCombo":el.find("span[id="+id+"]").aeCombo("setValue",value);break;case"aeCalendar":el.find("span[id="+id+"]").aeCalendar("setValue",value);
break;case"aeCheckbox":el.find("span[id="+id+"]").aeCheckbox("setValue",value);break;case"aeRadio":el.find("span[id="+id+"]").aeRadio("setValue",value);break;case"aeTextfield":el.find("span[id="+id+"]").aeTextfield("setValue",value);break;case"aeTextpopup":el.find("span[id="+id+"]").aeTextpopup("setValue",value);
break;default:if(typeof value==="undefined"||value===""){$(this).val("");}else{$(this).val(value);}break;}});};$.fn.getValue=function(){var value="";this.each(function(){var id=$.attr(this,"aeId"),type=$.attr(this,"aeType");switch(type){case"aeCombo":value=$("#"+id).aeCombo("getValue");break;case"aeCheckbox":value=$("#"+id).aeCheckbox("getValue");
break;case"aeRadio":value=$("#"+id).aeRadio("getValue");break;case"aeTextpopup":value=$("#"+id).aeTextpopup("getValue");break;default:value=$(this).val();break;}});return value;};$.fn.getDisplayText=function(){var value="";this.each(function(){var id=$.attr(this,"aeId"),type=$.attr(this,"aeType");switch(type){case"aeCombo":value=$("#"+id).aeCombo("getDisplayText");
break;case"aeCheckbox":value=$("#"+id).aeCheckbox("getValue");break;case"aeRadio":value=$("#"+id).aeRadio("getValue");break;default:value=$(this).val();break;}});return value;};});define("ui-grid",function(require,exports,moudles){$.ae.lang.aeGrid={loadingMsg:"Loading...",emptyMsg:"No Result",errorMsg:"Load Error",pageText:"Page {index}, Total Page {totalPage}",pageStat:"Total {total} DataFrom {from} To {to}"};$.aeWidget("ae.aeGrid",{options:{height:undefined,width:"100%",columns:false,autoFit:true,showIndex:true,dataSource:false,extraData:{},method:"POST",loadingMsg:$.ae.lang.aeGrid.loadingMsg,emptyMsg:$.ae.lang.aeGrid.emptyMsg,errorMsg:$.ae.lang.aeGrid.errorMsg,preProcess:false,pagingSize:10,rowClasses:["oddRow","evenRow"],singleSelect:true,onRowSelect:function(l,k,j,i){},onRowDeselect:function(l,k,j,i){},onRowClick:function(l,k,j,i){},onRowDblClick:function(k,j,i){},onPageChange:function(j,i,l,k){},onSuccess:function(i){},onError:function(i,j){},onRefresh:function(k,i,j){},_onRefreshCallbacks:[],_onResizableCallbacks:[],_onResizeCallbacks:[],initType:"html",pagingAlign:"right",pagingType:"",striped:true,_defaultThHeight:34,_successCB:undefined,_failCB:undefined,_params:"",_header:"",_clickTimer:null,dataField:"",isPaging:false,showMsg:true,startField:"start",endField:"end",_selectIndex:-1,changedData:{add:[],edit:[],del:[]},_initial:false,treeIcons:{fold:"fa fa-folder",unfold:"fa fa-folder-open",file:"fa fa-bar-chart-o"},editable:false,_editOption:{_triggered:false,_editRowId:"-1"},doSelectEvent:false,stateField:"checkboxCol",showHeader:true,showFooter:false,showPaginationSwitch:true,showRefresh:true,showToggle:true,buttonsAlign:"right",minimumCountColumns:1,icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},sidePagination:"client",totalRows:0,pageNumber:1,pageList:[2,4,5,8],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",rowStyle:function(j,i){return{};
},rowAttributes:function(j,i){return{};},onAll:function(j,i){return false;},onClickRow:function(j,i){return false;},onDblClickRow:function(j,i){return false;},onSort:function(j,i){return false;},onCheck:function(i){return false;},onUncheck:function(i){return false;},onCheckAll:function(){return false;
},onUncheckAll:function(){return false;},onLoadSuccess:function(i){return false;},onLoadError:function(i){return false;},onColumnSwitch:function(j,i){return false;},onColumnSearch:function(i,j){return false;},onSearch:function(i){return false;},onPreBody:function(i){return false;},onPostBody:function(){return false;
},onPostHeader:function(){return false;}},_create:function(){var j=this.options,i=this.element,l=i.attr("id");if(j._initial){return;}else{j._initial=true;}if(l){i.attr("aeId",l);}if(j.initType=="html"){this._buildOptions(j,i);}else{this._buildOptionsEvents(j);}j.DEFINE={cellPadding:16,colDefWidth:150,indexWidth:60,checkboxWidth:36};
j.COLUMN_DEFAULTS={checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,"class":undefined,align:undefined,headAlign:"center",falign:undefined,valign:"middle",width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:true,filterControl:undefined};
j.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-search.bs.table":"onColumnSearch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader"};
i.wrap('<div class="bootstrap-table '+j.theme+'"></div>');this.$grid=i.parent();if(j.titleRenderer&&$.isFunction(j.titleRenderer)){var k=j.titleRenderer();if(k){this.$grid.append('<div class="gray_border_tool clearfix">'+k+"</div>");}}this.$grid.append(['<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',$.ae.lang.aeGrid.loadingMsg,"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination clearfix"></div>':"","</div>"].join(""));
this.$el=$('<table class="table table-hover '+(j.showBorder?"table-bordered ":"")+'"><thead><tr></tr></thead><tbody></tbody></table>');this.timeoutId_=0;this.timeoutFooter_=0;this.$el_=this.$el.clone();this.$grid.find(".fixed-table-body").append(this.$el);this.$loading=this.$grid.find(".fixed-table-loading");
this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped");}this.element.empty();this.element.css("border-width",0).hide();},_init:function(){this._initTable();this._initHeader();this._initData();this._initFooter();this._initToolbar();this._initPagination();this._initBody();
this._resetWidth();},_initTable:function(){var i=this,j=[],k=[];this.$header=this.$el.find("thead");$.each(this.options.columns,function(l,m){i.options.columns[l]=$.extend({},i.options.COLUMN_DEFAULTS,{field:l},m);});},_initHeader:function(){var j=this,m=this.options,k=[],l=[],n=false,o=0;this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};
var p=this.header;if(!m.singleSelect){p.fields.push("checkboxCol");p.styles.push("width:"+m.DEFINE.checkboxWidth+"px;vertical-align:middle;");l.push('<th field="checkboxCol" style="width:'+m.DEFINE.checkboxWidth+'px;"><div class="th-inner"><div class="ckbox ckbox-default"><input id="'+m.id+'_btSelectAll" name="btSelectAll" type="checkbox"></input><label for="'+m.id+'_btSelectAll"></label></div></div></th>');
}if(m.showIndex){p.fields.push("indexCol");p.styles.push("width:"+m.DEFINE.indexWidth+"px;vertical-align:middle;text-align:center;");l.push('<th field="indexCol" style="text-align:center;width:'+m.DEFINE.indexWidth+'px;"><div class="th-inner"></div></th>');}$.each(m.columns,function(t,s){var y="",u="",w="",q="",v=e(' class="%s"',s["class"]),r=j.options.sortOrder||s.order,x=true;
if(!s.visible){return;}u=e("text-align: %s; ",s.headAlign?s.headAlign:s.align);w=e("text-align: %s; ",s.align);q=e("vertical-align: %s; ",s.valign);k.push(s);p.fields.push(s.field);p.styles.push(w+q);p.classes.push(v);p.formatters.push(s.formatter);p.events.push(s.events);p.sorters.push(s.sorter);p.cellStyles.push(s.cellStyle);
p.clickToSelects.push(s.clickToSelect);p.searchables.push(s.searchable);l.push("<th",' field="'+s.field+'"',v,e(' style="%s"',u+q),">");l.push(e('<div class="th-inner %s">',j.options.sortable&&s.sortable?"sortable":""));y=s.title;if(j.options.sortName===s.field&&j.options.sortable&&s.sortable){y+=j.getCaretHtml();
}l.push(y);l.push('<span class="td_drog"></span></div>');l.push("</th>");});this.$header.find("tr").html(l.join(""));this.$grid.off("click",".th-inner").on("click",".th-inner",function(q){if(j.options.sortable&&$(this).parent().data().sortable){j.onSort(q);}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();
this.$grid.find(".fixed-table-header").hide();this.$loading.css("top",0);}else{this.$header.show();this.$grid.find(".fixed-table-header").show();}var i=$("th[field=checkboxCol] label",this.$header);if(i.length>0){i.on("click",function(){var s=$(this),r=j._getTrs().size(),q;if(s.attr("isChecked")=="true"){s.removeClass();
s.attr("isChecked","false");for(q=0;q<r;q++){j._rowDeSelect(q);}}else{s.addClass("checked");s.attr("isChecked","true");for(q=0;q<r;q++){j._rowSelect(q);}}});}},_initData:function(j,i){if(i==="append"){this.data=this.data.concat(j);}else{if(i==="prepend"){this.data=[].concat(j).concat(this.data);}else{this.data=j;
}}if(this.options.sidePagination==="server"){return;}},_initFooter:function(){this.$footer=this.$grid.find(".fixed-table-footer");if(this.options.showFooter){this.$footer.show();}else{this.$footer.hide();}},_initPagination:function(){this.$pagination=this.$grid.find(".fixed-table-pagination");if(!this.options.isPaging){this.$pagination.hide();
return;}else{this.$pagination.show();}var r=this,q=[],j=false,u,t,k,p,y,A,w,s,n,B=this.getData(),o=this.options.totalRows;o=B.length>o?B.length:o;this.options.totalPages=0;if(o){if(this.options.pagingSize==="All"){this.options.pagingSize=o;j=true;}else{if(this.options.pagingSize===o){var z=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;
if(z.indexOf("All".toLowerCase())>-1){j=true;}}}this.options.totalPages=~~((o-1)/this.options.pagingSize)+1;}if(this.options.totalPages>0&&this.options.pageNumber>this.options.totalPages){this.options.pageNumber=this.options.totalPages;}this.pageFrom=this.getStart();this.pageTo=this.getEnd();if(this.pageTo>o){this.pageTo=o;
}var l=this.pageTo;if(l>o){l=o;}q.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this._formatShowingRows(this.pageFrom,l,o),"</span>");q.push('<span class="page-list">');var x=[e('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',j?this.options.formatAllRows():this.options.pagingSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],m=this.options.pageList;
if(typeof this.options.pageList==="string"){var v=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[];$.each(v,function(C,D){m.push(D.toUpperCase()===r.options.formatAllRows().toUpperCase()?r.options.formatAllRows():+D);});}$.each(m,function(C,D){if(!r.options.smartDisplay||C===0||m[C-1]<=o){var E;
if(j){E=D===r.options.formatAllRows()?' class="active"':"";}else{E=D===r.options.pagingSize?' class="active"':"";}x.push(e("<li%s><a>%s</a></li>",E,D));}});x.push("</ul></span>");q.push("</span>");q.push("</div>",'<div class="pull-'+this.options.paginationHAlign+'">','<ul class="pagination'+(this.options.iconSize===undefined?"":" pagination-"+this.options.iconSize)+'">','<li class="page-first"><a>&lt;&lt;</a></li>','<li class="page-pre"><a>&lt;</a></li>');
if(this.options.totalPages<5){t=1;k=this.options.totalPages;}else{t=this.options.pageNumber-2;k=t+4;if(t<1){t=1;k=5;}if(k>this.options.totalPages){k=this.options.totalPages;t=k-4;}}for(u=t;u<=k;u++){q.push('<li class="page-number'+(u===this.options.pageNumber?" active":"")+'">',"<a>",u,"</a>","</li>");
}q.push('<li class="page-next"><a>&gt;</a></li>','<li class="page-last"><a>&gt;&gt;</a></li>',"</ul>","</div>");this.$pagination.html(q.join(""));p=this.$pagination.find(".page-list a");y=this.$pagination.find(".page-first");A=this.$pagination.find(".page-pre");w=this.$pagination.find(".page-next");s=this.$pagination.find(".page-last");
n=this.$pagination.find(".page-number");if(this.options.pageNumber<=1){y.addClass("disabled");A.addClass("disabled");}if(this.options.pageNumber>=this.options.totalPages){w.addClass("disabled");s.addClass("disabled");}if(this.options.smartDisplay){if(this.options.totalPages<=1){this.$pagination.find("div.pagination").hide();
}if(m.length<2||o<=m[0]){this.$pagination.find("span.page-list").hide();}this.$pagination[this.getData().length?"show":"hide"]();}if(j){this.options.pagingSize=this.options.formatAllRows();}p.off("click").on("click",$.proxy(this._onPageListChange,this));y.off("click").on("click",$.proxy(this._onPageFirst,this));
A.off("click").on("click",$.proxy(this._onPagePre,this));w.off("click").on("click",$.proxy(this._onPageNext,this));s.off("click").on("click",$.proxy(this._onPageLast,this));n.off("click").on("click",$.proxy(this._onPageNumber,this));},_updatePagination:function(j,i){if(j&&$(j.currentTarget).hasClass("disabled")){return;
}if(!this.options.maintainSelected){}if(this.options.onPageChange&&this._trigger("onPageChange",null,i,this.options.pageNumber,this)===false){return;}this._initPagination();if(this.options.sidePagination==="server"){this._initServer();}else{this._initBody();}},_onPageListChange:function(i){var j=$(i.currentTarget);
j.parent().addClass("active").siblings().removeClass("active");this.options.pagingSize=j.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+j.text();this.$toolbar.find(".page-size").text(this.options.pagingSize);this._updatePagination(i,"page");},_onPageFirst:function(i){this.options.pageNumber=1;
this._updatePagination(i,"first");},_onPagePre:function(i){this.options.pageNumber--;this._updatePagination(i,"prev");},_onPageNext:function(i){this.options.pageNumber++;this._updatePagination(i,"next");},_onPageLast:function(i){this.options.pageNumber=this.options.totalPages;this._updatePagination(i,"last");
},_onPageNumber:function(i){if(this.options.pageNumber===+$(i.currentTarget).text()){return;}this.options.pageNumber=+$(i.currentTarget).text();this._updatePagination(i,"page");},_formatShowingRows:function(k,i,j){return e("Showing %s to %s of %s rows",k,i,j);},_formatRecordsPerPage:function(i){return e("%s records per page",i);
},_initToolbar:function(){var k=this,l=[],n=0,j,m,i=0;this.$toolbar=this.$grid.find(".fixed-table-toolbar").html("");if(typeof this.options.toolbar==="string"){$(e('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append($(this.options.toolbar));}l=[e('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];
if(typeof this.options.icons==="string"){this.options.icons=h(null,this.options.icons);}if(this.options.showPaginationSwitch){l.push(e('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',"Hide/Show pagination"),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>");
}if(this.options.showRefresh){l.push(e('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',"Refresh"),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>");}if(this.options.showToggle){l.push(e('<button class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',"Toggle"),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>");
}if(this.options.showColumns){l.push(e('<div class="keep-open btn-group" title="%s">',"Columns"),'<button type="button" class="btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');
$.each(this.options.columns,function(o,p){if(p.radio||p.checkbox){return;}if(k.options.cardView&&(!p.cardVisible)){return;}var q=p.visible?' checked="checked"':"";if(p.switchable){l.push(e("<li>"+'<label><input type="checkbox" data-field="%s" value="%s"%s> %s</label>'+"</li>",p.field,o,q,p.title));i++;
}});l.push("</ul>","</div>");}l.push("</div>");if(this.showToolbar||l.length>2){this.$toolbar.append(l.join(""));}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",$.proxy(this.togglePagination,this));}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",$.proxy(this.refresh,this));
}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){k.toggleView();});}if(this.options.showColumns){j=this.$toolbar.find(".keep-open");if(i<=this.options.minimumCountColumns){j.find("input").prop("disabled",true);}j.find("li").off("click").on("click",function(o){o.stopImmediatePropagation();
});j.find("input").off("click").on("click",function(){var o=$(this);k.toggleColumn(o.val(),o.prop("checked"),false);k._triggerEvent("column-switch",$(this).data("field"),o.prop("checked"));});}if(this.options.search){l=[];l.push('<div class="pull-'+this.options.searchAlign+' search">',e('<input class="form-control'+(this.options.iconSize===undefined?"":" input-"+this.options.iconSize)+'" type="text" placeholder="%s">',"Search"),"</div>");
this.$toolbar.append(l.join(""));m=this.$toolbar.find(".search input");m.off("keyup").on("keyup",function(o){clearTimeout(n);n=setTimeout(function(){k.onSearch(o);},k.options.searchTimeOut);});if(this.options.searchText!==""){m.val(this.options.searchText);clearTimeout(n);n=setTimeout(function(){m._triggerEvent("keyup");
},k.options.searchTimeOut);}}},_initBody:function(k){var j=this,m=this.options,l=[],n=this.getData();this.$body=this.$el.find("tbody");if(!this.$body.length){this.$body=$("<tbody></tbody>").appendTo(this.$el);}if(!m.isPaging){this.pageFrom=1;this.pageTo=n.length;}$.each(n,function(q,s){var p,r={},u=[],o={},t=[];
r=h(j.options,j.options.rowStyle,[s,q],r);if(r&&r.css){for(p in r.css){u.push(p+": "+r.css[p]);}}o=h(j.options,j.options.rowAttributes,[s,q],o);if(o){for(p in o){t.push(e('%s="%s"',p,g(o[p])));}}l.push("<tr",e(" %s",t.join(" ")),e(' class="%s"',r.classes),e(' data-index="%s"',q),">");$.each(j.header.fields,function(A,D){var F="",C="",w={},B=j.header.classes[A],z=m.columns[c(m.columns,D)];
r=e('style="%s"',u.concat(j.header.styles[A]).join("; "));if(w.classes){B=e(' class="%s"',w.classes);}if(w.css){var x=[];for(var E in w.css){x.push(E+": "+w.css[E]);}r=e('style="%s"',x.concat(j.header.styles[A]).join("; "));}if(D=="checkboxCol"){F='<td field="checkboxCol" '+r+'><div class="th-inner"><div class="ckbox ckbox-default"><input id="'+j.options.id+"_checkboxCol_"+q+'" type="checkbox"></input><label for="'+j.options.id+"_checkboxCol_"+q+'"></label></div></div></td>';
}else{if(D=="indexCol"){F='<td field="indexCol" '+r+">"+(q+j.pageFrom)+"</td>";}else{if(z.wrap){B="break-word";}if(m.treeColumn&&m.treeColumn==D){var v=s["aeNodeLevel"];if(!v){v="1";}var y=s["aeHasChild"];if(y){y="unfold";}else{y="file";}B=B+" level level-"+v+" "+y;F=[e('<td field="%s" class="%s" %s %s %s %s>',z.field,B?B:"",r,'aeNodeLevel="'+v+'"','aeNodeId="'+s["aeNodeId"]+'"','aeNodePId="'+s["aeNodePId"]+'"'),'<i class="'+m.treeIcons[y]+'"></i><span class="text nowrap">'+j._buildRowCellValues(z,s,q)+"</span>","</td>"].join("");
}else{F=[e('<td field="%s" class="%s" %s>',z.field,B?B:"",r),j._buildRowCellValues(z,s,q),"</td>"].join("");}}}l.push(F);});if(j.options.cardView){l.push("</td>");}l.push("</tr>");});if(!l.length){l.push('<tr class="no-records-found">',e('<td colspan="%s">%s</td>',this.header.fields.length,"No matching records found"),"</tr>");
}this.$body.html(l.join(""));if(!k){this._scrollTo(0);}this.$body.find("> tr > td").off("click").on("click",function(q){var p=$(this).parent(),o=p.data("index");if(j._clickTimer!==null){clearTimeout(j._clickTimer);j._clickTimer=null;}j._clickTimer=setTimeout(function(){if(p.hasClass("tr_checked")){if(m.singleSelect){j._rowDeSelect(o);
m._selectIndex=-1;}else{j._rowDeSelect(o);j._refreshHeaderCheckBox();}j._trigger("onRowDeselect",q,o,j._getRowData(o),j);}else{if(m.singleSelect){if(m._selectIndex!=-1){j._rowDeSelect(m._selectIndex);}j._rowSelect(o);m._selectIndex=o;}else{j._rowSelect(o);j._refreshHeaderCheckBox();}j._trigger("onRowClick",q,o,j._getRowData(o),j);
}},300);});this.$body.find("tr").off("dblclick").on("dblclick",function(q){if(j._clickTimer!==null){clearTimeout(j._clickTimer);j._clickTimer=null;}var p=$(this),o=p.data("index");if(p.hasClass("tr_checked")){if(m.singleSelect){j._rowDeSelect(o);m._selectIndex=-1;}else{j._rowDeSelect(o);j._refreshHeaderCheckBox();
}}else{if(m.singleSelect){if(m._selectIndex!=-1){j._rowDeSelect(m._selectIndex);}j._rowSelect(o);m._selectIndex=o;}else{j._rowSelect(o);j._refreshHeaderCheckBox();}}j._trigger("onRowDblClick",q,o,j._getRowData(o));});$.each(this.header.events,function(q,p){if(!p){return;}if(typeof p==="string"){p=h(null,p);
}for(var o in p){j.$body.find("tr").each(function(){var v=$(this),w=v.find(j.options.cardView?".card-view":"td").eq(q),s=o.indexOf(" "),r=o.substring(0,s),t=o.substring(s+1),u=p[o];w.find(t).off(r).on(r,function(z){var x=v.data("index"),A=j.data[x],y=A[j.header.fields[q]];u.apply(this,[z,y,A,x]);});});
}});if(m.treeColumn){var i=$("td[field="+m.treeColumn+"] i",this.$body);if(i.length){i.prop("isOpen",true).bind("click",function(p){var o=$(this).prop("isOpen");if(o){j._expandTreeNode($(this).parent().attr("aeNodeId"),false);$(this).prop("isOpen",false);}else{j._expandTreeNode($(this).parent().attr("aeNodeId"),true);
$(this).prop("isOpen",true);}$.stopPropagation();});}}this._updateSelected();this._resetView();this._triggerEvent("post-body");},_buildRowCellValues:function(j,l,n){var k,m=j.field,i=j.renderer;if(m.indexOf("|")>0){k=$.aries.common.getDataByDatafield(l,m.replace(new RegExp(/\|/g),"."));}if(k===undefined){k=l[m]===undefined?"":l[m];
}if(typeof i==="function"){k=i(k,l,n);}return k;},_getRowData:function(i){var j=this.getData();return j&&j.length?j[i]:undefined;},_getTrs:function(i){return(typeof i!="undefined")?this.$body.children().filter('[data-index="'+i+'"]'):this.$body.find("tr");},_rowSelect:function(j){var k=this._getTrs(j),i=$("td[field=checkboxCol] label",k);
if(!k.hasClass("no-records-found")){k.attr("class","tr_checked");}if(i.length){i.attr("isChecked","true");i.addClass("checked");}if(this.options.doSelectEvent){this._trigger("onRowSelect",null,j,this._getRowData(j),this);}},_rowDeSelect:function(j){var k=this._getTrs(j),i=$("td[field=checkboxCol] label",k);
k.removeClass("tr_checked");if(i.length){i.attr("isChecked","false");i.removeClass();}if(this.options.doSelectEvent){this._trigger("onRowDeselect",null,j,this._getRowData(j),this);}},_refreshHeaderCheckBox:function(){var k=this.$grid.find(".fixed-table-header");if(k&&k.is(":hidden")){k=this.$header;}var j=$("th[field=checkboxCol]",k).find("label"),i=this._getTrs().length;
if(i>0&&i==this.getSelections().length){j.addClass("checked");j.attr("isChecked","true");}else{j.removeClass();j.attr("isChecked","false");}},_resetView:function(n){var j=this,l=0,k=j.$grid.find(".fixed-table-container");if(n&&n.height){this.options.height=n.height;}if(this.options.height){var m=+this.$toolbar.children().outerHeight(true),o=+this.$pagination.children().outerHeight(true),i=this.options.height-m-o;
k.css("height",i+"px");}if(this.options.showHeader&&this.options.height){this.$grid.find(".fixed-table-header").show();this._resetHeader();}else{this.$grid.find(".fixed-table-header").hide();this._triggerEvent("post-header");}if(this.options.showFooter){this._resetFooter();if(this.options.height){}}k.css("padding-bottom",l+"px");
},_resetHeader:function(){this.$el.css("margin-top",this.$header.height()?-this.$header.height():-37);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout($.proxy(this._fitHeader,this),this.$el.is(":hidden")?100:0);return;},_fitHeader:function(){var i=this,k,l,j;k=i.$grid.find(".fixed-table-header");
l=i.$grid.find(".fixed-table-body");if(i.$el.width()>l.width()){j=a();}else{j=0;}i.$header_=i.$header.clone(true,true);i.$selectAll_=i.$header_.find('[name="btSelectAll"]');k.find("table").html("").attr("class",i.$el.attr("class")).append(i.$header_);i.$header.find("th").each(function(m){i.$header_.find("th").eq(m).data($(this).data());
});i.$body.find("tr:first-child:not(.no-records-found) > *").each(function(m){});l.off("scroll").on("scroll",function(){k.scrollLeft($(this).scrollLeft());});i._triggerEvent("post-header");},_resetFooter:function(){var i=this,k=i.getData(),j=[];if(!this.options.showFooter){return;}$.each(this.options.columns,function(m,o){var p="",n="",l=e(' class="%s"',o["class"]);
if(!o.visible){return;}p=e("text-align: %s; ",o.falign?o.falign:o.align);n=e("vertical-align: %s; ",o.valign);j.push("<td",l,e(' style="%s"',p+n),">");j.push(h(o,o.footerFormatter,[k],"&nbsp;")||"&nbsp;");j.push("</td>");});this.$footer.find("tr").html(j.join(""));clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout($.proxy(this._fitFooter,this),this.$el.is(":hidden")?100:0);
},_fitFooter:function(){var j=this,m,i,l,k;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout($.proxy(this.fitFooter,this),100);return;}m=this.$grid.find(".fixed-table-body");l=this.$el.css("width");k=l>m.width()?a():0;this.$footer.css({"margin-right":k}).find("table").css("width",l).attr("class",this.$el.attr("class"));
i=this.$footer.find("td");m.find("tbody tr:first-child:not(.no-records-found) > td").each(function(n){});},_resetWidth:function(){var n=this.options,m=n.columns,i=this.$grid,l=i.width();if(!m||m.length===0){return;}var p=m[m.length-1].field,j=this.$header,o=0;$.each(m,function(r,q){var t=q.width||0;if(t=="autoExpand"){t=0;
p=q.field;}if(typeof t==="string"){if(t.indexOf("%")>-1){var s=$.trim(t).substring(0,t.length-1);t=parseInt(l*s/100);}else{t=parseInt(t.replace("px",""));}}if(t>0){j.find("th[field='"+q.field+"']").width(t);o+=t+n.DEFINE.cellPadding;}});if(!n.singleSelect){o+=n.DEFINE.checkboxWidth;}if(n.showIndex){o+=n.DEFINE.indexWidth;
}this._fixHeaderWidth(p,o);var k={};$(j.find("th[field]")).each(function(){k[$(this).attr("field")]=$(this).width();});this.$body.find("td[field]").each(function(q,s){var r=$(s).prop("field");if(k[r]){$(s).width(k[r]);}});},_fixHeaderWidth:function(k,q){var j=this.options,n,r=this.$grid,i=this.$header,p=j.columns,l=r.width();
if(l<=0){n=r.parent().width();}else{n=l;}if(j.autoFit){var m=n-q,o=1+m/n,r=this.$grid,l=r.width();$.each(p,function(t,s){var v=s.width||0;if(v=="autoExpand"){v=0;}if(typeof v==="string"){if(v.indexOf("%")>-1){var u=$.trim(v).substring(0,v.length-1);v=parseInt(l*u/100);}else{v=parseInt(v.replace("px",""));
}}if(v>0){i.find("th[field='"+s.field+"']").width(v*o);}else{i.find("th[field='"+s.field+"']").width(parseInt(j.DEFINE.colDefWidth*o));}});}},_triggerEvent:function(j){var i=Array.prototype.slice.call(arguments,1);j+=".bs.table";this.options[this.options.EVENTS[j]].apply(this.options,i);this.$el.trigger($.Event(j),i);
this.options.onAll(j,i);this.$el.trigger($.Event("all.bs.table"),[j,i]);},_scrollTo:function(j){var i=this.$grid.find(".fixed-table-body");if(typeof j==="string"){j=j==="bottom"?i[0].scrollHeight:0;}if(typeof j==="number"){i.scrollTop(j);}},_updateSelected:function(){},_updateRows:function(j){var i=this;
this.$selectItem.each(function(){i.data[$(this).data("index")][i.header.stateField]=j;});},_showNoRecords:function(){if(this.$body.find("tr.no-records-found").length){return;}this.$body.html(['<tr class="no-records-found">',e('<td colspan="%s">%s</td>',this.header.fields.length,"No matching records found"),"</tr>"].join(""));
},_resetGridView:function(i){if(i){if(this.options.isPaging){this.$pagination.show();}}else{this._showNoRecords();if(this.options.isPaging){this.$pagination.hide();}}},_getSelections:function(){var i=this;return $.grep(this.data,function(j){return j[i.header.stateField];});},_initServer:function(){var j=this,k=j.$grid,m=j.options,l=m._successCB,i=m._failCB,n=m._params;
if(!m.url){j._resetGridView(false);return false;}if(j.loading){return true;}j.loading=true;this.$loading.show();if(m.isPaging){n+="&"+m.startField+"="+j.getStart()+"&"+m.endField+"="+j.getEnd();}$.aries.ajax.post(m.url,n,function(o){var p=m.onSuccess;if(o&&m.dataField){o=$.aries.common.getDataByDatafield(o,m.dataField);
}if(o){j._reload(o);if(l&&$.isFunction(l)){l(o);}}else{j._resetGridView(false);}j.loading=false;j.$loading.hide();if(typeof(p)=="function"){j._trigger("onSuccess",null,o);}},function(p,q){try{var o=m.onError;if(typeof(o)=="function"){o(p,q);}if(i&&$.isFunction(i)){i(p,q);}}catch(r){}finally{j.loading=false;
j.$loading.hide();j._resetGridView(false);return false;}},$.extend({},{type:m.method}),m._header);},_reload:function(k){var j=false,i=true;if(k){if($.isObject(k)){if(k.total&&$.isString(k.total)){k.total=parseInt(k.total);}if(k.total<1){this.options.totalRows=0;k=[];i=false;}else{this.options.totalRows=k.total;
j=k.fixedScroll;k=k.rows;}}else{if($.isArray(k)){if(k.length===0){i=false;}else{this.options.totalRows=-1;}}}if(this.options.treeColumn){k=this._buildTreeData(k);}}else{k=[];this.options.totalRows=0;i=false;}this._resetGridView(i);this._initData(k);if(i){this._initPagination();this._initBody(j);}},_buildTreeData:function(l){var k=[],i=[],j=this.options;
col={};col.idField=j.treeIdField;col.pIdField=j.treePidField;col.labelField="";col.valueField="";col.sortField=j.treeSortField;i=$.buildTreeData(l,col);if(i&&i.length){k=this._iterateBuildTreeData(i,k);}return k;},_iterateBuildTreeData:function(n,m){if(!n||!n.length){return m;}var l,k;for(var j=0;j<n.length;
j++){l=n[j];k=l.aeChildren;if(k&&k.length){l.aeHasChild=true;}if(typeof k!="undefined"){delete l.aeChildren;}delete l.aeNodeLabel;delete l.aeNodeValue;m.push(l);if(k&&k.length){this._iterateBuildTreeData(k,m);}}return m;},_expandTreeNode:function(k,j){if(k){var o=$("td[aeNodeId="+k+"]",this.$body);if(o.length){var i,n=o.parent(),m,l;
i=n.nextAll("tr");m=i.filter(function(p){return $("td[aeNodeLevel]",$(this)).attr("aeNodeLevel")<=o.attr("aeNodeLevel");});if(m.length){l=m.eq(0);i=n.nextAll("tr:lt("+i.index(l)+")");}if(i.length){if(j){i.show();this._changeTreeNodeState(n,true);}else{i.hide();this._changeTreeNodeState(n,false);}}}}},_changeTreeNodeState:function(j,i){if(i){$("td[aeNodeLevel]",j).removeClass("fold").addClass("unfold").find("i").eq(0).removeClass().addClass(this.options.treeIcons["unfold"]);
}else{$("td[aeNodeLevel]",j).removeClass("unfold").find("i").eq(0).removeClass().addClass(this.options.treeIcons["fold"]);}},collapseTreeNode:function(i){var k=this._getTrs(i),j=this,l;k.children("td").each(function(){if($(this).attr("aenodeid")){l=$(this).attr("aenodeid");j._expandTreeNode(l,false);
$(this).find("i").prop("isOpen",false);return false;}});},collapseTreeNodeAll:function(){var i=this;this._getTrs().each(function(){var j=$(this).attr("data-index");$(this).children("td").each(function(){if($(this).attr("aenodelevel")){var k=$(this).attr("aenodelevel");if(k==="1"){i.collapseTreeNode(j);
}return false;}});});},expandTreeNode:function(i){var k=this._getTrs(i),j=this,l;k.children("td").each(function(){if($(this).attr("aenodeid")){l=$(this).attr("aenodeid");j._expandTreeNode(l,true);$(this).find("i").prop("isOpen",true);return false;}});},expandTreeNodeAll:function(){var i=this;this._getTrs().each(function(){i.expandTreeNode($(this).attr("data-index"));
});},addRowData:function(l,k){if(l&&$.isObject(l)){this.options.changedData.add.push(l);if(!k){var n=[];n.push(l);var i=this.getData();if(i){n=$.merge(n,i);}i=n;var m={};m.rows=i;var j=this.options.totalRows+1;m.total=j+"";this._reload(m);}}},editRowData:function(o,j,n){if(o&&$.isObject(o)&&j){this.options.changedData.edit.push(o);
if(!n){var l=this.getData();if(l){for(var k=0;k<l.length;k++){var m=l[k];if(m&&m[j]==o[j]){l[k]=o;break;}}var p={};p.rows=l;p.total=this.options.totalRows+"";this._reload(p);}}}},delRowData:function(n,j,q){if(n&&j){var p=this.getData(),k;if(p){for(var l=0;l<p.length;l++){var r=p[l];if(r&&r[n]==j){k=r;
p.splice(l,1);break;}}this.options.changedData.del.push(k);if(!q){var m={};m.rows=p;var o=this.options.totalRows-1;m.total=o+"";this._reload(m);}}}},getChangedData:function(){return this.options.changedData;},_editRow:function(l,i){var k=this.options,j=this,m=k._editOption;if(!k.editable||m._triggered||m._editRowId==l.data("index")){return;
}k._triggered=true;m._editRowId=l.data("index");col.editor.editable=item.attr("editable")=="false"?false:true;col.editor.type=item.attr("editType")||"text";$.each(k.columns,function(n,r){var s=r.field,t=$("td[field="+s+"]",l);if(r.editor.editable&&t.length){var q=r.editor.type,o="aeTextfield",p;if("combo"==q){p='<input aeType="aeCombo" id="'+k.id+"_edit_field_"+s+'" aeInit="false"/>';
t.html(p);p.aeCombo();}else{if("date"==q){p='<input aeType="aeCalendar" id="'+k.id+"_edit_field_"+s+'" aeInit="false"/>';t.html(p);p.aeCalendar();}else{if("popup"==q){p='<input aeType="aeTextpopup" id="'+k.id+"_edit_field_"+s+'" aeInit="false"/>';t.html(p);p.aeTextpopup();}else{p='<input aeType="aeTextfield" id="'+k.id+"_edit_field_"+s+'" aeInit="false"/>';
t.html(p);p.aeTextfield();}}}}});},reload:function(m,n,l,k,i){if(this.loading){return;}var j=this.options;if(!m){this._resetGridView(false);return;}if(typeof l!=="undefined"){l=parseInt(l)||1;l=l<=0?1:l;if(j.totalPages){l=l>j.totalPages?j.totalPages:l;}j.pageNumber=l;}else{j.pageNumber=1;}if($.isString(m)){j.sidePagination="server";
j.url=m;j._params=n?n:undefined;if(typeof k!="undefined"){if($.isFunction(k)){j._successCB=k;}else{$.aelog("successCB should be a function","error",true);}}if(typeof i!="undefined"){if($.isFunction){j._failCB=i;}else{$.aelog("failCB should be a function","error",true);}}this._initServer();}else{if($.isObject(m)||$.isArray(m)){j.sidePagination="client";
if(j.dataField){m=$.aries.common.getDataByDatafield(m,j.dataField);}this._reload(m);this._trigger("onSuccess",null,m);}}this.options.changedData={add:[],edit:[],del:[]};},setSelections:function(j){var i=this;if(!$.isArray(j)){j=[j];}var k=this.getSelections();$(k).each(function(){i._rowDeSelect(this);
});$(j).each(function(){i._rowSelect(this);});i._refreshHeaderCheckBox();},getSelections:function(j){var l=this._getTrs(),m=l.filter(".tr_checked"),i=[];if(j){var k=this.getData();if(k&&k.length){m.each(function(n,o){i[i.length]=k[l.index($(o))];});}}else{m.each(function(n,o){i[i.length]=l.index($(o));
});}return i;},getStart:function(){var i=this.options,j=-1;if(i.pagingSize>0){j=(i.pageNumber-1)*i.pagingSize+1;}return j;},getEnd:function(){var j=this.options,i=-1;if(j.pagingSize>0){i=j.pageNumber*j.pagingSize;}return i;},searchGrid:function(i,j){if(!$.isString(i)){$.message.alert("","The search condition is incorrect!");
return;}j=(j&&$.isArray(j))?j:[];j=$.unique($.merge(j,$.grep(this.header.fields,function(l){if(l==="checkboxCol"||l==="indexCol"||l===""){return false;}return true;})));var k=$.filterStringInArray(i,this.getData(),j);if(k){this.reload(k);}},_buildOptions:function(j,i){j.id=i.attr("id")!==undefined?i.attr("id"):"";
j.aeType=i.attr("aeType")||"aeGrid";j.title=$.evalI18nString(i.attr("title"));j.width=i.attr("width")||j.width;j.height=i.attr("height")||j.height;j.singleSelect=i.attr("singleSelect")=="true"?true:false;j.dataSource=i.attr("dataSource")||j.dataSource;j.showIndex=i.attr("showIndex")=="true"?true:false;
j.autoFit=i.attr("autoFit")=="false"?false:true;j.emptyMsg=$.evalI18nString(i.attr("emptyMsg"))||j.emptyMsg;j.errorMsg=$.evalI18nString(i.attr("errorMsg"))||j.errorMsg;j.loadingMsg=$.evalI18nString(i.attr("loadingMsg"))||j.loadingMsg;j.pagingType=i.attr("pagingType")||j.pagingType;j.pagingAlign=i.attr("pagingAlign")||j.pagingAlign;
j.striped=i.attr("singleRowClass")=="false"?true:false;j.dataField=i.attr("dataField")||j.dataField;if(i.attr("pagingSize")&&""!==i.attr("pagingSize")){j.pagingSize=parseInt(i.attr("pagingSize"));}j.showMsg=i.attr("showMsg")=="false"?false:true;j.datafield=i.attr("datafield")||j.datafield;j.isPaging=i.attr("isPaging")=="true"?true:false;
j.preProcess=i.attr("preProcess")||j.preProcess;j.treeColumn=i.attr("treeColumn")||"";j.treeIdField=i.attr("treeIdField")||"";j.treePidField=i.attr("treePidField")||"";j.treeSortField=i.attr("treeSortField")||"";j.editable=i.attr("editable")=="true"?true:false;j.doSelectEvent=i.attr("doSelectEvent")||j.doSelectEvent;
j.onRowClick=i.attr("onRowClick")||j.onRowClick;j.onRowSelect=i.attr("onRowSelect")||j.onRowSelect;j.onRowDeselect=i.attr("onRowDeselect")||j.onRowDeselect;j.onRowDblClick=i.attr("onRowDblClick")||j.onRowDblClick;j.onPageChange=i.attr("onPageChange")||j.onPageChange;if(i.attr("onSuccess")){j.onSuccess=i.attr("onSuccess")||j.onSuccess;
}else{j.onSuccess=i.attr("onReload")||j.onSuccess;}j.onError=i.attr("onError")||j.onError;j.showFooter=i.attr("showFooter")=="true"?true:false;j.theme=i.attr("theme")||"";j.showBorder=i.attr("showBorder")=="true"?true:false;j.startField=i.attr("startField")||j.startField;j.endField=i.attr("endField")||j.endField;
j.titleRenderer=i.attr("titleRenderer")||undefined;this._buildOptionsEvents(j);var k=i.children("[datafield]");if(typeof(k)!="undefined"&&k.length){j.columns=[];k.each(function(l,p){var n={},m=$(p);n.field=m.attr("datafield")||"";if(n.field!==""){n.field=n.field.replace(new RegExp(/\./g),"|");}n.title=$.evalI18nString(m.attr("title"))||"";
n.width=m.attr("width")||"";n.headAlign=m.attr("headAlign")||"center";n.align=m.attr("align")||"left";n.visible=m.attr("visible")=="false"?false:true;n.wrap=m.attr("wrap")=="true"?true:false;n.renderer=m.attr("renderer")||undefined;var o=n.renderer;if($.isString(o)){n.renderer=o?function(u,t,v){var r=o.indexOf("(");
var q=r>0?o.substring(0,r):o;var s="return window."+q+"?"+q+".call(window,c,rd,ri):false;";return new Function("c","rd","ri",s)(u,t,v);}:undefined;}n.sortable=m.attr("sortable")=="true"||false;n.order=m.attr("order")||"asc";n.editor={};n.editor.editable=m.attr("editable")=="false"?false:true;n.editor.type=m.attr("editType")||"text";
n.editor.options={};if(n.editor.type=="select"){n.editor.options.emptytext=m.attr("emptyText")||"";n.editor.options.dataSource=m.attr("dataSource")||"";}else{if(n.editor.type=="date"){n.editor.options.dataField=m.attr("dataField")||"";n.editor.options.dateFormat=m.attr("dateFormat")||"";n.editor.options.showTime=m.attr("showTime");
}else{if(n.editor.type=="popup"){n.editor.options.popupType=m.attr("popupType");n.editor.options.popupSource=m.attr("popupSource");n.editor.options.popupTitle=m.attr("popupTitle");n.editor.options.popupWidth=m.attr("popupWidth");n.editor.options.popupHeight=m.attr("popupHeight");}}}j.columns.push(n);
});}},_buildOptionsEvents:function(j){this._buildCommonEvent(j,"onRowClick",j.onRowClick);this._buildCommonEvent(j,"onRowSelect",j.onRowSelect);this._buildCommonEvent(j,"onRowDeselect",j.onRowDeselect);this._buildCommonEvent(j,"onRowDblClick",j.onRowDblClick);this._buildCommonEvent(j,"onPageChange",j.onPageChange);
this._buildCommonEvent(j,"onRefresh",j.onRefresh);var l=j.onSuccess;if($.isString(l)){j.onSuccess=l?function(r,n,s){var p=l.indexOf("(");var o=p>0?l.substring(0,p):l;var q="return window."+o+"?"+o+".call(window,d,t,x):false;";return new Function("d","t","x",q)(r,n,s);}:function(o,n,p){};}var k=j.onError;
if($.isString(k)){j.onError=k?function(q,r){var o=k.indexOf("(");var n=o>0?k.substring(0,o):k;var p="return window."+n+"?"+n+".call(window,c,d):false;";return new Function("c","d",p)(q,r);}:function(n,o){};}var i=j.preProcess;if($.isString(i)){j.preProcess=i?function(q){var o=i.indexOf("(");var n=o>0?i.substring(0,o):i;
var p="return window."+n+"?"+n+".call(window,d):false;";return new Function("d",p)(q);}:false;}var m=j.titleRenderer;if($.isString(m)){j.titleRenderer=m?function(q){var o=m.indexOf("(");var n=o>0?m.substring(0,o):m;var p="return window."+n+"?"+n+".call(window):false;";return new Function(p)();}:false;
}},_buildCommonEvent:function(i,k,j){if($.isString(j)){i[k]=j?function(q,p,o){var m=j.indexOf("(");var l=m>0?j.substring(0,m):j;var n="return window."+l+"?"+l+".call(window,p1,p2,e):false;";return new Function("p1","p2","e",n)(q,p,o);}:function(n,m,l){};}},getData:function(){if(typeof this.data=="undefined"){return[];
}return this.data;}});var f=37;var d=null;var e=function(m){var k=arguments,j=true,l=1;m=m.replace(/%s/g,function(){var i=k[l++];if(typeof i==="undefined"){j=false;return"";}return i;});return j?m:"";};var b=function(k,m,l,j){var i="";$.each(k,function(n,o){if(o[m]===j){i=o[l];return false;}return true;
});return i;};var c=function(j,k){var i=-1;$.each(j,function(l,m){if(m.field===k){i=l;return false;}return true;});return i;};var a=function(){if(d===null){var k=$("<p/>").addClass("fixed-table-scroll-inner"),l=$("<div/>").addClass("fixed-table-scroll-outer"),j,i;l.append(k);$("body").append(l);j=k[0].offsetWidth;
l.css("overflow","scroll");i=k[0].offsetWidth;if(j===i){i=l[0].clientWidth;}l.remove();d=j-i;}return d;};var h=function(j,l,k,i){if(typeof l==="string"){var m=l.split(".");if(m.length>1){l=window;$.each(m,function(n,o){l=l[o];});}else{l=window[l];}}if(typeof l==="object"){return l;}if(typeof l==="function"){return l.apply(j,k);
}return i;};var g=function(i){if(typeof i==="string"){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}return i;};});define("ui-include",function(require,exports,moudles){$.aeWidget("ae.aeInclude",{options:{_initial:false,initType:"html"},_create:function(){var ops=this.options,ele=this.element,id=ele.attr("id");if(ops._initial){return;}else{ops._initial=true;}if(id){ele.attr("aeId",id);}if(ops.initType=="html"){this._buildOptions(ops,ele);
}},_init:function(){var ops=this.options,ele=this.element;if(!ops.url){return;}$.includeHtml(ele,ops.url,ops.callback);},_buildOptions:function(options,ele){options.id=ele.attr("id")||"";options.aeType=ele.attr("aeType")||"aeInclude";options.url=ele.attr("url")||"";options.callback=ele.attr("callback")||undefined;
var callback=options.callback;options.callback=callback?function(event){if($.isString(callback)){if(callback.substring(0,1)=="$"){eval(callback);}else{var i=callback.indexOf("(");var actName=i>0?callback.substring(0,i):callback;var func="return window."+actName+"?"+actName+".call(window,e):false;";return new Function("e",func)(event);
}}}:undefined;}});});define("ui-menu",function(require,exports,moudles){$.aeWidget("ae.aeMenu",{options:{_initial:false,mId:"id",mPid:"pid",mLabel:"label",theme:0,contextMenu:false,location:"top",renderAll:true,showMode:"mouseover",animate:"",speed:1000,onSelect:function(b,a){},initType:"html"},_create:function(){var a=this,b=this.options,c=this.element,e=c.attr("id");
if(b._initial===true){return;}if(e){c.attr("aeId",e);}if(b.initType==="html"){a._buildOptions(b,c);}var d;switch(b.theme){case 0:d="menu-box-horiz";break;case 1:d="menu-box-horiz menu-primary";break;default:d="menu-box-horiz";break;}c.addClass(d);b._initial=true;},_init:function(){var a=this.options.dataSource;
if(a&&typeof a=="string"){a=$.parseJSON(a);this.reload(a);}},_buildOptions:function(b,c){b.theme=parseInt(c.attr("theme"),10)||b.theme;b.mLabel=c.attr("mLabel")||b.mLabel;b.mId=c.attr("mId")||b.mId;b.mPid=c.attr("mPid")||b.mPid;b.renderAll=c.attr("renderAll")=="false"?false:b.renderAll;b._menuIterationMap=[];
if(c.attr("showMode")&&c.attr("showMode").indexOf("click")!==-1){b.showMode="click";}var a=c.attr("onSelect");b.onSelect=a?function(h,g){if($.isString(a)){var e=a.indexOf("(");var d=e>0?a.substring(0,e):a;var f="return window."+d+"?"+d+".call(window, i ,e):false;";return new Function("i","e",f)(h,g);
}}:"";b.dataSource=c.attr("dataSource");},reload:function(d,c){var a=this,b=this.options,e=this.element;if(c){d=a._findChildrenData(d,c);}if(b.renderAll){d=a._transformToNodes(d);e.empty();e.append(a._appendNodes.apply(a,[d]));}else{a._renderHeader(d);}a._bindHeaderEvent();a._bindEvent();},_bindHeaderEvent:function(){var a=this,b=this.options,c=this.element;
c.find(">ul:first >li").bind(b.showMode+".showFirstLevel",function(d){$(this).addClass("active").siblings("li").removeClass("active");$(this).children("ul").show();$(this).siblings("li").children("ul").hide();});},_renderHeader:function(c){var a=this,b=this.options,d=this.element;d.children().each(function(){$(this).is("ul")||$(this).remove();
});d.find(">ul:first").addClass("nav nav-pills");d.find(">ul:first >li").each(function(e,g){var f=$(g).attr("mId");b._menuIterationMap=[];var h=a._findChildrenData(c,f);if(h&&h.length){$(g).find(">a:first").append('<i class="icon-arrowlup-down"></i>');h=a._transformToNodes(h);$(g).append(a._appendNodes.call(a,h,1));
}});},_calculateOffset:function(){},_findChildrenData:function(f,e){var a=this,c=this.options;var g=c.mId,b=c.mPid;for(var d=0;d<f.length;d++){if(f[d][b]==e){c._menuIterationMap.push(f[d]);a._findChildrenData(f,f[d][g]);}}return c._menuIterationMap;},_transformToNodes:function(e){var b=this.options;var h=b.mId,a=b.mPid;
var c,f=[];var g=[];for(c=0;c<e.length;c++){g[e[c][h]]=e[c];}for(c=0;c<e.length;c++){if(g[e[c][a]]){var d=e[c][a];if(!g[d]["_children"]){g[d]["_children"]=[];}e[c]["_hierarchy"]=g[d]["_hierarchy"]+1;g[d]["_children"].push(e[c]);b._hierarchy=g[d]["_hierarchy"]+1;}else{e[c]["_hierarchy"]=0;f.push(e[c]);
}}return f;},_appendNodes:function(a,k){var i=this,l=this.options,f=[];var b=l.mId,d=l.mPid,j=l.mLabel;var g=(k===undefined)?"nav nav-pills":"menu-list";var h=(k===undefined)?"block":"none";var c=(k===undefined)?"icon-arrowlup-down":"icon-arrowright-little";f.push('<ul class="'+g+'" style="display:'+h+';">');
var e=[];$(a).each(function(n,o){if(o._children){e.push('<li mid="'+o[b]+'">');e.push('<a href="javascript:void(0)" >');e.push("<span>");e.push(o[j]);e.push("</span>");e.push('<i class="'+c+'"></i>');e.push("</a>");e.push(i._appendNodes(o._children,o._hierarchy+1));e.push("</li>");}else{e.push('<li mid="'+o[b]+'">');
e.push('<a href="javascript:void(0)">');e.push("<span>");e.push(o[j]);e.push("</span>");e.push("</a>");e.push("</li>");}var m=i.element.attr("id")+"_"+o[b];i.element.data(m,o);});f.push(e.join(""));f.push("</ul>");return f.join("");},_bindEvent:function(){var a=this,g=this.element,d=this.options;var f=g.find("ul:not(:first)"),c=f.find("li");
g.bind("mouseleave",function(){a._hide();g.find(">ul:first >li.active").each(function(h,i){$(i).removeClass("active");});});for(var e=0;e<c.length;e++){a._bindLiEvent(c[e]);}for(var b=0;b<f.length;b++){$(f[b]).bind("mouseleave.menuContainer",function(){$(this).hide();});}},_bindLiEvent:function(b){var a=this,d=this.element,c=this.options;
$(b).bind("mouseenter.menuItem",function(){var e=$(this);e.addClass("active");if(e.children("ul").length){setTimeout(function(){a._showChildren(e);},200);}}).bind("mouseleave.menuItem",function(){var e=$(this);e.removeClass("active");setTimeout(function(){e.children("ul").hide();},200);}).bind("mousedown.menuItem",function(f){var e=d.data(d.attr("id")+"_"+$(this).attr("mid"));
if(c.onSelect){a._trigger("onSelect",f,e);f.stopPropagation();}});},_showChildren:function(b){var a=this,c=this.options;if(b&&b.length>0){var e=b.children("ul").eq(0);e.css({"top":0});var f=b.width();if((2*f+b.offset().left)>document.documentElement.clientWidth){f=-e.width();}e.css("left",f);e.show();
var d=b.find(">a >span:first");if(d.outerWidth()===270){d.attr("title",d.text());}e.children().each(function(g,i){var h=$(i).find(">a >span:first");if(h.outerWidth()===270){h.attr("title",h.text());}});}},_isEnoughShowChildren:function(a){var d=a.offset().top;var b=a.children("ul").eq(0);var f=a.position().top;
var c=b.height();if($(document).height()-d>=c){return true;}else{if(d+a.height()>=c){var e=c-f-a.height();return e;}else{var e=d-a.height();return e;}}},disableItem:function(a){return;},enableItem:function(a){return;},_hide:function(){var a=this,d=a.element,b=a.options;var c=d.find("ul:not(:first)");
c.hide();c.find("li.active").each(function(e,f){$(f).removeClass("active");});},show:function(a){var g=$(a);var j=this,k=j.options,f=j.element,h,c;var e=g.offset();if(k.contextMenu){h=a.pageY;c=a.pageX;a.preventDefault();a.stopPropagation();a.cancelBubble=true;}else{if(k.menuLocation=="right"){h=e.top;
c=e.left+g.width();}else{k.menuLocation="down";h=e.top+g.height();c=e.left;}}var i=f.parent();while(i.css("position")=="static"&&i[0].nodeName!="BODY"){i=i.parent();h-=i.offset().top;c-=i.offset().left;}if((c+f.outerWidth())>document.documentElement.clientWidth){c=c-f.outerWidth()-20;}$(f).css({"top":h,"left":c});
var d=$(f).children("ul."+pre+"menu");if(k.menuShow=="slide"){$(f).show();d.slideDown(k.speed);}else{if(k.menuShow=="fade"){$(f).fadeIn(k.speed);d.fadeIn(k.speed);}else{k.menuShow="basic";$(f).show();d.show();}}var b=$(f).width()*0.7;$(f).children("ul."+pre+"menu").children().each(function(m,l){if($(l).find("span:first").hasClass(pre+"menu-item-sep")){$(l).find("span:first").width("98%");
}else{}});}});});define("ui-menutree",function(require,exports,moudles){$.aeWidget("ae.aeMenutree",{options:{_initial:false,mId:"id",mPid:"pid",mLabel:"label",search:false,onSelect:function(b,a){},initType:"html"},_create:function(){var a=this,b=this.options,c=this.element,d=c.attr("id");if(b._initial===true){return;
}if(d){c.attr("aeId",d);}if(b.initType==="html"){a._buildOptions(b,c);}c.addClass("menu-box").empty();if(b.search){c.prepend('<div class="input-icon right"><i class="icon-search"></i><input type="text" class="form-control" value="keywords" /></div>');}b._initial=true;},_buildOptions:function(b,c){b.search=c.attr("search")=="true"?true:b.search;
b.mLabel=c.attr("mLabel")||b.mLabel;b.mId=c.attr("mId")||b.mId;b.mPid=c.attr("mPid")||b.mPid;b._menuIterationMap=[];var a=c.attr("onSelect");b.onSelect=a?function(h,g){if($.isString(a)){var e=a.indexOf("(");var d=e>0?a.substring(0,e):a;var f="return window."+d+"?"+d+".call(window, i ,e):false;";return new Function("i","e",f)(h,g);
}}:"";},_init:function(){},reload:function(f,e){var a=this,g=this.element,c=this.options;if(!f){return;}if(e){f=a._findChildrenData(f,e);}f=a._transformToNodes(f);g.append(a._appendNodes.apply(a,[f]));var b=g.find(">ul li");for(var d=0;d<b.length;d++){a._bindLiEvent(b[d]);}},_bindLiEvent:function(b){var a=this,c=this.options;
$(b).bind("click.menuItem",function(f){var d=$(this);d.addClass("active").siblings("li").removeClass("active");if(d.children("ul").length){d.find(">a >i:last").addClass("icon-arrowlup-down").removeClass("icon-chevron-right");d.children("ul").slideDown();d.siblings("li").has(">ul").find(">a >i:last").addClass("icon-chevron-right").removeClass("icon-arrowlup-down");
d.siblings("li").has(">ul").children("ul").slideUp();}var e=a.element.data(a.element.attr("id")+"_"+d.attr("mid"));if(c.onSelect){a._trigger("onSelect",f,e);f.stopPropagation();}});},_findChildrenData:function(f,e){var a=this,c=this.options;var g=c.mId,b=c.mPid;for(var d=0;d<f.length;d++){if(f[d][b]==e){c._menuIterationMap.push(f[d]);
a._findChildrenData(f,f[d][g]);}}return c._menuIterationMap;},_transformToNodes:function(e){var b=this.options;var h=b.mId,a=b.mPid;var c,f=[];var g=[];for(c=0;c<e.length;c++){g[e[c][h]]=e[c];}for(c=0;c<e.length;c++){if(g[e[c][a]]){var d=e[c][a];if(!g[d]["_children"]){g[d]["_children"]=[];}if(g[d]["_hierarchy"]<=2){e[c]["_hierarchy"]=g[d]["_hierarchy"]+1;
g[d]["_children"].push(e[c]);b._hierarchy=g[d]["_hierarchy"]+1;}}else{e[c]["_hierarchy"]=0;f.push(e[c]);}}return f;},_appendNodes:function(a,k,j){var h=this,l=this.options,e=[];var b=l.mId,c=l.mPid,i=l.mLabel;var f;switch(k){case 1:f="menu-list";break;case 2:f="menu-list menu-list-next";break;case 3:f="menu-list menu-list-next-2";
break;default:f="nav nav-pills nav-stacked";break;}var g=(k===undefined)?"block":"none";g=j?"block":g;e.push('<ul class="'+f+'" style="display:'+g+';">');var d=[];$(a).each(function(n,o){if(o._children){var p=(o.unfold&&(o.unfold===true||o.unfold==="true"))?true:false;p?d.push('<li mid="'+o[b]+'" class="active">'):d.push('<li mid="'+o[b]+'">');
d.push('<a href="javascript:void(0)" >');o.icon?d.push('<i class="'+o.icon+'"></i>'):null;d.push(o[i]);p?d.push('<i class="icon-arrowlup-down pull-right"></i>'):d.push('<i class="icon-chevron-right pull-right"></i>');d.push("</a>");d.push(h._appendNodes(o._children,o._hierarchy+1,p));d.push("</li>");
}else{d.push('<li mid="'+o[b]+'">');d.push('<a href="javascript:void(0)">');o.icon?d.push('<i class="'+o.icon+'"></i>'):null;d.push(o[i]);d.push("</a>");d.push("</li>");}var m=h.element.attr("id")+"_"+o[b];h.element.data(m,o);});e.push(d.join(""));e.push("</ul>");return e.join("");},_bindSearchEvent:function(){}});
});define("ui-messagebox",function(require,exports,moudles){$.aries.messagebox={initCount:0,_init:function(c){var a=[];var b=$.extend({},c);a.push('<div id="messagebox_div_'+$.aries.messagebox.initCount+'" style="display: none;">');if(b.type==="alert"){a.push('  <i class="fa fa-exclamation-circle"></i>');
}if(b.type==="confirm"){a.push('  <i class="fa fa-warning"></i>');}if(b.type==="success"){a.push('  <i class="fa fa-check-circle"></i>');}if(b.type==="error"){a.push('  <i class="fa fa-times-circle"></i>');}a.push('  <h3 class="modal-title"></h3>');a.push("  <p></p>");a.push("</div>");$(document.body).append(a.join(""));
a=[];a=null;},_show:function(a){$.aries.messagebox._init(a);var i=$.extend({},a),g=$.extend({},i.buttons);var b=$("#messagebox_div_"+$.aries.messagebox.initCount),h=b.find(">h3.modal-title"),e=b.find("i"),d=h.next();if(i.title){h.html(i.title);}if(i.content){d.html(i.content);}else{if(i.type==="alert"){d.html($.ae.messagebox.alert);
}if(i.type==="confirm"){d.html($.ae.messagebox.confirm);}if(i.type==="success"){d.html($.ae.messagebox.success);}if(i.type==="error"){d.html($.ae.messagebox.error);}}var f=$.extend(true,{},$.extend({draggable:false,resizable:false,showClose:true,showButton:true,modal:true},i.settings));var c={autoOpen:true,modal:f.modal,width:f.width||"500",height:f.height||"auto",draggable:f.draggable,resizable:f.resizable,showClose:f.showClose,showButton:f.showButton,componentType:"message",messageType:i.type,close:function(){$.aries.messagebox.initCount--;
}};b.aeDialog(c);b.next().find(">button.btn-primary").off().on("click",function(){var j;if(i.fn&&$.isFunction(i.fn)){var k="";if(i.type==="confirm"){k="ok";}j=i.fn(k);}if(false!==j){b.aeDialog("close");}});$.aries.messagebox.initCount++;},alert:function(d,c,b,a){$.aries.messagebox._show({"type":"alert","title":d||"Warning!","content":c,"fn":b,"settings":a});
},success:function(d,c,b,a){$.aries.messagebox._show({"type":"success","title":d||"Success!","content":c,"fn":b,"settings":a});},error:function(d,c,b,a){$.aries.messagebox._show({"type":"error","title":d||"Error!","content":c,"fn":b,"settings":a});},confirm:function(d,c,b,a){$.aries.messagebox._show({"type":"confirm","title":d||"Info!","content":c,"fn":b,"settings":a});
}};$.ae.messagebox={alert:"Operation error!",success:"Operation successed!",error:"Operation failed!",confirm:"Are you sure you want to operate?"};if(typeof($.message)=="undefined"){$.message={};}$.message.alert=$.aries.messagebox.alert;$.message.success=$.aries.messagebox.success;$.message.error=$.aries.messagebox.error;
$.message.confirm=$.aries.messagebox.confirm;});define("ui-pageflow",function(require,exports,modules){if(typeof($.bizpageflow)=="undefined"){$.bizpageflow=function(id,steps,domId){return new $.bizpageflow.fn.construct(id,steps,domId);};$.bizpageflow.fn={construct:function(id,steps,domId){this.id=id;this.steps=steps;this.active=0;this.activeFrames=[];
this.curStep="";this.size=steps.length;this.gostep=$.DataMap("{}");this.drawGuide=false;this.isFilish=false;this.currentEvent=null;this.isBack=false;this.currentData=null;this.submitListener=null;this.submitParams="";this.currentEvtType=null;this.globalVars=new $.DataMap();this.bindedButtons={};this.defaultShow="";
this.beginStep="";$.extend(this,steps);},_initFlow:function(){var data=this.getStep("begin");if(data==null||typeof(data)=="undefined"){return;}if(this.beginStep){this.active=this.beginStep;this.curStep=this.beginStep;this.next(this.beginStep);}else{this.active=data["name"];this.curStep=data["name"];this.next(data["nextstep"]);
}window.getFlow().initBindEvent();},initFlow:function(){var _steps=this.steps,self=this;if(!_steps||!_steps.length){return;}var _childSteps=_steps,_events;for(var j=0;j<_childSteps.length;j++){_childStep=_childSteps[j];if(_childStep.tagname=="event"){_events=_childStep.events;break;}}if(_events&&_events.length){$.each(_events,function(idx,val){if(val.type=="next"){window.getFlow().bindNextEvent(val.page,val.name,val.source,val.trigger,val.btnName,val.verifyFn);
}if(val.type=="submit"){}});}var step,childSteps=[];for(var i=0;i<_steps.length;i++){step=_steps[i];if(step.tagname=="child"){childSteps.push(step);}}if(childSteps.length){var finishedNum=childSteps.length,currentNum=1,backStep,nextStepName;for(var i=0;i<childSteps.length;i++){step=childSteps[i];backStep=this.getStepsByNext(step.name);
nextStepName=step.nextstep;$.aries.ajax.post(step.page,"",function(data){if(data&&data.steps){var _childSteps=data.steps,_childStep,_childStart,_useSteps=[],_events;for(var j=0;j<_childSteps.length;j++){_childStep=_childSteps[j];if(_childStep.name=="begin"){_childStart=_childStep;}else{if(_childStep.tagname=="step"){_useSteps.push(_childStep);
}else{if(_childStep.tagname=="event"){_events=_childStep.events;}}}}if(_childStart){$.each(_useSteps,function(idx,val){if(val.name==_childStart.nextstep){$.each(backStep,function(idx1,val1){backStep[idx1].nextstep=val.name;});return false;}});}$.each(_useSteps,function(idx,val){if(val.nextstep=="end"){_useSteps[idx].nextstep=nextStepName;
return false;}});if(_useSteps&&_useSteps.length){$.each(_useSteps,function(idx,val){self.steps.push(val);});}if(_events&&_events.length){$.each(_events,function(idx,val){if(val.type=="next"){window.getFlow().bindNextEvent(val.page,val.name,val.source,val.trigger,val.btnName,val.verifyFn);}if(val.type=="submit"){}});
}}if(finishedNum==currentNum){window.getFlow()._initFlow();}else{currentNum+=1;}},function(code,info){if(finishedNum==currentNum){window.getFlow()._initFlow();}else{currentNum+=1;}$.aelog("Pageflow load "+step.page+" is error! Info : "+info);});}}else{window.getFlow()._initFlow();}},reInitFlow:function(){this.active=0;
this.curStep="";this.isFilish=false;this.currentEvent=null;this.isBack=false;this.currentData=null;this.submitListener=null;this.submitParams="";this.currentEvtType=null;this.globalVars=new $.DataMap();var data=this.getStep("begin");if(data==null||typeof(data)=="undefined"){return;}this.active=data["name"];
this.curStep=data["name"];this.next(data["nextstep"]);},includePage:function(noi){var data=this.getStep(noi),self=this;if(data==null||typeof(data)=="undefined"){return;}$("#"+this.id).html(this.defaultShow);var url=data.page;var flow=window.getFlow(),dynamicId=flow.getGlobalVarsByName("dynamicId");if(data.dynamic=="true"&&data.dynamicPath&&dynamicId){url=data.dynamicPath+dynamicId+".html";
}$.aries.common.includeHtml(this.id,url,function(e){self.pageInitEvent(noi);if($.isFunction(window["initFunction"])){eval("window.initFunction();");window["initFunction"]=undefined;}});},pageInitEvent:function(noi){if($("body").length&&$("body").children(":first").length){$("body").children(":first").scrollTop(0);
}var data=this.getStep(noi);var bindedBtns=this.bindedButtons[noi];if(bindedBtns&&bindedBtns.length){var bindedBtn,evtType,evt,evtName="",evtArgs="",endLen;for(var i=0;i<bindedBtns.length;i++){bindedBtn=bindedBtns[i];var btn=$("[name="+bindedBtn.name+"]");if(btn.length){evtType=bindedBtn.evtType;if(evtType!=null&&typeof(evtType)!="undefined"&&evtType!=""){evt=btn[0].getAttribute(evtType);
if(evt&&evt!=""){var len=evt.indexOf("(");if(len>-1){evtName=evt.substring(0,len);endLen=evt.indexOf(")");evtArgs=endLen>-1?evt.substring(len+1,endLen):evt.substring(len+1,evt.length);}else{evtName=evt;}}var bindType=evtType.indexOf("on")==0?evtType.substring(2,evtType.length):evtType;btn.data("idx",i);
btn.data("evtName",evtName);btn.data("evtArgs",evtArgs);var btnSpan=btn.find("span");if(btnSpan.length){btnSpan.data("idx",i);btnSpan.data("evtName",evtName);btnSpan.data("evtArgs",evtArgs);}btn.unbind(bindType);btn.bind(bindType,function(e){var curBtn=bindedBtns[$(e.target).data("idx")];var eName=$(e.target).data("evtName");
var eArgs=$(e.target).data("evtArgs");if(eName!=""){if($.isFunction(window[eName])){if(eArgs!=""){eval("window."+eName+"("+eArgs+");");}else{eval("window."+eName+"();");}}}if(window.getFlow().verifyNextEvent(curBtn.verifyEvent)){if(curBtn.type=="s"){window.getFlow().setCurrentEvent(curBtn.submitEvt);
window.getFlow().setSubmitListener(curBtn.submitSV);window.getFlow().setCurrentEvtType("submit");$("#bnext").trigger("click");}else{window.getFlow().setCurrentEvent(curBtn.nextEvt);window.getFlow().setSubmitListener("");window.getFlow().setCurrentEvtType("next");$("#bnext").trigger("click");}}});btn[0].setAttribute(evtType,"");
}}}}},setDefaultShow:function(html){if(html){this.defaultShow=html;}else{this.defaultShow="";}},getName:function(){return this.id;},execExpress:function(noi,express,defval){var execval=null;if(express=="$EVENT"){execval=this.getCurrentEvent();}else{execval=f("#"+express).val();}if(execval==null||typeof(execval)=="undefined"){return defval;
}return execval;},getTransData:function(noi,next){var data=this.getStep(noi);if(data==null||typeof(data)=="undefined"){return null;}if(data["name"]=="begin"||data["name"]=="end"||data["tagname"]!="step"){return null;}var ids=data["transdata"];var flow=window.getFlow();var buf=[];if(ids&&typeof(ids)!="undefined"&&ids!=""){$.each(ids.split(","),function(idx,val){if(val.indexOf(":")>0){var valArray=val.split(":");
val=valArray[0];var globalkey=valArray[1];if(globalkey&&globalkey!=""){if(val==null||typeof(val)=="undefined"){val="";}flow.setGlobalVarsByName($.trim(globalkey),$.aries.page.data.getData($.trim(val)));}}});}return null;},firstStep:function(){var beginStep;$.each(this.steps,function(idx,val){if(val["tagname"]=="step"){if(val["name"]==="begin"){beginStep=val["nextstep"];
}}});return beginStep;},lastStep:function(){var endStep;$.each(this.steps,function(idx,val){if(val["tagname"]=="step"){if(val["nextstep"]==="end"){endStep+=val["name"]+"|";}}});return endStep;},backView:function(noi){if(noi==null||typeof(noi)=="undefined"){return;}var changekey=this.getChange();if(changekey==noi){return;
}if(changekey){$("#guide_"+changekey).attr("monitor","{"+this.getStepMonitor(changekey)+"}");if(window.confirm($.lang["view.web.comp.pageflow.confirm"])){this.reset(changekey);this.setShowPage(changekey);$("#bnext").triggerHandler("click");return;}}this.setShowPage(noi);this.resetByGuide(noi,false);this.setAutoHeight();
this.curStep=noi;},reset:function(changekey,updateGuide){if(!changekey){return;}var lastFlowName=this.activeFrames.slice(this.activeFrames.length-1)[0];if(changekey!=lastFlowName){var noi=$("#bback").attr("back");this.resetStatus(changekey,updateGuide);var keyIndex=this.gostep.indexOfKey(changekey);var stepsCount=this.gostep.getCount();
for(var i=stepsCount-1;i>keyIndex;i--){$("#guide_"+this.gostep.itemAt(i)["name"]).remove();this.gostep.removeAt(i);}}},resetByGuide:function(changekey,updateGuide){if(!changekey){return;}if(changekey!=this.active){this.resetStatus(changekey,updateGuide);}},resetStatus:function(noi,updateGuide){var data=this.getStep(noi);
if(data==null||typeof(data)=="undefined"){return;}if(data["name"]==="begin"||data["name"]==="end"){return;}data["nexttrigger"]="";if(updateGuide!=false){var lastFrame;var noiPos=$.inArray(noi,this.activeFrames);var framesLength;if(noiPos>=0){framesLength=this.activeFrames.length-noiPos-1;}else{framesLength=this.activeFrames.length;
}for(var i=0;i<framesLength;i++){lastFrame=this.activeFrames.pop();$("#"+lastFrame).attr("src","about:blank");}this.setButton(noi);this.active=noi;this.curStep=noi;}},getChange:function(){var changekey=null;this.gostep.eachKey(function(key,idx){if(window.getFlow().isMonChanged(key)){changekey=key;return true;
}});return changekey;},setShowPage:function(noi){var beginStep=this.firstStep();var endStep=this.lastStep();var active=this.active;var autoheight=this.autoSize();$.each(this.steps,function(){if(this["tagname"]=="step"){if(this["name"]==noi){if(beginStep&&beginStep==noi){$("#guide_"+noi).attr("class","first on");
}else{if(endStep&&endStep.indexOf(noi+"|")>-1){$("#guide_"+noi).attr("class","last on");}else{$("#guide_"+noi).attr("class","on");}}$("#"+this["name"]).attr("height",autoheight);$("#"+this["name"]).css("display","block");}else{if(this["name"]==active){if(endStep&&endStep.indexOf(active+"|")>-1){$("#guide_"+active).attr("class","last active");
}else{$("#guide_"+active).attr("class","active");}}else{if(beginStep&&beginStep==this["name"]){$("#guide_"+this["name"]).attr("class","first ok");}else{$("#guide_"+this["name"]).attr("class","ok");}}$("#"+this["name"]).css("display","none");$("#"+this["name"]).attr("height","0");}}});},setFrame:function(noi,params){var data=this.getStep(noi);
if(data==null||typeof(data)=="undefined"){return;}var trans=this.getTransData(this.active,noi);var initsv=data["initsv"];var onsuccess=data["onsuccess"];this.includePage(noi);return;var userDefinedWade_isStopResizeHeight=window["Wade_isStopResizeHeight"];window["Wade_isStopResizeHeight"]=true;var data=this.getStep(noi);
if(data==null||typeof(data)=="undefined"){return;}var trans=this.getTransData(this.active,noi);var initsv=data["initsv"];var onsuccess=data["onsuccess"];var autoheight=this.autoSize();var isMonChanged=this.isMonChanged(this.active);var aFrames=this.activeFrames;if(this.getStep("begin")["nextstep"]==noi){var searchParams=window.location.search;
if(searchParams){if(searchParams.indexOf("?service=")==0){var searchIndex=searchParams.indexOf("&");if(searchIndex>-1){searchParams=searchParams.substring(searchIndex+1);}}if(params){if(searchParams.indexOf("&")==0){params+=searchParams;}else{if(searchParams.indexOf("?")==0&&searchParams.length>1){params+="&"+searchParams.substring(1);
}else{params+="&"+searchParams;}}}else{params=searchParams;}}}$.each(this.steps,function(active){if(this["name"]==active){if($("#"+this["name"]).attr("src")=="about:blank"||isMonChanged==true){var framename=this["name"];$("#"+framename).bind("load",function(e){window["Wade_isStopResizeHeight"]=userDefinedWade_isStopResizeHeight;
});if($.inArray(framename,aFrames)==-1){aFrames.push(framename);}var url=this["page"];var ajaxJsonPrefix=$.aries.config.common.PAGE_REDIRECT_PREFIX;if(ajaxJsonPrefix){if(ajaxJsonPrefix.substring(ajaxJsonPrefix.length-1,ajaxJsonPrefix.length)=="/"){if(url.indexOf("/")==0){url=url.substring(1,url.length);
}}else{if(url.indexOf("/")==-1){url="/"+url;}}url=ajaxJsonPrefix+url;}$("#"+framename).attr("src",url+params);var trans_param=trans;$("#"+framename).bind("load",function(){$.aries.common.disabledButton("bnext",false);window.getFlow().setAutoHeight();var frameWin=$("#"+framename)[0].contentWindow;if(frameWin&&frameWin.$){window.getFlow().setButton(active,true);
}$(frameWin).bind("resize",function(){window.getFlow().setAutoHeight();});if(initsv&&$.isString(initsv)){var svCode=new Function("s","return window."+initsv+"?window."+initsv+':"";')();if(svCode){var param="param="+trans_param+"";$.aries.ajax.post(svCode,param,function(data){if(data&&onsuccess&&$.isString(onsuccess)){var i=onsuccess.indexOf("(");
var actName=i>0?onsuccess.substring(0,i):onsuccess;var win=$("#"+framename)[0].contentWindow;if($.isFunction(win[actName])){win[actName](data);}}},function(errorCode,info){alert("error:"+errorCode);});}}});trans=null;}else{window["Wade_isStopResizeHeight"]=userDefinedWade_isStopResizeHeight;var framename=this["name"];
var frameWin=$("#"+framename)[0].contentWindow;if(frameWin&&frameWin.$){window.getFlow().setButton(active,true);}}$("#"+this["name"]).attr("height",autoheight);$("#"+this["name"]).css("display","");}else{$("#"+this["name"]).attr("height","0");$("#"+this["name"]).css("display","none");}},[data["name"]]);
},setFlow:function(noi){},setButton:function(noi,isDisabled){var data=this.getStep(noi);if(data==null||typeof(data)=="undefined"){return;}if(isDisabled){$("#bnext").attr("disabled","disabled");}if(data["nextstep"]=="end"){$("#bnext").attr("class","finish");$("#bnext").attr("active",noi);$("#bnext").attr("uuid",noi);
$("#bnext").html("Finish");$("#bnext").attr("next",data["nextstep"]);$("#bnext").unbind("click");$("#bnext").bind("click",function(){window.getFlow().submit();});this.isFilish=true;}else{$("#bnext").attr("class","");$("#bnext").attr("active",noi);$("#bnext").attr("uuid","step");$("#bnext").attr("next",data["nextstep"]);
$("#bnext").unbind("click");$("#bnext").bind("click",function(){window.getFlow().next(data["nextstep"]);});this.isFilish=false;}if(isDisabled){$.aries.common.disabledButton("bnext",true);}else{$.aries.common.disabledButton("bnext",false);}var firstStepName=this.getStep("begin")["nextstep"];if(firstStepName!=noi){$("#bback").css("visibility","visible");
var back=null;this.gostep.eachKey(function(key,idx){if(key==data["name"]){return;}back=key;});$("#bback").attr("active",noi);$("#bback").attr("back",back);$("#bback").unbind("click");$("#bback").bind("click",function(){window.getFlow().back(back);});}else{$("#bback").css("visibility","hidden");$("#bback").unbind("click");
}},toSwitch:function(noi,ignoreMonitor,notTriggerNextButton){var data=this.getStep(noi);if(data==null||typeof(data)=="undefined"){return;}var pdata=this.getActive();var execval=this.execExpress(pdata["name"],data["expression"],data["default"]);pdata=null;var caseval=null;$.each(data["cases"],function(val){if(this["value"]==val){caseval=val;
return true;}},[execval]);var next=null;try{if(caseval==null){next=data["cases"][data["default"]]["nextstep"];}else{next=data["cases"][caseval]["nextstep"];}}catch(e){alert("bad switch config,at "+noi);return -1;}if(next==null||typeof(next)=="undefined"){alert("bad switch config,at "+noi);return -1;}this.next(next,ignoreMonitor,notTriggerNextButton);
},getActive:function(){var data=this.getStep(this.active);if(data==null||typeof(data)=="undefined"){alert("the flow has stopped");return null;}return data;},getStep:function(noi){if(noi&&typeof(noi)=="string"){var step=null;$.each(this.steps,function(_value){if(this["name"]==_value){step=this;return true;
}},[noi]);return step;}else{return this.steps[noi];}},getStepsByNext:function(name){var steps=[];$.each(this.steps,function(idx,val){if(val["nextstep"]==name){steps.push(val);}});return steps;},autoSize:function(){return document.body.offsetHeight-$("#guideBtns")[0].offsetHeight-3;},setAutoHeight:function(){var h=this.autoSize();
$.each(this.steps,function(idx,val){var name=val["name"];if(name!="begin"||name!="end"){var el=$("#"+name);if(el.length>0&&el.attr("src")&&el.attr("src")!=""&&el.attr("height")&&el.attr("height")!="0"){el.css("height",h);}}});},getBackStep:function(){return this.getStep($("#bback").attr("back"));},clear:function(){this.id=null;
this.steps=null;this.active=0;this.activeFrames=[];this.curStep="";this.size=-1;this.gostep=null;this.drawGuide=false;this.isFilish=false;this.currentEvent=null;this.isBack=false;this.currentData=null;this.submitListener=null;this.submitParams="";this.currentEvtType=null;this.globalVars=null;this.bindedButtons=null;
this.defaultShow="";},next:function(noi,ignoreMonitor,notTriggerNextButton){if(!noi){noi=$("#bnext").attr("next");}if(window.getFlow().getCurrentEvtType()=="submit"){window.getFlow().submit();return;}var active=this.getActive();var params="";if(notTriggerNextButton!=true){}this.setShowPage(this.active);
var data=this.getStep(noi);if(data==null||typeof(data)=="undefined"){return;}if(data["tagname"]=="switch"){this.toSwitch(noi,ignoreMonitor,notTriggerNextButton);return;}this.gostep.put(data["name"],data);if($("#"+data["name"]).attr("src")!="about:blank"){this.setButton(noi);}else{this.setButton(noi,true);
}$.bizpageflow.fn.displayNextButton(this.active,"none");$.bizpageflow.fn.displayNextButton(noi,"inline-block");this.setFrame(noi,params);this.active=noi;this.curStep=noi;},back:function(noi,notTriggerNextButton){if(!noi){noi=$("#bback").attr("back");}var data=this.getStep(noi);if(data==null||typeof(data)=="undefined"){return;
}if(data["name"]==="begin"||data["name"]==="end"){return;}var active=this.getActive();data["nexttrigger"]="";this.gostep.removeKey(this.active);this.setButton(noi);this.setFrame(noi,"");this.active=noi;this.curStep=noi;this.setAutoHeight();},cancel:function(){alert("close the window!");},submit:function(){var curListener=window.getFlow().getSubmitListener();
if(curListener==null||curListener==""){return;}$.aries.common.disabledButton("bnext",true);var data=this.getActive();this.getTransData(data["name"]);var submitdata;if(this.submitParams){var paramAry=this.submitParams.split(",");var buf=[];for(var i=0;i<paramAry.length;i++){var param=paramAry[i];buf.push(param+"="+this.getGlobalValue(param));
}submitdata=buf.join("&");$.aries.ajax.post(curListener,submitdata,function(data){$.aries.common.disabledButton("bnext",false);window.location.reload(false);},function(i,e){$.aries.common.disabledButton("bnext",false);$.aries.messagebox.error("Submit Error!");});}},stepChange:function(ignoreMonitor){var changekey=this.getChange();
var lastFlowName=this.activeFrames.slice(this.activeFrames.length-1)[0];if(ignoreMonitor!=true){if(changekey&&changekey!=lastFlowName){$("#guide_"+changekey).attr("monitor","{"+this.getStepMonitor(changekey)+"}");if(window.confirm($.lang["view.web.comp.pageflow.confirm"])){this.reset(changekey);this.setShowPage(changekey);
$("#bnext").triggerHandler("click");return false;}}}else{if(changekey&&changekey!=lastFlowName&&changekey==this.curStep){$("#guide_"+this.curStep).attr("monitor","{"+this.getStepMonitor(this.curStep)+"}");}}return true;},isFilishStep:function(){return this.isFilish;},setCurrentEvent:function(evt){this.currentEvent=evt;
},getCurrentEvent:function(){return this.currentEvent;},setCurrentEvtType:function(evtType){this.currentEvtType=evtType;},getCurrentEvtType:function(){return this.currentEvtType;},initNextButton:function(evt,page,text,verifyEvent){var subFrame=$("#"+page);if(subFrame==null||typeof(subFrame)=="undefined"){return;
}var btnHtml='<a href="#nogo" id="'+evt+'" name="'+evt+'" page="'+page+'" style="display:none;">'+text+"</a>\n";$("#guideBtns").append(btnHtml);var btn=$("#"+evt+"[page="+page+"]");var pf=this;if(btn!=undefined&&btn[0]!=undefined){btn.bind("click",function(e){if(pf.verifyNextEvent(verifyEvent)){pf.setCurrentEvent(evt);
pf.setSubmitListener("");pf.setCurrentEvtType("next");$("#bnext").trigger("click");}});}if(page==this.active){this.displayNextButton(page,"inline-block");}},displayNextButton:function(page,state){var btns=$("#guideBtns").children("a[page="+page+"]");if(btns&&btns.length){btns.css("display",state);$("#guideBtns").show();
}},bindNextEvent:function(page,nextEvt,source,evtType,evtName,verifyEvent){if(page==null||typeof(page)=="undefined"||page==""){return;}if(evtName==null||typeof(evtName)=="undefined"||evtName==""){evtName="Next";}if(nextEvt==null||typeof(nextEvt)=="undefined"||nextEvt==""){window.getFlow().initNextButton("defBtn_"+page,page,evtName,verifyEvent);
return;}if(source==null||typeof(source)=="undefined"||source==""){window.getFlow().initNextButton(nextEvt,page,evtName,verifyEvent);return;}if(typeof(this.bindedButtons[page])=="undefined"||this.bindedButtons[page]==null){this.bindedButtons[page]=[];}var bindedBtn={};bindedBtn.name=source;bindedBtn.type="n";
bindedBtn.evtType=evtType;bindedBtn.nextEvt=nextEvt;bindedBtn.verifyEvent=verifyEvent;this.bindedButtons[page].push(bindedBtn);return;var subFrame=$("#"+page);if(subFrame){subFrame.bind("load",function(e){var btn=$("[name="+source+"]",this.contentDocument);var frame=this.contentWindow;if(btn==undefined||btn[0]==undefined){return;
}if(evtType!=null&&typeof(evtType)!="undefined"&&evtType!=""){var evt=btn[0].getAttribute(evtType);var evtName="",evtArgs="";if(evt&&evt!=""){var len=evt.indexOf("(");if(len>-1){evtName=evt.substring(0,len);var endLen=evt.indexOf(")");evtArgs=endLen>-1?evt.substring(len+1,endLen):evt.substring(len+1,evt.length);
}else{evtName=evt;}}var bindType=evtType.indexOf("on")==0?evtType.substring(2,evtType.length):evtType;btn.unbind(bindType);btn.bind(bindType,function(e){if(evtName!=""){if($.isFunction(frame.window[evtName])){if(evtArgs!=""){eval("frame.window."+evtName+"("+evtArgs+");");}else{eval("frame.window."+evtName+"();");
}}}if(window.getFlow().verifyNextEvent(verifyEvent)){window.getFlow().setCurrentEvent(nextEvt);window.getFlow().setSubmitListener("");window.getFlow().setCurrentEvtType("next");$("#bnext").trigger("click");}});btn[0].setAttribute(evtType,"");}});}},verifyNextEvent:function(verifyEvent){var rtnFlag=true;
if(verifyEvent&&typeof(verifyEvent)!="undefined"&&verifyEvent!=""){var errorTitle="";var evtName,evtArgs="",len=-1;len=verifyEvent.indexOf("(");if(len>-1){evtName=verifyEvent.substring(0,len);var endLen=verifyEvent.indexOf(")");evtArgs=endLen>-1?verifyEvent.substring(len+1,endLen):verifyEvent.substring(len+1,verifyEvent.length);
}else{evtName=verifyEvent;}var rtn,rtnMsg="";if(evtArgs!=""){rtn=eval("window."+evtName+"("+evtArgs+");");}else{rtn=eval("window."+evtName+"();");}if(rtn&&$.isArray(rtn)&&rtn.length>0){rtnFlag=rtn[0];if(rtn.length>1){rtnMsg=rtn[1];}}else{rtnFlag=rtn;}if(rtnFlag==undefined||rtnFlag=="false"||rtnFlag==false){rtnFlag=false;
}else{rtnFlag=true;}if(!rtnFlag){$.aries.messagebox.error(errorTitle,rtnMsg?rtnMsg:"");window.getFlow().setCurrentEvent(null);window.getFlow().setSubmitListener(null);}}return rtnFlag;},bindSubmitEvent:function(page,submitEvt,source,evtType,evtName,submitSV,params,verifyEvent,afterSubmit){if(page==null||typeof(page)=="undefined"||page==""){return;
}if(evtName==null||typeof(evtName)=="undefined"||evtName==""){evtName="Submit";}if(submitEvt==null||typeof(submitEvt)=="undefined"||submitEvt==""){window.getFlow().initSubmitButton("defBtn_"+page,page,evtName,submitSV,verifyEvent);return;}if(source==null||typeof(source)=="undefined"||source==""){window.getFlow().initSubmitButton(submitEvt,page,evtName,submitSV,verifyEvent);
return;}if(typeof(this.bindedButtons[page])=="undefined"||this.bindedButtons[page]==null){this.bindedButtons[page]=[];}var bindedBtn={};bindedBtn.name=source;bindedBtn.type="s";bindedBtn.submitEvt=submitEvt;bindedBtn.evtType=evtType;bindedBtn.evtName=evtName;bindedBtn.submitSV=submitSV;bindedBtn.verifyEvent=verifyEvent;
this.bindedButtons[page].push(bindedBtn);if(params){this.submitParams=params;}else{this.submitParams="";}return;var subFrame=$("#"+page);if(subFrame){subFrame.bind("load",function(e){var btn=$("[name="+source+"]",this.contentDocument);var frame=this.contentWindow;if(btn==undefined||btn[0]==undefined){return;
}if(evtType!=null&&typeof(evtType)!="undefined"&&evtType!=""){var evt=btn[0].getAttribute(evtType);var evtName="",evtArgs="";if(evt&&evt!=""){var len=evt.indexOf("(");if(len>-1){evtName=evt.substring(0,len);var endLen=evt.indexOf(")");evtArgs=endLen>-1?evt.substring(len+1,endLen):evt.substring(len+1,evt.length);
}else{evtName=evt;}}var bindType=evtType.indexOf("on")==0?evtType.substring(2,evtType.length):evtType;btn.unbind(bindType);btn.bind(bindType,function(e){if(evtName!=""){if(evtArgs!=""){eval("frame.window."+evtName+"("+evtArgs+");");}else{eval("frame.window."+evtName+"();");}}if(window.getFlow().verifyNextEvent(verifyEvent)){window.getFlow().setCurrentEvent(submitEvt);
window.getFlow().setSubmitListener(submitSV);window.getFlow().setCurrentEvtType("submit");$("#bnext").trigger("click");}});btn[0].setAttribute(evtType,"");}});}},initSubmitButton:function(evt,page,text,submitSV,verifyEvent){var subFrame=$("#"+page);if(subFrame==null||typeof(subFrame)=="undefined"){return;
}var btnHtml='<a href="#nogo" id="'+evt+'" name="'+evt+'" class="finish" page="'+page+'" style="display:none;">'+text+"</a>\n";$("#guideBtns").append(btnHtml);var btn=$("#"+evt+"[page="+page+"]");var pf=this;if(btn!=undefined&&btn[0]!=undefined){btn.bind("click",function(e){if(pf.verifyNextEvent(verifyEvent)){pf.setCurrentEvent(evt);
pf.setSubmitListener(submitSV);pf.setCurrentEvtType("submit");$("#bnext").trigger("click");}});}if(page==this.active){this.displayNextButton(page,"inline-block");}},setSubmitListener:function(ltr){this.submitListener=ltr;},getSubmitListener:function(){return this.submitListener;},getGlobalVarsByName:function(key){if(key&&key!=""&&this.globalVars.containsKey(key)){return this.globalVars.get(key);
}return"";},setGlobalVarsByName:function(key,value){if(key&&key!=""){if(value==undefined||value==null){value="";}if(this.globalVars.containsKey(key)){this.globalVars.removeKey(key);this.globalVars.put(key,value);}else{this.globalVars.put(key,value);}}},clearGlobalVars:function(){this.globalVars.clear();
},getGlobalVarsList:function(){return this.globalVars;},bindTransValue:function(page,uiid){if(page==null||page==undefined||page==""){return;}if(uiid==null||uiid==undefined||uiid==""){return;}var toFrame=$("#"+page);if(toFrame){toFrame.bind("load",function(e){var toItem=$("[uiid="+uiid+"]",this.contentDocument);
if(toItem==undefined||toItem[0]==undefined){return;}if($.nodeName(toItem[0],"input")||$.nodeName(toItem[0],"select")||$.nodeName(toItem[0],"textarea")){var p=$.params.load(toFrame[0].src);toItem.val(p.get(uiid)+"");}});}},getGlobalValue:function(key){var result="";if(!key||key==""||!this.globalVars.containsKey(key)){return"";
}return this.globalVars.get(key);},setBeginStep:function(stepName){this.beginStep=stepName;}};$.bizpageflow.fn.construct.prototype=$.bizpageflow.fn;}});define("ui-popup",function(require,exports,moudles){$.aries.popup={initCount:0,type:"",_popupSettings:function(a,c,d,b){return{autoOpen:true,modal:b.modal,width:c||"800",height:d||"auto",title:a||"",popupType:b.popupType||"",draggable:b.draggable,resizable:b.resizable,showClose:b.showClose,showButton:b.showButton,confirmButtonText:b.confirmButtonText,cancelButtonText:b.cancelButtonText,elementId:b.elementId,componentType:!b.showTitle?"message":"",beforeClose:$.aries.popup._buildEvent(b.onBeforeClose),close:$.aries.popup._buildEvent(b.onClose,true),confirm:$.aries.popup._buildEvent(b.onConfirm),afterInit:b.afterInit};
},_buildEvent:function(c,a){var b="",e=$.aries.page.data._paramArray,d=$.aries.page.data._privateArray;if(c){b=function(j){if(a){if(e.length>0){e.pop();}else{$.aries.page.data._removeHidedData("ae_popup_Id");}$.aries.page.data._removeHidedData("ae_popup_param");if($.aries.popup.type==="page"){$.aries.popup.initCount--;
}if($.isArray(d)&&d.length>0){d.pop();}}var g=c.indexOf("(");var f=g>0?c.substring(0,g):c;var h="return window."+f+"?"+f+".call(window,e):false;";return new Function("e",h)(j);};}else{if(a){b=function(){if(e.length>0){e.pop();}else{$.aries.page.data._removeHidedData("ae_popup_Id");}$.aries.page.data._removeHidedData("ae_popup_param");
if($.aries.popup.type==="page"){$.aries.popup.initCount--;}if($.isArray(d)&&d.length>0){d.pop();}};}}return b;},openPage:function(f,c,b,g,h,e){var d=$.extend(true,{},$.extend({modal:true,draggable:false,resizable:false,showClose:true,showButton:true,cache:false,elementId:"ae_popup_div_"+$.aries.popup.initCount,showTitle:true},e));
if(f){var a=$.aries.popup._popupSettings(b,g,h,d);if(c){$.aries.page.data._setHidedData("ae_popup_param",c);}$.ajax(f,{cache:d.cache,success:function(j,m,i){$('<div id="ae_popup_div_'+$.aries.popup.initCount+'"></div>').appendTo(document.body);$("#ae_popup_div_"+$.aries.popup.initCount).aeDialog(a);var k=$.extend(true,{},$.extend({elementId:"ae_popup_div_"+$.aries.popup.initCount},d));
$.aries.page.data._paramArray.push(k);$.aries.page.data._setHidedData("ae_popup_Id",$.aries.page.data._paramArray);$("#ae_popup_div_"+$.aries.popup.initCount).html(j);if(typeof $.popupConfirmEvent=="function"){var l=$.aries.page.data._privateArray;l.push($.popupConfirmEvent);}$.aries.common.globalInit("ae_popup_div_"+$.aries.popup.initCount);
$.aries.popup.type="page";$.aries.popup.initCount++;},error:function(i,k,j){}});}},openDiv:function(k,f,j,h,b){var l=$.extend(true,{},$.extend({modal:true,draggable:false,resizable:false,showClose:true,showButton:true,popupType:"div",elementId:k,showTitle:true},b));if(k){var g=$.aries.popup._popupSettings(f,j,h,l);
if(l.initAfterAction){var e=l.initAfterAction.indexOf("(");var c=e>0?l.initAfterAction.substring(0,e):l.initAfterAction;var a="return window."+c+"?"+c+".call(window):false;";new Function(a)();}$("#"+k).aeDialog(g);var d=$.extend(true,{},$.extend({elementId:k},l));$.aries.page.data._paramArray.push(d);
$.aries.page.data._setHidedData("ae_popup_Id",$.aries.page.data._paramArray);$.aries.popup.type="div";}},closePage:function(e){var a=$.aries.page.data._getHidedData("ae_popup_Id");if(!$.isArray(a)||a.length<0){return;}var d=a[a.length-1];$("#"+d.elementId).aeDialog("close");var g=d.afterAction;if(e){if(g){var c=g.indexOf("(");
var b=c>0?g.substring(0,c):g;var f="return window."+b+"?"+b+".call(window,j):false;";new Function("j",f)(e);}}},closeDiv:function(e){var a=$.aries.page.data._getHidedData("ae_popup_Id");if(!$.isArray(a)||a.length<0){return;}var d=a[a.length-1];$("#"+d.elementId).aeDialog("close");var g=d.afterAction;
if(e){if(g){var c=g.indexOf("(");var b=c>0?g.substring(0,c):g;var f="return window."+b+"?"+b+".call(window,j):false;";new Function("j",f)(e);}}},getParam:function(){return $.aries.page.data._getHidedData("ae_popup_param")||"";},setParam:function(a){return $.aries.page.data._setHidedData("ae_popup_param",a);
}};$.openPopupPage=$.aries.popup.openPage;$.closePopupPage=$.aries.popup.closePage;$.openPopupDiv=$.aries.popup.openDiv;$.closePopupDiv=$.aries.popup.closeDiv;$.getPopupParam=$.aries.popup.getParam;$.setPopupParam=$.aries.popup.setParam;});define("ui-progressbar",function(require,exports,moudles){$.aeWidget("ae.aeProgressbar",{options:{value:0,text:"{value}%",width:"auto",max:100,large:false,initType:"html"},min:0,_create:function(){var b=this.element,a=this.options,c=b.attr("id");if(c){b.attr("aeId",c);}if(a.initType=="html"){this._buildOptions(a,b);
}b.attr("aeType",(a.aeType||"aeProgressbar"));if(a.uiid){b.attr("uiid",a.uiid);}else{b.attr("uiid",b.attr("id"));}b.addClass("e_progress");this.valueDiv=$('<span class="e_progressBar"></span>').appendTo(b);this.textDiv=$('<span class="e_progressValue"></span>').appendTo(b);},_init:function(){var c=this.element,a=this.options,b=c.width();
if(typeof(a.width)=="number"){b=a.width;c.width(b);}if(a.large){c.addClass("e_progress-big");}this.oldValue=this._value();this._refreshValue();},_buildOptions:function(b,c){b.value=parseInt(c.attr("value"))||b.value;b.width=parseInt(c.attr("width"))||b.width;b.large=c.attr("large")=="true"?true:b.large;
b.aeType=c.attr("aeType");b.uiid=c.attr("uiid");var d=c.attr("text")||b.text;b.text=d&&d.indexOf("(")>0?function(h){if($.isString(d)){var f=d.indexOf("(");var e=f>0?d.substring(0,f):d;var g="return window."+e+"?"+e+".call(window,v):false;";return new Function("v",g)(h);}}:d;var a=c.attr("onChange");b.onChange=a?function(k,e,j){if($.isString(a)){var g=a.indexOf("(");
var f=g>0?a.substring(0,g):a;var h="return window."+f+"?"+f+".call(window, n ,o , e):false;";return new Function("n","o","e",h)(k,e,j);}}:b.onChange;},setValue:function(a){this.options.value=a;this._refreshValue();},getValue:function(){return this._value();},_value:function(){var a=this.options.value;
if(typeof a!=="number"){a=0;}return Math.min(this.options.max,Math.max(this.min,a));},_percentage:function(){return 100*this._value()/this.options.max;},_refreshValue:function(){var c=this,e=c.getValue(),b=c.options.onChange;var a=c._percentage();var f=c.options.text,d="";c.valueDiv.toggle(e>=c.min).width(a.toFixed(0)+"%");
if(typeof(f)=="function"){d=f.call(e,e);}else{if(typeof(f)=="string"){d=f.replace("{value}",e);}}c.textDiv.html(d);if(c.oldValue!==e){if(b){c._trigger("onChange",null,e,c.oldValue);}c.oldValue=e;}}});});define("ui-slider",function(require,exports,moudles){$.aeWidget("ae.aeSlider",{options:{cssPre:"c_",width:"500px",height:"400px",autoPlay:true,autoPlayTime:3000,animSpeed:400,delayTime:200,pauseOnHover:true,isDirectionIcon:true,isNavigation:true,navigationType:"num",isNavigationInimg:true,animEffect:"fade",onBeforeSlide:function(a){},onAfterSlide:function(a){},initType:"html"},_create:function(){var a=this,b=this.options,d=this.element,f=d.attr("id"),c={startSlide:0,nowSlide:0,totalSlides:0,running:false,paused:false,stop:false,selectedNavStyle:"nav-selected"};
if(f){d.attr("aeId",f);}b.vars=c;c.pre=b.cssPre;if(b.initType=="html"){a._buildOptions(b,d);}var e=d.children();c.totalSlides=e.length;c.width=d.attr("width");c.height=d.attr("height");if(c.width===undefined||c.height===undefined){d.find("img").each(function(g,h){if($(h).attr("src")){var i=$(h).attr("src");
$(h).attr("src",i).load(function(){c.width=this.width;c.height=this.height;});}});}b.width=c.width?c.width:b.width;b.height=c.height?c.height:b.height;d.width(b.width).height(b.height);b.thumbW=parseInt(b.width)/10+"px";b.thumbH=parseInt(b.height)/10+"px";if($('img[name="thumbImgs"]')){$('img[name="thumbImgs"]').each(function(g,h){$(h).attr({"width":b.thumbW,"height":b.thumbH});
});}d.addClass(c.pre+"slider");if(b.diyNavigationId!==undefined||$("#"+b.diyNavigationId)!==undefined){$("#"+b.diyNavigationId).wrap('<div class="temp"></div>');b.vars.diyNavHtml=$(".temp").html();$(".temp").remove();}d.children().wrapAll('<ul class="'+c.pre+'slider-content"></ul>').wrap('<li class="'+c.pre+'slider-item"></li>');
if(b.animEffect=="slide-y"||b.animEffect=="slide-x"){d.find("."+c.pre+"slider-content").addClass(c.pre+"slider-effect-"+b.animEffect);}},_init:function(){var h=this,i=this.options,c=this.element,d=i.vars;var a=0;var g=c.find("ul."+d.pre+"slider-content:first"),f=g.children(),e=0,b=0;if(i.isNavigation==true){h._initNavigation(c);
}if(i.animEffect=="slide-x"){f.each(function(j){if(j==0){return false;}b-=$(this).width();});setTimeout(function(){g.css({left:b,top:e});},0);}else{if(i.animEffect=="slide-y"){f.each(function(j){if(j==0){return false;}e-=$(this).height();});setTimeout(function(){g.css({left:b,top:e});},0);}else{g.children().eq(0).show();
}}if(d.navigationStyle){h._toggleNavigationStyle(c,0);}if(i.autoPlay){d.autoPlayTimer=a=setInterval(function(){h._next(c);},i.autoPlayTime);}if(i.pauseOnHover){c.hover(function(){d.paused=true;clearInterval(a);},function(){d.paused=false;if(i.autoPlay){d.autoPlayTimer=a=setInterval(function(){h._next(c);
},i.autoPlayTime);}});}if(i.isDirectionIcon==true){h._initDirectionIcon(c);}},_buildOptions:function(b,c){b.autoPlay=c.attr("isAutoPlay")=="false"?false:b.autoPlay;b.autoPlayTime=c.attr("autoPlayTime")||b.autoPlayTime;b.animSpeed=c.attr("animSpeed")||b.animSpeed;b.delayTime=c.attr("delayTime")||b.delayTime;
b.pauseOnHover=c.attr("pauseOnHover")=="false"?false:b.pauseOnHover;b.isDirectionIcon=c.attr("isDirectionIcon")=="false"?false:b.isDirectionIcon;b.isNavigation=c.attr("isNavigation")=="false"?false:b.isNavigation;b.navigationType=c.attr("navigationType")||b.navigationType;b.isNavigationInimg=c.attr("isNavigationInimg")=="false"?false:b.isNavigationInimg;
b.animEffect=c.attr("animEffect")||b.animEffect;if(b.isNavigation==true&&b.navigationType=="diy"){b.diyNavigationId=c.attr("diyNavigationId");}var a=c.attr("onBeforeSlide");b.onBeforeSlide=a?function(e,j){if($.isString(a)){var g=a.indexOf("(");var f=g>0?a.substring(0,g):a;var h="return window."+f+"?"+f+".call(window,i,e):false;";
return new Function("i","e",h)(e,j);}}:b.onBeforeSlide;var d=c.attr("onAfterSlide");b.onAfterSlide=d?function(e,j){if($.isString(d)){var g=d.indexOf("(");var f=g>0?d.substring(0,g):d;var h="return window."+f+"?"+f+".call(window,i,e):false;";return new Function("i","e",h)(e,j);}}:b.onAfterSlide;},_initNavigation:function(f){var o=this,p=this.options,g=p.vars,b;
if(p.navigationType==="num"){var i=$('<ul class="'+g.pre+'slider-nav-classical"></ul>');g.navigationStyle="."+g.pre+"slider-nav-classical";for(b=0;b<g.totalSlides;b++){var a=$("<li>"+(b+1)+"</li>");a.data("sid",b);var l=0;a.click(function(){o._slideTo(f,$(this).data("sid"));});a.hover(function(){if(g.running||g.stop){return false;
}var h=$(this);if(h.hasClass(g.selectedNavStyle)){return false;}g.slideTimer=l=setTimeout(function(){o._slideTo(f,h.data("sid"));},p.delayTime);},function(){clearTimeout(l);});i.append(a);}f.append(i);if(p.isNavigationInimg==false){i.css({bottom:"-50px"});}}else{if(p.navigationType==="dot"){var i=$('<div class="'+g.pre+'slider-nav-dot"></div>');
g.navigationStyle="."+g.pre+"slider-nav-dot";for(b=0;b<g.totalSlides;b++){var a=$('<a href="javascript:void(0)">'+(b+1)+"</a>");a.data("sid",b);var l=0;a.click(function(){o._slideTo(f,$(this).data("sid"));});a.hover(function(){if(g.running||g.stop){return false;}var h=$(this);if(h.hasClass(g.selectedNavStyle)){return false;
}g.slideTimer=l=setTimeout(function(){o._slideTo(f,h.data("sid"));},p.delayTime);},function(){clearTimeout(l);});i.append(a);}i.appendTo(f).css({marginLeft:-1*i.width()/2});if(p.isNavigationInimg==false){i.css({bottom:"-50px"});}}else{if(p.navigationType=="thumb"){var m=f.find("ul."+g.pre+"slider-content:first"),k=m.children(":first");
var i=$('<ul class="'+g.pre+'slider-nav-thumb"></ul>');g.navigationStyle="."+g.pre+"slider-nav-thumb";for(b=0;b<g.totalSlides;b++){$imgItem=k.find("img");var e=$imgItem.attr("src");var j=p.thumbW||"60px",d=p.thumbH||"40px";var a=$('<li><img name="thumbImgs" width="'+j+'" height="'+d+'" src="'+e+'"/></li>');
a.data("sid",b);var l=0;a.click(function(){o._slideTo(f,$(this).data("sid"));});a.hover(function(){if(g.running||g.stop){return false;}var h=$(this);if(h.hasClass(g.selectedNavStyle)){return false;}g.slideTimer=l=setTimeout(function(){o._slideTo(f,h.data("sid"));},p.delayTime);},function(){clearTimeout(l);
});i.append(a);k=k.next();}f.append(i);if(p.isNavigationInimg==false){i.css({bottom:"-50px"});}}else{if(p.navigationType=="diy"||g.diyNavHtml){var c=p.diyNavigationId;f.append(g.diyNavHtml);g.navigationStyle="."+$("#"+c).attr("class");var i=$("#"+c),a=i.children(":first");for(b=0;b<g.totalSlides;b++){a.data("sid",b);
var l=0;a.click(function(){o._slideTo(f,$(this).data("sid"));});a.hover(function(){if(g.running||g.stop){return false;}var h=$(this);if(h.hasClass(g.selectedNavStyle)){return false;}g.slideTimer=l=setTimeout(function(){o._slideTo(f,h.data("sid"));},p.delayTime);},function(){clearTimeout(l);});a=a.next();
}}}}}},_toggleNavigationStyle:function(e,c){var b=this.options,d=b.vars;var a=e.find(d.navigationStyle).children();a.each(function(f){$(this).toggleClass(d.selectedNavStyle,f==c);});},_initDirectionIcon:function(e){var a=this,b=this.options,d=b.vars;var c=$('<div class="'+d.pre+'slider-directionNav">').appendTo(e);
$('<a class="'+d.pre+'slider-prevNav"></a>').appendTo(c).click(function(){if(d.running){return false;}a._prev(e);});$('<a class="'+d.pre+'slider-nextNav"></a>').appendTo(c).click(function(){if(d.running){return false;}a._next(e);});e.hover(function(){c.show();},function(){c.hide();});},_slideTo:function(f,c){var a=this,b=this.options,d=b.vars;
var e=f.find("ul."+d.pre+"slider-content:first");if(isNaN(c)||c<0||c>=d.totalSlides){return;}if(this._trigger("onBeforeSlide",null,c)===false){return false;}if(b.animEffect=="slide-x"||b.animEffect=="slide-y"){a._runSlideEffect(f,c);}if(b.animEffect=="fade"){a._runFadeEffect(f,c);}if(d.navigationStyle){a._toggleNavigationStyle(f,c);
}d.nowSlide=c;return f;},_runSlideEffect:function(d,c,i){var g=this,l=this.options,f=l.vars;var k=d.find("ul."+f.pre+"slider-content:first"),j=k.children(),h=0,b=0;var e=i?i:l.animEffect;k.stop();if(e=="slide-y"||e=="slide-x"){var a=(e=="slide-y");j.each(function(m){if(m==c){return false;}a?h-=$(this).height():b-=$(this).width();
});}else{return false;}f.running=true;k.animate({top:h,left:b},l.animSpeed,function(){f.running=false;g._trigger("onAfterSlide",null,c);});},_runFadeEffect:function(f,d){var a=this,c=this.options,e=c.vars;var b=f.find("ul."+e.pre+"slider-content:first").children();b.each(function(h){var g=$(this);if(h==d){e.running=true;
g.fadeIn(c.animSpeed,function(){e.running=false;a._trigger("onAfterSlide",null,d);});}else{if(h==e.nowSlide){g.fadeOut(c.animSpeed);}}});},_next:function(d){var a=this.options,c=a.vars,b=0;if(c.nowSlide+2<=c.totalSlides){b=c.nowSlide+1;}return this._slideTo(d,b);},_prev:function(d){var b=this.options,c=b.vars,a=c.totalSlides-1;
if(c.nowSlide!=0){a=c.nowSlide-1;}return this._slideTo(d,a);},slideTo:function(a){options=this.options;this._slideTo(this.element,a);},next:function(){options=this.options;this._next(this.element);},prev:function(){options=this.options;this._prev(this.element);},destroy:function(){var c=this.element,a=this.options,b=a.vars;
clearTimeout(b.slideTimer);clearInterval(b.autoPlayTimer);}});});define("ui-tips",function(require,exports,moudles){$.aeWidget("ae.aeTips",{options:{showLink:true,showClose:true,showType:"alert",initType:"html"},_create:function(){var a=this.options,b=this.element,c=b.attr("id");if(c){b.attr("aeId",c);}if(a.initType=="html"){this._buildOptions(a,b);}b.addClass("alert");
$('<i class="icon-close pull-right"></i>').appendTo(b);},_init:function(){var b=this,c=b.options,d=b.element,a=d.find(">i");if(c.content){d.prepend(c.content);}if(!c.showClose){a.hide();}if(c.showType==="alert"){d.addClass("alert-warning");}if(c.showType==="success"){d.addClass("alert-success");}if(c.showType==="error"){d.addClass("alert-danger");
}if(c.showType==="confirm"){d.addClass("alert-info");}a.on("click",function(){d.hide();});},_buildOptions:function(a,b){a.content=$.evalI18nString(b.attr("content"));a.showClose=b.attr("showClose")=="false"?false:a.showClose;a.showType=b.attr("showType")||a.showType;},setContent:function(a){if(a){var b=this.element;
b.html(a);$('<i class="icon-close pull-right"></i>').appendTo(b);b.find(">i").on("click",function(){b.hide();});}}});});define("ui-toggle",function(b,a,c){$.aeWidget("ae.aeToggle",{options:{initType:"html","textOn":"ON","textOff":"OFF","onOff":"on","animate":250,"width":65,"height":25,"event":"toggle","color":"default"},_create:function(){var d=this,e=d.options,f=d.element,g=f.attr("id");if(g){f.attr("aeId",g);}this._buildOptions(e,f);
d.selectType=e["type"]==="select";f.addClass("inline-block toggle toggle-"+e.color);},_init:function(){var k=this,l=k.options,h=k.element;var e,j;h.height(j=l.height);h.width(e=l.width);k.h=j;k.w=e;var d=function(m){return $('<div class="toggle-'+m+'">');};k.els={slide:d("slide"),inner:d("inner"),on:d("on"),off:d("off"),blob:d("blob")};
var i=j/2;var g=e-i;var f=k.selectType;k.els.on.css({height:j,width:g,textIndent:f?"":-i,lineHeight:j+"px"}).html(l.textOn);k.els.off.css({height:j,width:g,marginLeft:f?"":-i,textIndent:f?"":i,lineHeight:j+"px"}).html(l.textOff);k.els.blob.css({height:j,width:j,marginLeft:-i});k.els.inner.css({width:e*2-j,marginLeft:(f||k["active"])?0:-e+j});
if(k.selectType){k.els.slide.addClass("toggle-select");h.css("width",g*2);k.els.blob.hide();}k.els.inner.append(k.els.on,k.els.blob,k.els.off);k.els.slide.html(k.els.inner);h.html(k.els.slide);if(l["onOff"]==="on"){k["active"]="off";}else{k["active"]="on";}h.on("click",function(m){if(m["target"]!==k.els.blob[0]){k.toggle();
if(l.onValueChange){l.onValueChange&&k._trigger("onValueChange",null,m);}}});k.toggle(l["onOff"],true,true);},toggle:function(i,f,g){var d=this,e=d.options,k=d.element;if(d["active"]===i){return;}var j=d["active"]=(d["active"]==="on"?"off":"on");d.els.off.toggleClass("active",j!=="on");d.els.on.toggleClass("active",j==="on");
e["onOff"]=j;if(!g){k.trigger(e["event"],j);}if(d.selectType){return;}var h=(j==="on"?0:-parseInt(d.w)+parseInt(d.h));d.els.inner.stop().animate({"marginLeft":h},f?0:e["animate"]);},_buildOptions:function(e,f){e.aeType=f.attr("aeType")||"aeToggle";e.textOn=f.attr("textOn")||e.textOn;e.textOff=f.attr("textOff")||e.textOff;
e.onOff=f.attr("onOff")||e.onOff;e.animate=f.attr("animate")||e.animate;e.width=f.attr("width")||e.width;e.height=f.attr("height")||e.height;e.color=f.attr("color")||e.color;if(!$.isFunction(e.onValueChange)){var d=f.attr("onValueChange");e.onValueChange=d?function(k){if($.isString(d)){var h=d.indexOf("(");
var g=h>0?d.substring(0,h):d;var j="return window."+g+"?"+g+".call(window,e):false;";return new Function("e",j)(k);}}:"";}},getValue:function(){var d=this;return d.options.onOff;},setValue:function(f){var d=this,e=d.options;if(f==="on"||f==="off"){e["onOff"]=f;d.toggle(f,true,true);}}});});define("ui-tpl",function(require,exports,moudles){$.aeWidget("ae.aeTpl",{options:{initial:false,isHide:false,sourceId:"",dataField:"",onAfterReload:function(){},forceInit:true,initType:"html"},_create:function(){var options=this.options,$ele=this.element,id=$ele.attr("id");if(options.initial==true){return;
}if(id){$ele.attr("aeId",id);}if(options.initType=="html"){this._buildOptions(options,$ele);}options.aeType?$ele.attr("aeType",options.aeType):$ele.attr("aeType","aeTpl");options.uiid?$ele.attr("uiid",options.uiid):$ele.attr("uiid",id);if(options.sourceId!=""){options.tpl=$("#"+options.sourceId).html();
}options.template=Handlebars.compile(options.tpl);options.initial=true;},_init:function(){var self=this,options=self.options,$ele=self.element;var str=$ele.html();var regex=/{{.*?[}]?}}/g;var newHtml=str.replace(regex,"");if(options.isHide){$ele.empty();}else{$ele.html(newHtml);$ele.removeClass("ae_tpl");
$ele.show();}},_buildOptions:function(options,element){options.tpl=element.html();options.dataField=element.attr("dataField")||options.dataField;options.isHide=element.attr("isHide")=="true"?true:options.isHide;options.sourceId=element.attr("sourceId")||options.sourceId;options.aeType=element.attr("aeType");
options.uiid=element.attr("uiid");options.forceInit=element.attr("forceInit")=="false"?false:options.forceInit;var onAfterReload=element.attr("onAfterReload");options.onAfterReload=onAfterReload?function(event){if($.isString(onAfterReload)){var i=onAfterReload.indexOf("(");var actName=i>0?onAfterReload.substring(0,i):onAfterReload;
var func="return window."+actName+"?"+actName+".call(window,e):false;";return new Function("e",func)(event);}}:"";},_reload:function(data,obj){var options=this.options,$ele=this.element;var template=options.template;if(obj){obj.html(template(data));}else{$ele.html(template(data));}},_getInitFunction:function(data,obj){var $ele=this.element,options=this.options,initFuncs,aeTypes,initFuncArray=[];
if(obj){initFuncs=obj.find("[initFunction]");aeTypes=obj.find("*[aeType]");}else{initFuncs=$ele.find("[initFunction]");aeTypes=$ele.find("*[aeType]");}if(initFuncs&&initFuncs.length){$.each(initFuncs,function(index,item){var initFunction=$(item).attr("initFunction");if(initFunction.length){var i=initFunction.indexOf("(");
funcName=i>0?initFunction.substring(0,i):initFunction;if(funcName=="$"||funcName.indexOf(".")>0){initFuncArray.push(initFunction);}else{var func="return window."+funcName+"?"+funcName+".call(window):false";func=new Function(func)();if(func==false){initFuncArray.push(initFunction);}}}});if(initFuncArray.length>0){eval(initFuncArray.join(";"));
}}if(aeTypes.length){$.each(aeTypes,function(index,item){if($(item).attr("initFunction")){return;}if(options.forceInit){$(item)[$(item).attr("aeType")]();$(item).attr("aeInit","false");}else{var aeInit=$(item).attr("aeInit");if(aeInit&&aeInit=="true"){$(item)[$(item).attr("aeType")]();$(item).attr("aeInit","false");
}}});}},reload:function(data,obj,callback){var options=this.options,$ele=this.element;if(data){this._reload(data,obj);this._getInitFunction(data,obj);if(!options.isHide){$ele.removeClass("ae_tpl");$ele.show();}if(callback&&$.isFunction(callback)){callback();}else{options.onAfterReload&&this._trigger("onAfterReload");
}}},getData:function(object){var options=this.options,$ele=this.element,obj={};var keyValueObj=$ele.find("*[dataField]");if(keyValueObj){$.each(keyValueObj,function(index,item){var dataField=$(item).attr("dataField");if($(item).attr("value")){var value=$(item).attr("value");obj=$.aries.common.buildUiidData(obj,dataField,value);
}else{if($(item).text()){var value=$(item).text();obj=$.aries.common.buildUiidData(obj,dataField,value);}}});}if(object==undefined){if(options.dataField){var objw={};obj=$.aries.common.buildUiidData(objw,options.dataField,obj);}return obj;}else{object=$.aries.common.buildUiidData(object,options.dataField,obj);
return object;}}});});define("ui-tree",function(require,exports,moudles){var a={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea",faFolder:"icon-folder",faFolderOpen:"icon-folder-open",iconPage:"icon-page2"};
$.aeWidget("ae.aeTree",{_swapClass:function(e,d,c){var b=e.filter("."+d);e.filter("."+c).removeClass(c).addClass(d);b.removeClass(d).addClass(c);},_getParentNode:function(c){if(c){var b=$(c).parent().parent();if(b&&b.hasClass("tree-folder")){return b;}}return null;},_setParentCheckbox:function(e,d){var h=this._getParentNode(e);
if(h){var g=h.find(">div.tree-folder-content").find(">div.tree-folder >div.tree-folder-header >div.ckbox >label");var b=g.length;var i=g.filter(".checked").length;var c=g.filter(".checked_notall").length;var f=h.find(">div.tree-folder-header >div.ckbox >label");f.removeClass("checked_notall checked");
if(i==b){f.addClass("checked");}else{if(i>0||c>0){f.addClass("checked_notall");}}this._setParentCheckbox(h,d);}},_setChildCheckbox:function(c,b){var d=c.find(">div.tree-folder-content").find(".ckbox");d.find(">label").removeClass("checked checked_notall");if(b){d.find(">label").addClass("checked");}},_applyEvents:function(f){var i=this,j=i.options,h=j.onClick,e=j.onDrag,g=j.onSelect,c=j.onDrop,d=j.isAsync,b=j.dataSource;
f.find("div.tree-folder-header").off(".aeTree").on("click.aeTree",function(p){p.preventDefault();p.stopPropagation();p.cancelBubble=true;var m=$(this).closest(".tree-folder");var o=i.element.data("nodes")[m.attr("id")];i.selectNode(o["aeNodeId"]);var k=(typeof o.aeNodePId==="undefined"||o.aeNodePId==="");
if(m.hasClass("hasChildren")){var n=m.find(">div.tree-folder-header >i");i._swapClass(n,a.faFolder,a.faFolderOpen);}if(m.find(">div.tree-folder-content").length>0&&$(p.target,this)){i.toggler(m);}if(d){if(!k){var l=$.data(i.element,"cache");if(!l){h&&i._trigger("onClick",p,o,false);}else{if(!l[o.nid]){h&&i._trigger("onClick",p,o,false);
}else{h&&i._trigger("onClick",p,o,true);}}}else{h&&i._trigger("onClick",p,o,true);}}else{h&&i._trigger("onClick",p,o,false);}});f.find("div.ckbox").on("click.aeTree",function(m){m.preventDefault();m.stopPropagation();m.cancelBubble=true;var l=$(this).closest(".tree-folder");var k=$(this).find(">label").hasClass("checked");
i._toggleCheck(l,k);});if(i.options.draggable){}f.bind("mousedown",function(k){k.stopPropagation();});},options:{initExpandLevel:0,lineHover:false,showIcon:true,showLine:false,showCheckbox:false,cascadeCheck:true,draggable:false,filter:null,nodeCount:0,isAsync:false,initType:"html"},_create:function(){var c=this.element,b=this.options,d=c.attr("id");
if(d){c.attr("aeId",d);}if(b.initType=="html"){this._buildOptions(b,c);}c.data("nodes",[]).data("selected","").data("init_dataSource",[]).addClass("tree tree-no-line");if(b.showLine){c.removeClass("tree-no-line");}},_buildOptions:function(b,c){b.cascadeCheck=c.attr("cascadeCheck")=="false"?false:b.cascadeCheck;
b.draggable=c.attr("draggable")=="true"?true:b.draggable;b.showCheckbox=c.attr("showCheckbox")=="true"?true:b.showCheckbox;b.showIcon=c.attr("showIcon")=="false"?false:b.showIcon;b.showLine=c.attr("showLine")=="true"?true:b.showLine;b.isAsync=c.attr("isAsync")=="true"?true:b.isAsync;b.idField=c.attr("idField");
b.pIdField=c.attr("pIdField");b.labelField=c.attr("labelField");b.valueField=c.attr("valueField");b.sortField=c.attr("sortField");b.rootId=c.attr("rootId");this._buildOptionEvent(b,"onBeforeCollapse",c.attr("onBeforeCollapse"),true);this._buildOptionEvent(b,"onBeforeExpand",c.attr("onBeforeExpand"),true);
this._buildOptionEvent(b,"onBeforeSelect",c.attr("onBeforeSelect"),true);this._buildOptionEvent(b,"onCheck",c.attr("onCheck"),true);this._buildOptionEvent(b,"onCollapse",c.attr("onCollapse"),true);this._buildOptionEvent(b,"onExpand",c.attr("onExpand"),true);this._buildOptionEvent(b,"onSelect",c.attr("onSelect"),true);
this._buildOptionEvent(b,"onClick",c.attr("onClick"),false);},_buildOptionEvent:function(c,e,d,b){if(b){c[e]=d?function(f){if($.isString(d)){var h=d.indexOf("(");var g=h>0?d.substring(0,h):d;var j="return window."+g+"?"+g+".call(window,n):false;";return new Function("n",j)(f);}}:c[e];}else{c[e]=d?function(f,k){if($.isString(d)){var h=d.indexOf("(");
var g=h>0?d.substring(0,h):d;var j="return window."+g+"?"+g+".call(window,n,e):false;";return new Function("n","e",j)(f,k);}}:c[e];}},updateNode:function(c){var b=c.find("div.tree-folder");this._applyEvents(b);},toggler:function(h){var c=this,d=c.options;var i=h.attr("id");var e=c.findByNId(i);var f=h.hasClass(a.expandable);
if(f){var g=d.onBeforeExpand;if(g&&false===c._trigger("onBeforeExpand",null,e)){return c;}}else{var b=d.onBeforeCollapse;if(b&&false===c._trigger("onBeforeCollapse",null,e)){return c;}}c._swapClass(h,a.collapsable,a.expandable);c._swapClass(h,a.lastCollapsable,a.lastExpandable);h.find(">div.tree-folder-content").each(function(){if(f){$(this).show();
var k=d.onExpand;k&&c._trigger("onExpand",null,e);}else{$(this).hide();var j=d.onCollapse;j&&c._trigger("onCollapse",null,e);}});},_init:function(){this.element.empty();},reload:function(f,e){if(!f){return;}var i=this,j=this.options,g=i.element,d=j.isAsync;f=$.aries.common.buildTreeData(f,j);if(d){if(e){var b=$.data(g,"cache")||{___keys:[]};
b[e]=f;b.___keys.push(e);$.data(g,"cache",b);var h=i.findByNId(e);i._appendNodesToAsync.apply(i,[h.nid,f,h]);var c=$("#"+h.nid).find(">div.tree-folder-header >i");if($("#"+h.nid).hasClass("hasChildren")){i._swapClass(c,a.faFolder,a.faFolderOpen);}else{i._swapClass(c,a.faFolder,a.iconPage);}}else{i._appendNodesToAsync.apply(i,[g,f]);
}i._initDataSource();}else{g.empty();g.data("init_dataSource",f);i._appendNodes.apply(i,[g,f]);}i.updateNode(g);},_initDataSource:function(){var e=this.element,b=e.data("nodes"),d=[];if(b!=null){for(key in b){if(key.indexOf("aeNodePId")<0){if(b[key]["aeChildren"]){b[key]["aeChildren"]=null;}d.push(b[key]);
}}}var c=$.aries.common.buildTreeData(d,this.options);e.data("init_dataSource",c);},checkNode:function(c){var b=this.findNodeById(c);if(b){this._toggleCheck($("#"+b.nid),false);}},uncheck:function(c){var b=this.findNodeById(c);if(b){this._toggleCheck($("#"+b.nid),true);}},_toggleCheck:function(g,e){var f=g.find(">div.tree-folder-header >div.ckbox >label"),b=this,c=b.options,d=c.onCheck;
if(e){f.removeClass("checked checked_notall");}else{f.removeClass("checked_notall").addClass("checked");}if(b.options.cascadeCheck){b._setChildCheckbox(g,!e);b._setParentCheckbox(g,!e);}d&&b._trigger("onCheck",null,b.findByNId(g.attr("id")));},checkAll:function(b){if(b){this.element.find("div.tree-folder-header >div.ckbox >label").removeClass("checked_notall").addClass("checked");
}else{this.element.find("div.tree-folder-header >div.ckbox >label").removeClass("checked checked_notall");}},isCheckNode:function(c){var b=this.findNodeById(c);if(b){return $("#"+b.nid).find(">div.tree-folder-header >div.ckbox >label").hasClass("checked");}},getChecked:function(e){var c=this,b=[];var d=e?".checked":":not(.checked)";
this.element.find("div.tree-folder-header >div.ckbox >label").filter(d).each(function(g,f){b.push(c.element.data("nodes")[$(this).closest(".tree-folder").attr("id")]);});return b;},selectNode:function(b){var i=this,j=this.options,h=j.onBeforeSelect,e=j.onSelect,d=i.findNodeById(b);if(d){if(h&&false===i._trigger("onBeforeSelect",null,d)){return i;
}var c=$("#"+d.nid);$(" >div.tree-folder-header",c).addClass("tree-selected");var f=i.element.data("selected");var g=c.attr("id");if(f!=""&&!(f==g)){$("#"+f+" >div.tree-folder-header").removeClass("tree-selected");}i.element.data("selected",g);e&&i._trigger("onSelect",null,d);}},unselect:function(g){var c=this,e=c.findNodeById(g);
if(e){var d=$("#"+e.nid);$(" >span",d).removeClass("selected");var f=c.element.data("selected");var b=d.attr("id");if(f==b){c.element.data("selected","");}}},getSelected:function(){var b=this.element.data("selected");return b?this.element.data("nodes")[b]:null;},findNodesByAttr:function(g,j,f,d){var c=[],b;
var h=f?f.aeChildren:this.element.data("init_dataSource");d=(d!=false)?true:d;if(h&&(b=h.length)>0){for(var e=0;e<b;e++){c=this._searchNode.apply(h[e],[g,j,this._searchNode,c,false,d]);}}return c.length>0?c:null;},findNodeByAttr:function(g,j,f,c){var e,b,h=f?f.aeChildren:this.element.data("init_dataSource");
c=(c!=false)?true:c;if(h&&(b=h.length)>0){for(var d=0;d<b;d++){e=this._searchNode.apply(h[d],[g,j,this._searchNode,[],true,c]);if(e!=null){return e;}}}return null;},findNodeById:function(f){var d,b,e=this.element.data("init_dataSource");if(e&&(b=e.length)>0){for(var c=0;c<b;c++){d=this._searchNode.apply(e[c],["aeNodeId",f,this._searchNode,[],true,true]);
if(d!=null){return d;}}}return null;},findByNId:function(b){return this.element.data("nodes")[b]||null;},findNodesByFn:function(g,f,c){var e,h=f?f.aeChildren:this.element.data("init_dataSource");c=(c!=false)?true:c;var b=[];if(h&&(len=h.length)>0){for(var d=0;d<len;d++){if(g.call(h[d],h[d])===true){b.push(h[d]);
}if(c&&h[d].aeChildren){e=this.findNodesByFn(g,h[d],c);if(e){b=b.concat(e);}}}}return b.length>0?b:null;},findNodeByFn:function(g,f,c){var e,h=f?f.aeChildren:this.element.data("init_dataSource");c=(c!=false)?true:c;if(h&&(b=h.length)>0){for(var d=0,b=h.length;d<b;d++){if(g.call(h[d],h[d])===true){return h[d];
}if(c){e=this.findNodeByFn(g,h[d],c);if(e!=null){return e;}}}}return null;},findNodesByText:function(h,f,d){var c=[],b;var g=f?f.aeChildren:this.element.data("init_dataSource");d=(d!=false)?true:d;if(g&&(b=g.length)>0){for(var e=0;e<b;e++){c=this._searchNode.apply(g[e],["aeNodeLabel",h,this._searchNode,c,false,d]);
}}return c.length>0?c:null;},_searchNode:function(g,j,e,b,h,c){if(h){if(this[g]==j){return this;}if(this.aeChildren&&this.aeChildren.length&&c){for(var f in this.aeChildren){var d=e.apply(this.aeChildren[f],[g,j,e,[],true,c]);if(d){return d;}}}}else{if(this[g]==j){b.push(this);}if(this.aeChildren&&this.aeChildren.length&&c){$.each(this.aeChildren,e,[g,j,e,b,false,c]);
}return b;}},getParent:function(d){var c=this.findNodeById(d);if(c){var b=this.element.data("nodes")["aeNodePId"+c.nid];return b?this.findByNId(b):null;}},getChildren:function(c){var b=this.findNodeById(c);if(b){return b.aeChildren;}},setData:function(b){this.options.dataSource=b;},expandNode:function(g){var c=this,f=this.findNodeById(g);
if(f&&f.nid){var d=a.expandable,e=$("#"+f.nid);var b=e.parentsUntil(this.element).andSelf().filter(function(){return $(this).filter("div.tree-folder").hasClass(d);});b.each(function(h){if($(this).hasClass("hasChildren")){var i=$(this).find(">div.tree-folder-header >i");c._swapClass(i,a.faFolder,a.faFolderOpen);
}c.toggler($(this));});}},collapseNode:function(c){var b=this.findNodeById(c);if(b&&b.nid){this._collapseHandler(a.collapsable,$("#"+b.nid));}},expandAll:function(){this._collapseHandler(a.expandable,this.element,true);},collapseAll:function(){this._collapseHandler(a.collapsable,this.element,true);},_collapseHandler:function(d,f,c){var b=this;
var g=(c?"":">")+"div.tree-folder-header";var e=$(g,f).filter(function(){return d?$(this).parent("."+d).length:true;}).parent();e.each(function(h,j){if($(j).hasClass("hasChildren")){var i=$(j).find(">div.tree-folder-header >i");b._swapClass(i,a.faFolder,a.faFolderOpen);}b.toggler($(j));});},refresh:function(d,e){var c=this,b=c.element;
b.empty();c.reload(d);if(e){c.expandNode(e);}},_appendNodes:function(q,e,d,r){var t=this,s=[],f=t.options.showCheckbox;var k=t.element.attr("id")?t.element.attr("id"):("treeId"+parseInt(Math.random()*1000));t.element.attr("id",k);for(var m=0,j=e.length;m<j;m++){var h=e[m],o=(m==(e.length-1));var c="tree-folder "+(h.aeChildren?"hasChildren ":"");
var b=k+"_"+(++t.options.nodeCount);h.nid=b;var p=t.element.data("nodes");p[h.nid]=h;if(typeof q=="string"){p["aeNodePId"+h.nid]=q;if(o){q=null;}}else{p["aeNodePId"+h.nid]=q.parent("li").attr("id");}var g=[];if(h.aeChildren&&h.aeChildren.length>0){g.push((t._appendNodes(h.nid,h.aeChildren)).join(""));
}var n=0;if(h.aeChildren&&(n=h.aeChildren.length)>0||h.hasChildren){if(h.expanded&&(h.expanded==="true"||h.expanded==true)){c=c+"open "+a.collapsable+" "+(o?a.lastCollapsable:"");}else{c=c+a.expandable+" "+(o?a.lastExpandable:"");}}else{c=c+(o?a.last:"");}s.push("<div id='",h.nid,"' class='",c,"'>");
s.push("<div class='tree-folder-header'>");if(f){s.push("<div class='ckbox ckbox-default ckbox_horizontal'>");s.push("   <input type='checkbox' id='",h.nid,"_checkbox'/>");s.push("   <label for='",h.nid,"_checkbox'></label>");s.push("</div>");}if(t.options.showIcon){if(h.aeChildren&&h.aeChildren.length>0){if(h.expanded&&(h.expanded==="true"||h.expanded==true)){s.push("<i class='icon-folder-open'></i>");
}else{s.push("<i class='icon-folder'></i>");}}else{s.push("<i class='icon-page2'></i>");}}s.push("<div class='tree-folder-name'><span title='",h.aeNodeLabel,"'>",h.aeNodeLabel,"</span></div>");s.push("</div>");if(h.hasChildren||n>0){s.push("<div class='tree-folder-content'"," style='display:",(h.expanded&&(h.expanded==="true"||h.expanded==true)?"block":"none"),"'>");
s.push(g.join(""));s.push("</div>");}s.push("</div>");}if(d){if(r){$("#"+d.nid).after(s.join(""));}else{$("#"+d.nid).before(s.join(""));}}else{if(q){q.append(s.join(""));}}return s;},_appendNodesToAsync:function(v,m,b){var j=this,s=[],f=j.options.showCheckbox,u=j.options.showLine;var c=j.element.attr("id")?j.element.attr("id"):("treeId"+parseInt(Math.random()*1000));
j.element.attr("id",c);for(var q=0,p=m.length;q<p;q++){var o=m[q],k=(q==(m.length-1));var w="tree-folder "+(o.aeChildren?"hasChildren ":"");var g=c+"_"+(++j.options.nodeCount);o.nid=g;var d=j.element.data("nodes");d[o.nid]=o;if(typeof v=="string"){d["aeNodePId"+o.nid]=v;if(k){v=null;}}else{d["aeNodePId"+o.nid]=v.parent("li").attr("id");
}var t=[];if(o.aeChildren&&o.aeChildren.length>0){t.push((j._appendNodesToAsync(o.nid,o.aeChildren)).join(""));}var r=0;if(o.aeChildren&&(r=o.aeChildren.length)>0||o.hasChildren){if(o.expanded){w=w+"open "+a.collapsable+" "+(k?a.lastCollapsable:"");}else{w=w+a.expandable+" "+(k?a.lastExpandable:"");}}else{w=w+(k?a.last:"");
}s.push("<div id='",o.nid,"' class='",w,"'>");s.push("<div class='tree-folder-header'>");if(f){s.push("<div class='ckbox ckbox-default ckbox_horizontal'>");s.push("   <input type='checkbox' id='",o.nid,"_checkbox'/>");s.push("   <label for='",o.nid,"_checkbox'></label>");s.push("</div>");}if(j.options.showIcon){if(o.expanded&&(o.expanded==="true"||o.expanded==true)){s.push("<i class='icon-folder-open'></i>");
}else{s.push("<i class='icon-folder'></i>");}}s.push("<div class='tree-folder-name'><span title='",o.aeNodeLabel,"'>",o.aeNodeLabel,"</span></div>");s.push("</div>");if(o.hasChildren||r>0){s.push("<div class='tree-folder-content'"," style='display:",(o.expanded&&(o.expanded==="true"||o.expanded==true)?"block":"none"),"'>");
s.push(t.join(""));s.push("</div>");}s.push("</div>");}if(m.length>0&&b){var h=$("#"+b.nid),n=[];h.find("div.tree-folder-content").remove();n.push("<div class='tree-folder-content' style='display:block;'>");n.push(s.join(""));n.push("</div>");h.append(n.join(""));var e=h.find(">div.tree-folder-header >i.fa-file");
if(e.length>0){e.removeClass("fa-file").addClass("icon-folder-open");}h.addClass(a.collapsable+" hasChildren");}else{if($.isObject(v)){v.append(s.join(""));}}return s;},remove:function(h,k){var j,l=this,e=k?k.aeChildren:l.element.data("init_dataSource");for(var f in e){if(e[f]==h){var b=[];b=l._findChildrenId(h,b);
b.push(h.nid);for(var c=0,g=b.length;c<g;c++){delete l.element.data("nodes")[b[c]];delete l.element.data("nodes")["aeNodePId"+b[c]];}if(h.nid==l.element.data("selected")){this.element.data("selected",null);}var d=$("#"+h.nid).prev();if($("#"+h.nid).next().length<1&&d.length>0){if(d.hasClass(a.collapsable)){d.addClass(a.lastCollapsable);
d.find("div.hitarea").first().addClass(a.lastCollapsableHitarea);}else{if(d.hasClass(a.expandable)){d.addClass(a.lastExpandable);d.find("div.hitarea").first().addClass(a.lastExpandableHitarea);}else{d.addClass(a.last);}}}$("#"+h.nid).remove();e.splice(f,1);if(k&&k.nid&&e.length<1){l._changeToFolderOrFile(k,false);
}return true;}else{if(e[f].aeChildren){j=l.remove(h,e[f]);if(j){return true;}}}}return false;},_findChildrenId:function(f,e){if(f.children){for(var d=0,c=f.aeChildren,b=c.length;d<b;d++){e.push(c[d].nid);if(c[d].aeChildren){this._findChildrenId(c[d],e);}}}return e;},insert:function(i,n,b,k){if(!i){return;
}var o=this,c=[],l,g,j=$.isArray(i);if(j){c=i;}else{c.push(i);}if(b){n=n||o.findByNId(o.element.data("nodes")["aeNodePId"+b.nid]);}var h,f=n?n.aeChildren:o.element.data("init_dataSource");if(n&&(!n.aeChildren||n.aeChildren.length<1)){if(!n.hasChildren){o._changeToFolderOrFile(n,true);o._bindHitEvent($("#"+n.nid));
}f=n.aeChildren=[];}l=n?$("#"+n.nid).children("ul").first():o.element;g=l.find("li");if(b&&((h=$.inArray(b,f))>=0)){o._appendNodes(l,c,b,k);f.splice(h,0,i);}else{o._appendNodes(l,c,b,k);if(j){$.merge(f,i);}else{f.push(i);}}var e=l.find("li").filter("."+a.last+",."+a.lastCollapsable+",."+a.lastExpandable).not(l.find("li").filter(":last-child:not(ul)"));
e.removeClass(a.last+" "+a.lastCollapsable+" "+a.lastExpandable);e.find(" >div").removeClass(a.lastCollapsableHitarea+" "+a.lastExpandableHitarea);var d=l.find("li").not(g);o._applyEvents(d);},_changeToFolderOrFile:function(f,g){var e=$("#"+f.nid),c=this;if(g){var d=$("<ul/>").css("display","block").appendTo(e);
e.addClass("open "+a.collapsable);c._swapClass(e,a.last,a.lastCollapsable);f.aeChildren=[];}else{e.find("ul").remove();e.find("div."+a.hitarea).remove();e.filter("."+a.lastCollapsable+",."+a.lastExpandable).removeClass(a.lastCollapsable+" "+a.lastExpandable).addClass(a.last);e.removeClass("open "+a.collapsable+" "+a.expandable);
}if(c.options.showIcon){c._swapClass(e.children("span"),"file","folder");}var b=e.filter(":has(>ul)").prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea);b.each(function(){var h="";$.each($(this).parent().attr("class").split(" "),function(){h+=this+"-hitarea ";});$(this).addClass(h);});},modify:function(g,e,d){if(g&&e){var c=this,b=$("#"+g.nid).next(),f;
d=d||this.findByNId(c.element.data("nodes")["aeNodePId"+g.nid]);if(b.is("ul")||b.is("li")){f=c.findByNId(b.attr("id"));}c.remove(g,d);c.insert(e,d,f);}},getRoot:function(d){var c,b,e=this.element.data("init_dataSource");if(e&&(b=e.length)>0){for(var d=0;d<b;d++){if(!e[d].aeNodePId){return e[d];}}}return null;
}});});define("ui-validate",function(require,exports,moudles){$.extend($.fn,{validate:function(a){if(!this.length){a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return;}var b=$.data(this,"validator");if(!b){b=new $.validator(a,this);$.data(this,"validator",b);
}if(b.form()){return true;}else{return false;}},rules:function(d,a){var f=this[0];if(d){var c=$.data(f.form,"validator").settings;var h=c.rules;var i=$.validator.staticRules(f);switch(d){case"add":$.extend(i,$.validator.normalizeRule(a));h[f.name]=i;if(a.messages){c.messages[f.name]=$.extend(c.messages[f.name],a.messages);
}break;case"remove":if(!a){delete h[f.name];return i;}var g={};$.each(a.split(/\s/),function(j,k){g[k]=i[k];delete i[k];});return g;}}var e=$.validator.normalizeRules($.extend({},$.validator.metadataRules(f)),f);if(e.required){var b=e.required;delete e.required;e=$.extend({required:b},e);}return e;}});
$.validator=function(c,g){this.settings=$.extend(true,{},$.validator.defaults,c);this.currentForm=g.find('input[aeValidate="true"],textarea[aeValidate="true"]');if(g.is('input[aeValidate="true"],textarea[aeValidate="true"]')){this.currentForm=g;}for(var a=0,h=this.currentForm;h[a];a++){var b=$(h[a]).attr("onAddRules");
if(b){var e=b.indexOf("(");var d=e>0?b.substring(0,e):b;var f="return window."+d+"?"+d+".call(window):false;";new Function(f)();}}this.init();};$.validator.format=function(a,b){if(arguments.length==1){return function(){var c=$.makeArray(arguments);c.unshift(a);return $.validator.format.apply(this,c);
};}if(arguments.length>2&&b.constructor!=Array){b=$.makeArray(arguments).slice(1);}if(b.constructor!=Array){b=[b];}$.each(b,function(c,d){a=a.replace(new RegExp("\\{"+c+"\\}","g"),d);});return a;};$.extend($.validator,{defaults:{messages:{},rules:{},focusInvalid:true,onfocusin:function(c){this.lastActive=c;
var b=$(document.body).find("div.tooltip");if(!this.checkable(c)&&(c.attr("aeid") in this.submitted||!this.optional(c))){c=this.clean(c);this.lastElement=c;this.prepareElement(c);this.currentElements=$(c);var a=this.check(c);if(a){delete this.invalid[$(c).attr("id")];}else{this.invalid[$(c).attr("id")]=true;
}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}if(this.errorList.length>0){b.show().find("div.tooltip-inner").html(this.errorList[0].message);var e=$(c).parent(),d=e.offset();b.css({"left":d.left,"top":d.top+e.outerHeight()});}}else{if(b.length>0){b.remove();}}},onfocusout:function(a){if(this.settings.validateOnEmpty){if(!this.checkable(a)||(a.name in this.submitted)){this.element(a);
}}else{if(!this.checkable(a)&&(a.attr("id") in this.submitted||!this.optional(a))){this.element(a);}}if($(document.body).find("div.tooltip").length>0){$(document.body).find("div.tooltip").hide();}},onkeyup:function(a){if(a.attr("id") in this.submitted||this.clean(a)==this.lastElement){this.element(a);
}}},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},prototype:{init:function(){this.submitted={};
this.invalid={};var c=this.settings.rules;$.each(c,function(d,e){c[d]=$.validator.normalizeRule(e);});var a=this;function b(e){var d="on"+e.type.replace(/^validate/,"");(a.settings)[d]&&(a.settings)[d].call(a,this);}this.currentForm.validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",b).validateDelegate(":radio, :checkbox, select, option","click",b);
},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);this.showErrors();return this.valid();},element:function(b){b=this.clean(b);this.lastElement=b;this.prepareElement(b);this.currentElements=$(b);var a=this.check(b);if(a){delete this.invalid[b.name];
}else{this.invalid[b.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return a;},showErrors:function(c){if(c){$.extend(this.errorMap,c);this.errorList=[];for(var a in c){this.errorList.push({message:c[a],element:this.findByName(a)[0]});}this.successList=$.grep(this.successList,function(d){return !(d.name in c);
});}if(this.errorList&&this.errorList.length>0){this.defaultShowErrors();$.each(this.errorList,function(d,g){var f=$(g.element),e=f.parents(".input-icon");if(e.length===0){e=f.parents(".input-group");}e.addClass("has-error has-feedback");});}else{var b=$(this.currentElements);$.each(b,function(e,g){var f=$(g).parents(".input-icon");
if(f.length===0){f=b.parents(".input-group");}f.removeClass("has-error has-feedback");var d=$(document.body).find("div.tooltip");if(d.length>0){d.remove();}});}},defaultShowErrors:function(){var a=[];a.push('<div class="tooltip fade bottom in">');a.push('  <div class="tooltip-arrow"></div>');a.push('  <div class="tooltip-inner"></div>');
a.push("</div>");if($(document.body).find("div.tooltip").length<=0){$(a.join("")).appendTo($(document.body)).hide();}},checkForm:function(){this.prepareForm();for(var a=0,b=(this.currentElements=this.elements());b[a];a++){this.check(b[a]);}return this.valid();},elements:function(){var b=this,a={};return $(this.currentForm).filter(function(){!this.id&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this);
var c=$(this).attr("aeid")||this.id;if(c in a||!b.objectLength($(this).rules())){return false;}a[c]=true;return true;});},clean:function(a){return $(a)[0];},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();
},prepareElement:function(a){this.reset();},check:function(b){var g=$(b).rules();var c=false;for(var h in g){var f={method:h,parameters:g[h]};try{var a=$.validator.methods[h].call(this,b.value.replace(/\r/g,""),b,f.parameters);if(a=="dependency-mismatch"){c=true;continue;}c=false;if(a=="pending"){this.toHide=this.toHide.not(this.errorsFor(b));
return;}if(!a){this.formatAndAdd(b,f);return false;}}catch(d){this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",d);throw d;}}if(c){return;}if(this.objectLength(g)){this.successList.push(b);}return true;},customMetaMessage:function(a,c){if(!$.metadata){return;
}var b=this.settings.meta?$(a).metadata()[this.settings.meta]:$(a).metadata();return b&&b.messages&&b.messages[c];},customMessage:function(b,c){var a=this.settings.messages[b];return a&&(a.constructor==String?a:a[c]);},findDefined:function(){for(var a=0;a<arguments.length;a++){if(arguments[a]!==undefined){return arguments[a];
}}return undefined;},defaultMessage:function(a,b){return this.findDefined(this.customMessage($(a).attr("id"),b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,$.validator.messages[b],"<strong>Warning: No message defined for "+$(a).attr("id")+"</strong>");},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),a=/\$?\{(\d+)\}/g;
if(typeof d=="function"){d=d.call(this,e.parameters,c);}else{if(a.test(d)){d=jQuery.format(d.replace(a,"{$1}"),e.parameters);}}this.errorList.push({message:d,element:c});var b=$(c).attr("id")||$(c).attr("aeid");this.errorMap[b]=d;this.submitted[b]=d;},checkable:function(a){return/radio|checkbox/i.test(a.type);
},getLength:function(b,a){switch(a.nodeName.toLowerCase()){case"select":return $("option:selected",a).length;case"input":if(this.checkable(a)){return this.findByName(a.name).filter(":checked").length;}}return b.length;},depend:function(b,a){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,a):true;
},dependTypes:{"boolean":function(b,a){return b;},"string":function(b,a){return !!$(b,a.form).length;},"function":function(b,a){return b(a);}},optional:function(a){return !$.validator.methods.required.call(this,$.trim(a.value),a)&&"dependency-mismatch";},numberOfInvalids:function(){return this.objectLength(this.invalid);
},objectLength:function(c){var b=0;for(var a in c){b++;}return b;},valid:function(){return this.size()==0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");
var a=$(document.body).find("div.tooltip");a.show().find("div.tooltip-inner").html(this.errorList[0].message);var c=$(this.errorList[0].element).parent(),b=c.offset();a.css({"left":b.left,"top":b.top+c.outerHeight()});}catch(d){}}},findLastActive:function(){var a=this.lastActive;return a&&$.grep(this.errorList,function(b){return b.element.name==a.name;
}).length==1&&a;}},normalizeRule:function(b){if(typeof b=="string"){var a={};$.each(b.split(/\s/),function(){a[this]=true;});b=a;}return b;},normalizeRules:function(b,a){$.each(b,function(e,d){if(d===false){delete b[e];return;}if(d.param||d.depends){var c=true;switch(typeof d.depends){case"string":c=!!$(d.depends,a.form).length;
break;case"function":c=d.depends.call(a,a);break;}if(c){b[e]=d.param!==undefined?d.param:true;}else{delete b[e];}}});$.each(b,function(c,d){b[c]=$.isFunction(d)?d(a):d;});$.each(["minlength","maxlength","min","max"],function(){if(b[this]){b[this]=Number(b[this]);}});$.each(["rangelength","range"],function(){if(b[this]){b[this]=[Number(b[this][0]),Number(b[this][1])];
}});if($.validator.autoCreateRanges){if(b.min&&b.max){b.range=[b.min,b.max];delete b.min;delete b.max;}if(b.minlength&&b.maxlength){b.rangelength=[b.minlength,b.maxlength];delete b.minlength;delete b.maxlength;}}if(b.messages){delete b.messages;}return b;},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:$.extend(this.classRuleSettings,a);
},metadataRules:function(a){if(!$.metadata){return{};}return $(a).metadata({type:"attr",name:"rules"});},addMethod:function(a,c,b){$.validator.methods[a]=c;$.validator.messages[a]=b!=undefined?b:$.validator.messages[a];if(c.length<3){$.validator.addClassRules(a,$.validator.normalizeRule(a));}},methods:{required:function(b,a,d){if(!this.depend(d,a)){return"dependency-mismatch";
}switch(a.nodeName){case"SELECT":var c=$(a).val();return c&&c.length>0;case"INPUT":if(this.checkable(a)){return this.getLength(b,a)>0;}default:return $.trim(b).length>0;}},remote:function(e,b,f){if(this.optional(b)){return"dependency-mismatch";}var c=this.previousValue(b);if(!this.settings.messages[b.name]){this.settings.messages[b.name]={};
}c.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=c.message;f=typeof f=="string"&&{url:f}||f;if(this.pending[b.name]){return"pending";}if(c.old===e){return c.valid;}c.old=e;var a=this;this.startRequest(b);var d={};d[b.name]=e;$.ajax($.extend(true,{url:f,mode:"abort",port:"validate"+b.name,dataType:"json",data:d,success:function(h){a.settings.messages[b.name].remote=c.originalMessage;
var j=h===true;if(j){var g=a.formSubmitted;a.prepareElement(b);a.formSubmitted=g;a.successList.push(b);a.showErrors();}else{var k={};var i=h||a.defaultMessage(b,"remote");k[b.name]=c.message=$.isFunction(i)?i(e):i;a.showErrors(k);}c.valid=j;a.stopRequest(b,j);}},f));return"pending";},minlength:function(b,a,c){return this.getLength($.trim(b),a)>=c;
},maxlength:function(b,a,c){return this.getLength($.trim(b),a)<=c;},rangelength:function(c,a,d){var b=this.getLength($.trim(c),a);return(b>=d[0]&&b<=d[1]);},min:function(b,a,c){return b>=c;},max:function(b,a,c){return b<=c;},range:function(b,a,c){return(b>=c[0]&&b<=c[1]);},email:function(b,a){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b);
},url:function(b,a){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b);
},date:function(b,a){return !/Invalid|NaN/.test(new Date(Date.parse(b.replace(/-/g,"/"))));},number:function(b,a){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b);},digits:function(b,a){return/^\d+$/.test(b);},accept:function(b,a,c){c=typeof c=="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return b.match(new RegExp(".("+c+")$","i"));
},equalTo:function(b,a,d){var c=$(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(a).valid();});return b==c.val();}}});});(function(a){a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments);}});
}});})(jQuery);