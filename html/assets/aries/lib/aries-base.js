define(function(require,exports,moudles){require("aries-core-ajax");require("aries-core-public");require("aries-core-data");require("aries-core-page");});define("aries-core-public",function(require,exports,moudles){$.aries.common={includeHtml:function(id,url,callback,error,noTenant){if(!id){return;}var $obj;
if(typeof id=="string"){$obj=$("#"+id);}else{if(typeof id=="object"){$obj=id;}else{return;}}if(!$obj.length){return;}function _callback(data,textStatus,jqXHR){if(id&&id!=null&&$obj.length>0){$obj.html(data);$.aries.common.globalInit(id);var code=data.code;if(code&&code==="-1"){if(s.errorback&&$.isFunction(s.errorback)){s.errorback(code,data.info,data.error);
}else{$.message.alert("",data.error);}return;}else{if(s.callback&&$.isFunction(s.callback)){s.callback(data,textStatus,jqXHR);}}}}function _error(xhr,status,ex){var code=xhr?xhr.status:status;var info=ex?ex.message:"HttpStatus:"+code+"\nXMLHttp Request Error";if(s.errorback&&$.isFunction(s.errorback)){s.errorback(code,info,info);
}else{$.message.alert("",info);}}if(url){if(url.indexOf("http")!==0&&$.aries.config&&$.aries.config.common.PAGE_REDIRECT_PREFIX){var tenant=$.getTenant();if($.aries.config.common.IS_USE_TENANT_PREFIX&&tenant&&!noTenant){if(url[0]=="/"){url="/"+tenant+url;}else{url="/"+tenant+"/"+url;}}var pagePrefix=$.aries.config.common.PAGE_REDIRECT_PREFIX;
if(pagePrefix.substring(pagePrefix.length-1,pagePrefix.length)=="/"){if(url[0]=="/"){url=url.substring(1,url.length);}}else{if(url[0]!="/"){url="/"+url;}}url=pagePrefix+url;}var s={cache:true,success:_callback,error:_error,callback:callback,errorback:error};$.ajax(url,s);}},globalInit:function(id,flag){var initFuncArray=[];
var obj=$(document.body);if(id&&typeof id=="string"){obj=$("#"+id);}else{if(id&&typeof id=="object"){obj=id;}}$.aries.common.transferI18nRes(obj);var aeInit=obj.find('[aeInit="true"]');if(aeInit&&aeInit.length){$.each(aeInit,function(index,item){if((flag!=true&&flag!="true")&&$(item).parents().hasClass("ae_tpl")){return;
}var initFunction=$(item).attr("initFunction");var aeType=$(item).attr("aeType");if(initFunction&&initFunction.length){var i=initFunction.indexOf("(");funcName=i>0?initFunction.substring(0,i):initFunction;if(funcName=="$"||funcName.indexOf(".")>0){$(item).attr("aeInit","false");initFuncArray.push(initFunction);
}else{var func="return window."+funcName+"?"+funcName+".call(window):false";func=new Function(func)();if(func==false){$(item).attr("aeInit","false");initFuncArray.push(initFunction);}}}else{if(aeType&&aeType.length){$(item).attr("aeInit","false");$(item)[aeType]();}}});if(initFuncArray.length){eval(initFuncArray.join(";"));
}}if($.aries.config.common.IS_DEVELOPE_MODE){}if($.aries.config.common.IS_USE_TENANT_PREFIX){$.setTenant();}},loadTpl:function(obj,temp,data){if(obj&&temp&&data){var template=Handlebars.compile(temp.html());$(obj).html(template(data));}},getDataByDatafield:function(data,datafield){var obj=data;if(obj&&datafield&&$.isString(datafield)){var idAry=datafield.split(".");
if(idAry&&idAry.length){var len=idAry.length;var reg=/\[.*\]/;var lastIdx=0;var attr;var prexAry;for(var i=0;i<len;i++){attr=idAry[i]+"";lastIdx=attr.search(reg);if(lastIdx>-1){prexAry=attr.substring(0,lastIdx);obj=obj[prexAry];if(typeof(obj)=="undefined"||obj==null){obj=null;break;}if((attr.length-1)>lastIdx+1){prexAry=attr.substring(lastIdx+1,(attr.length-1));
obj=obj[prexAry];}else{obj=null;}}else{obj=obj[attr];}if(typeof(obj)=="undefined"||obj==null){obj=null;break;}}}}return obj;},buildUiidData:function(obj,datafield,value){if(obj&&datafield&&$.isString(datafield)){var idAry=datafield.split(".");if(idAry&&idAry.length){var attrstr="";var attrAry=[];var reg=/\[.*\]/;
var lastIdx=0;var prexAry;var attr;var len=idAry.length;var tempAttrStr;for(var i=0;i<len;i++){attr=idAry[i]+"";lastIdx=attr.search(reg);if(lastIdx>-1){prexAry=attr.substring(0,lastIdx);tempAttrStr=attrstr+'["'+prexAry+'"]';attrAry.push("o"+tempAttrStr+" || (o"+tempAttrStr+"=[]);");prexAry=attr.substring(lastIdx);
tempAttrStr+=prexAry;attrstr=tempAttrStr;if(i!=(len-1)){attrAry.push("o"+tempAttrStr+" || (o"+tempAttrStr+"={});");}}else{attrstr+='["'+attr+'"]';if(i!=(len-1)){attrAry.push("o"+attrstr+" || (o"+attrstr+"={});");}}}attrAry.push("o"+attrstr+"=v;");attrAry.push("return o;");obj=new Function("o","v",attrAry.join(""))(obj,value);
}}return obj;},getAjaxUrl:function(svcode){if(svcode){return $.aries.config.core.AJAX_URL_SERVICE_CODE_PREFIX+svcode;}return svcode;},disabledButton:function(btnId,disabled){var btnObj=$("#"+btnId),btnClass;if(disabled==true){btnObj.attr("disabled","disabled");btnClass=btnObj.attr("class");if(!btnClass||(btnClass&&btnClass.indexOf("e_dis")==-1)){btnObj.attr("discss",btnObj.attr("class"));
btnObj.addClass("e_dis");}}else{btnClass=btnObj.attr("class");btnObj.removeAttr("disabled");if(btnClass&&btnClass.indexOf("e_dis")!=-1){btnObj.attr("class",btnObj.attr("discss"));btnObj.removeAttr("discss");}}},reloadUiidData:function(data,id){if(data){var obj;id?obj=$("#"+id).find("[uiid]"):obj=$(document).find("[uiid]");
obj.each(function(index,item){var type=$(item).attr("aeType");switch(type){case"aeForm":$(item).aeForm("reload",data);break;case"aeGrid":$(item).aeGrid("reload",data);break;case"aeTpl":$(item).aeTpl("reload",data);break;default:break;}});}},getUiidData:function(id){if(id){var $obj;if(typeof id=="string"){$obj=$("#"+id);
}else{if(typeof id=="object"){$obj=id;}else{return;}}if(!$obj.length){return;}var partData={},returnData={},dataArray=[],tempObj={};var obj=$obj.find("[uiid]");var bodyDataField=$obj.attr("dataField");obj.each(function(index,item){var type=$(item).attr("aeType");switch(type){case"aeForm":partData=$(item).aeForm("getData");
dataArray.push(partData);break;case"aeGrid":partData=$(item).aeGrid("getData");dataArray.push(partData);break;case"aeTpl":partData=$(item).aeTpl("getData");dataArray.push(partData);break;default:break;}});if(dataArray&&dataArray.length){for(var i=0;i<dataArray.length;i++){for(key in dataArray[i]){if(key){tempObj[key]=dataArray[i][key];
break;}}}}if(bodyDataField){returnData=$.aries.common.buildUiidData(returnData,bodyDataField,tempObj);}return returnData;}},i18n:function(code){var value="";if(window.ariesI18nRes&&code){value=window.ariesI18nRes[code];}return value;},evalI18nString:function(input){var rtn=input;if(input&&$.isString(input)&&input.indexOf("$.i18n")==0){rtn=eval(input);
}return rtn;},transferI18nRes:function(selector){var i18nSpan;if(selector&&selector.length){i18nSpan=$("span.i18n",selector);}else{i18nSpan=$("span.i18n");}var text;i18nSpan.each(function(idx,item){item=$(item);text=item.text();if(text){item.text($.aries.common.i18n(text+""));}});},setTenant:function(tenant,isTenantPrefix){if(typeof(tenant)=="undefined"||tenant==null){var pathName=window.document.location.pathname;
tenant=pathName.substring(1,pathName.substr(1).indexOf("/")+1);}$.cookie($.aries.config.sec.SEC_AUTH_TENANT_KEY,tenant);if(isTenantPrefix){$.aries.config.common.IS_USE_TENANT_PREFIX=true;}},getTenant:function(){return $.cookie($.aries.config.sec.SEC_AUTH_TENANT_KEY);},divide:function(value,divisor,digits){var tranValue="";
if(value){divisor?divisor:"100";digits?digits:"2";tranValue=(value/divisor).toFixed(digits);}return tranValue;},toString:function(obj){var rtn=obj;if($.isObject(obj)||$.isArray(obj)||($.isNumeric(obj)&&!$.isString(obj))){rtn=$.toJSON(obj);}return rtn;},toObject:function(str){return $.secureEvalJSON(str);
},escapeHTML:function(str){var rtn=str;if(str){rtn=$.isString(str)?str:$.aries.common.toString(str);rtn=rtn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}return rtn;},setSaveDataState:function(input,isNew){var rtn;if(input){if($.isString(input)){try{input=$.parseJSON(input);
if(isNew){input.actionType="1";}else{input.actionType="2";}}catch(e){}if($.isObject(input)){rtn=JSON.stringify(input);}else{rtn=input;}}else{if($.isObject(input)){if(isNew){input.actionType="1";}else{input.actionType="2";}rtn=JSON.stringify(input);}else{if($.isArray(input)){for(var i=0;i<input.length;
i++){if(isNew){input[i].actionType="1";}else{input[i].actionType="2";}}rtn=input;}}}}else{rtn=input;}return rtn;},buildTreeData:function(data,col){if(!data||data.length==0||!col||!$.isObject(col)){return[];}if($.isString(data)){data=$.aries.common.toObject(data);if(!$.isArray(data)){return[];}}var object=$.extend(true,[],data);
var r=[],idField=col.idField,pIdField=col.pIdField,labelField=col.labelField,valueField=col.valueField,rootId=col.rootId,sortField=col.sortField,tmpMap=[],transMap=[],i,j,item;if(!sortField){sortField=idField;}for(i=0;i<object.length;i++){tmpMap[i]=object[i];item=tmpMap[i];item["aeNodeId"]=object[i][idField];
item["aeNodePId"]=object[i][pIdField];item["aeNodeLabel"]=object[i][labelField];item["aeNodeValue"]=object[i][valueField];item["aeNodeLevel"]=1;transMap[item["aeNodeId"]]=item;}for(i=0;i<tmpMap.length;i++){item=tmpMap[i];if(transMap[item["aeNodePId"]]){item["aeNodeLevel"]=transMap[item["aeNodePId"]]["aeNodeLevel"]+1;
if(item["aeChildren"]&&item["aeChildren"].length){item=$.aries.common._iterateTreeNodeLevel(item);}var pid=item["aeNodePId"];if(!transMap[pid]["aeChildren"]){transMap[pid]["aeChildren"]=[];}transMap[pid]["aeChildren"].push(item);transMap[pid]["aeChildren"].sort(function(a,b){return a[sortField]>b[sortField]?1:-1;
});}else{r.push(item);r.sort(function(a,b){return a[sortField]>b[sortField]?1:-1;});}}return r;},stopPropagation:function(arguments){var event=window.event||arguments.callee.caller.arguments[0];event.stopPropagation();},filterStringInArray:function(searchText,data,filterColumns,isMatched){if(!data||!$.isArray(data)||!searchText||!$.isString(searchText)){return data;
}var s=searchText&&searchText.toLowerCase();data=s?$.grep(data,function(item,i){if(filterColumns&&$.isArray(filterColumns)&&filterColumns.length){for(var i=0;i<filterColumns.length;i++){var key=filterColumns[i];if(item.hasOwnProperty(key)){var value=item[key];if(typeof value==="string"||typeof value==="number"){if(isMatched){if((value+"")==searchText){return true;
}}else{if((value+"").toLowerCase().indexOf(s)!==-1){return true;}}}}}}else{for(var key in item){var value=item[key];if(typeof value==="string"||typeof value==="number"){if(isMatched){if((value+"")==searchText){return true;}}else{if((value+"").toLowerCase().indexOf(s)!==-1){return true;}}}}}return false;
}):data;return data;},getIrguide:function(){var id=$.getPublicData("irGuide");return id?$("#"+id):undefined;},getGuide:function(){var id=$.getPublicData("aeGuide");return id?$("#"+id):undefined;},getDataFromUnits:function(id){var $ele;if(typeof id=="string"){$ele=$("#"+id);}else{if(typeof id=="object"){$ele=id;
}else{return;}}if(!$ele.length){return;}var result={};var keyValueObj=$ele.find("[datafield]");if(keyValueObj&&keyValueObj.length){$.each(keyValueObj,function(index,item){var dataField=$(item).attr("datafield"),value="";if(typeof($(item).attr("value"))!="undefined"){value=$(item).attr("value");}else{if($(item).text()){value=$(item).text();
}}result=$.aries.common.buildUiidData(result,dataField,value);});}return result;},downloadFile:function(s){if(!s){return;}var form=this._createDownloadForm(s);$(form).submit();setTimeout(function(){try{$(form).remove();}catch(e){}},100);},_createDownloadForm:function(s){if(!s.server){return;}var formId="aeDownloadFileForm"+new Date().getTime();
var form=$('<form  action="'+s.server+'" method="POST" name="'+formId+'" id="'+formId+'"></form>');var buf=[],obj=[],params="";if(s.formData){$.each(s.formData,function(k,v){if($.isObject(v)){obj.push('"'+k+'":'+$.toString(v)+"");}else{obj.push('"'+k+'":"'+v+'"');}});}buf.push("{");buf.push(obj.join(","));
buf.push("}");var token=$.cookie($.aries.config.sec.SEC_AUTH_TOKEN_KEY);token=(token===undefined?"":token);var tenant=$.cookie($.aries.config.sec.SEC_AUTH_TENANT_KEY);tenant=(tenant===undefined?"":tenant);var roleType=$.cookie($.aries.config.sec.SEC_AUTH_ROLETYPE_KEY);roleType=(roleType===undefined?"":roleType);
var zone=$.cookie($.aries.config.sec.SEC_AUTH_ZONE_KEY);zone=(zone===undefined?"":zone);params=buf.join("");$("<input type='hidden' name='WEB_HUB_PARAMS' value='"+params+"' />"+"<input type='hidden' name='file' value='download' />"+"<input type='hidden' name='token' value='"+token+"' />"+"<input type='hidden' name='tenant' value='"+tenant+"' />"+"<input type='hidden' name='roleType' value='"+roleType+"' />"+"<input type='hidden' name='zone' value='"+zone+"' />").appendTo(form);
$(form).appendTo("body");return form;},_iterateTreeNodeLevel:function(node){if(!node||!node.aeChildren||node.aeChildren.length==0){return node;}var item;for(var i=0;i<node.aeChildren.length;i++){item=node.aeChildren[i];item.aeNodeLevel=node.aeNodeLevel+1;if(item.aeChildren&&item.aeChildren.length){item=$.aries.common._iterateTreeNodeLevel(item);
}}return node;},_replaceEscape:function(string){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'"'};if(string.match(escapeable)){return string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c;}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);});}return string;},_encode:function(str){var rtn="";if(str&&$.isString(str)){if(str.startWith("[")&&str.endWith("]")){rtn="[";if(str.length>2){rtn+=encodeURIComponent(str.substring(1,str.length-1));}rtn+="]";}else{rtn=encodeURIComponent(str);
}}else{rtn=str;}return rtn;},_globalErrorDetection:function(){var idDoms=$("[id]");if(idDoms.length){var ids=[];for(var i=0;i<idDoms.length;i++){ids.push(idDoms[i].id);}var idsort=ids.sort();for(var j=0;j<ids.length;j++){if(idsort[j]==idsort[j+1]){$.message.error("代码级异常","存在id重复的Dom对象，请检查！id为： "+idsort[j]);
return;}}}},aelog:function(content,level,useConsole){var type=$.aries.config?$.aries.config.common.GLOBAL_LOG_SHOW_TYPE:undefined;if(!type){type="console";}if(type==="console"){if(level=="error"){console.error(content);}else{console.log(content);}}else{if(type==="msg"){if(level=="error"){if(useConsole){console.error(content);
}else{$.message.error("",content);}}else{if(useConsole){console.log(content);}else{$.message.alert("",content);}}}}}};$.extend($.aries.common);String.prototype.append=function(str1){if(arguments.length==0){return this;}return this+$.toString(str1);};String.prototype.appendParam=function(str1,str2){if(arguments.length==2){var rtn=this;
if(this!=""){rtn+="&";}if($.aries.config.common.IS_AJAX_URL_ENCODE){rtn+=$._encode($._replaceEscape($.toString(str1)))+"="+$._encode($._replaceEscape($.toString(str2)));}else{rtn+=$._replaceEscape($.toString(str1))+"="+$._replaceEscape($.toString(str2));}return rtn;}return this;};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt){var len=this.length>>>0;
var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in this&&this[from]===elt){return from;}}return -1;};}});define("aries-core-ajax",function(require,exports,moudles){$.aries.ajax={doAjax:function(b){var a=$.extend(true,{},b);$.ajax(a);},ajaxSettings:{type:"GET",async:true,cache:false,dataType:"json",loading:true,timeout:30*60*1000,encoding:"UTF-8"},request:function(b,x,c,n,u,p){if(x&&$.isFunction(x)){n=c;c=x;
x=null;}if(b&&b.indexOf("http")!==0){if($.aries.config&&b.indexOf("file://")!=0){if(b.endWith(".json")){var a=$.aries.config.common.AJAX_URL_JSON_PREFIX;if(a){if(a.substring(a.length-1,a.length)=="/"){if(b[0]=="/"){b=b.substring(1,b.length);}}else{if(b[0]!="/"){b="/"+b;}}b=a+b;}}else{var h=$.aries.config.common.AJAX_URL_SV_PREFIX;
if(h){if(h.substring(h.length-1,h.length)=="/"){if(b[0]=="/"){b=b.substring(1,b.length);}}else{if(b[0]!="/"){b="/"+b;}}b=h+b;}}}}var w=[],j=[];if(x){var d=x.split("&");if($.isArray(d)){if(d.length){for(var q=0,t=d.length;q<t;q++){if(d[q]){var o=d[q].split("=");if(o[1]!=undefined){if(o[1].indexOf("{")!=-1||o[1].indexOf("[")!=-1){j.push('"'+$.trim(o[0])+'":'+o[1]+"");
}else{j.push('"'+$.trim(o[0])+'":"'+o[1]+'"');}}}}}}}w.push("{");w.push(j.join(","));w.push("}");var f=$.cookie($.aries.config.sec.SEC_AUTH_TOKEN_KEY);f=(f===undefined?"":f);var m=$.cookie($.aries.config.sec.SEC_AUTH_TENANT_KEY);m=(m===undefined?"21":m);var r=$.cookie($.aries.config.sec.SEC_AUTH_ROLETYPE_KEY);
r=(r===undefined?"":r);var v=$.cookie($.aries.config.sec.SEC_AUTH_ZONE_KEY);v=(v===undefined?"":v);if($.aries.config.common.IS_DEVELOPE_MODE&&m===""&&$.aries.config.common.IS_SIMULATE_TENANT&&$.aries.config.common.SIMULATE_TENANT_ID!==""){m=$.aries.config.common.SIMULATE_TENANT_ID;}w.push("&token=");
w.push(f);w.push("&tenant=");w.push(m);w.push("&roleType=");w.push(r);w.push("&zone=");w.push(v);if(p){if(p[0]!="&"){p="&"+p;}w.push(p);}x=w.join("");if($.aries.config.common.IS_AJAX_URL_ENCODE==false){x="WEB_HUB_PARAMS="+x;}else{x="WEB_HUB_PARAMS="+x;}jQuery.support.cors=true;var l=$.extend({url:b,data:x,type:"GET",success:g,error:e,callback:c,errorback:n},$.aries.ajax.ajaxSettings,u);
$.aries.ajax.doAjax(l);function g(k,i,s){$.aries.ajax.callback_handler(k,i,s,l);}function e(s,i,k){$.aries.ajax.error_handler(s,i,k,l);}},callback_handler:function(c,a,d,b){if(b.callback&&$.isFunction(b.callback)){if(c){if(typeof c.hub_code!="undefined"){if(c.hub_code==="0"||c.hub_code==0){$.aries.ajax._dealAuthLoginError(c.hub_value,c);
if(b.errorback&&$.isFunction(b.errorback)){b.errorback(c.hub_code+"",c);}}if(c.hub_code==="1"||c.hub_code==1){b.callback(c.data,a,d);}}else{b.callback(c,a,d);}}else{b.callback(c,a,d);}}},error_handler:function(e,a,b,c){var d=e?e.status:a;var f=b?(b.message?b.message:b):"HttpStatus:"+d+"\nXMLHttp Request Error";
if(c.errorback&&$.isFunction(c.errorback)){c.errorback(d,f);}},get:function(b,f,g,a,c,d,e){$.aries.ajax.request(b,f,g,a,c,d,e);},post:function(b,f,g,a,c,d,e){$.aries.ajax.request(b,f,g,a,$.extend({type:"POST",encoding:"UTF-8"},c),d,e);},_dealAuthLoginError:function(d,b){if(!d||!$.isArray(d)||!d.length){return;
}var c;for(var a=0;a<d.length;a++){c=d[a];if(c&&c.code){switch(c.code){case $.aries.config.sec.AUTH_LOGIN_FAILURE_ERROR:$.aries.fn.auth.login_error(c.code,c.value);break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_TIMEOUT:$.aries.fn.auth.login_timeout(c.code,c.value);break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_TOO_LONG:$.aries.fn.auth.login_too_long(c.code,c.value);
break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_ONLY_ONCE:$.aries.fn.auth.login_only_once(c.code,c.value);break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_OVERLOAD:$.aries.fn.auth.login_overload(c.code,c.value);break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_PWD_TOO_OLD:$.aries.fn.auth.login_pwd_too_old(c.code,c.value);
break;case $.aries.config.sec.AUTH_LOGIN_FAILURE_PWD_HAS_SENSITIVE:$.aries.fn.auth.login_pwd_has_sensitive(c.code,c.value);break;case $.aries.config.sec.AUTH_LOGIN_FIRST_CHANGE_PWD:$.aries.fn.auth.login_first_change_pwd(c.code,c.value,b);break;default:break;}}}}};$.ajaxGet=$.aries.ajax.get;$.ajaxPost=$.aries.ajax.post;
});define("aries-core-data",function(require,exports,moudles){var a=function(b){return b.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");};$.Collection=function(c,b){this.items=[];this.map={};this.keys=[];this.length=0;this.allowFunctions=c===true;if(b){this.getKey=b;}};$.Collection.prototype={allowFunctions:false,add:function(c,d){if(arguments.length==1){d=arguments[0];
c=this.getKey(d);}if(typeof c!="undefined"&&c!==null){var b=this.map[c];if(typeof b!="undefined"){return this.replace(c,d);}this.map[c]=d;}this.length++;this.items.push(d);this.keys.push(c);return d;},getKey:function(b){return b.id;},replace:function(d,e){if(arguments.length==1){e=arguments[0];d=this.getKey(e);
}var b=this.map[d];if(typeof d=="undefined"||d===null||typeof b=="undefined"){return this.add(d,e);}var c=this.indexOfKey(d);this.items[c]=e;this.map[d]=e;return e;},addAll:function(f){if(arguments.length>1||$.isArray(f)){var c=arguments.length>1?arguments:f;for(var e=0,b=c.length;e<b;e++){this.add(c[e]);
}}else{for(var d in f){if(this.allowFunctions||typeof f[d]!="function"){this.add(d,f[d]);}}}},each:function(f,e){var c=[].concat(this.items);for(var d=0,b=c.length;d<b;d++){if(f.call(e||c[d],c[d],d,b)===false){break;}}},eachKey:function(e,d){for(var c=0,b=this.keys.length;c<b;c++){e.call(d||window,this.keys[c],this.items[c],c,b);
}},find:function(e,d){for(var c=0,b=this.items.length;c<b;c++){if(e.call(d||window,this.items[c],this.keys[c])){return this.items[c];}}return null;},insert:function(b,c,d){if(arguments.length==2){d=arguments[1];c=this.getKey(d);}if(this.containsKey(c)){this.suspendEvents();this.removeKey(c);this.resumeEvents();
}if(b>=this.length){return this.add(c,d);}this.length++;this.items.splice(b,0,d);if(typeof c!="undefined"&&c!==null){this.map[c]=d;}this.keys.splice(b,0,c);return d;},remove:function(b){return this.removeAt(this.indexOf(b));},removeAt:function(b){if(b<this.length&&b>=0){this.length--;var d=this.items[b];
this.items.splice(b,1);var c=this.keys[b];if(typeof c!="undefined"){delete this.map[c];}this.keys.splice(b,1);return d;}return false;},removeKey:function(b){return this.removeAt(this.indexOfKey(b));},getCount:function(){return this.length;},indexOf:function(b){return $.inArray(b,this.items);},indexOfKey:function(b){return $.inArray(b,this.keys);
},item:function(c){var b=this.map[c],d=b!==undefined?b:(typeof c=="number")?this.items[c]:undefined;return typeof d!="function"||this.allowFunctions?d:null;},itemAt:function(b){return this.items[b];},key:function(b){return this.map[b];},contains:function(b){return this.indexOf(b)!=-1;},containsKey:function(b){return typeof this.map[b]!="undefined";
},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};},first:function(){return this.items[0];},last:function(){return this.items[this.length-1];},_sort:function(k,b,j){var e,f,d=String(b).toUpperCase()=="DESC"?-1:1,h=[],l=this.keys,g=this.items;j=j||function(i,c){return i-c;};for(e=0,f=g.length;
e<f;e++){h[h.length]={key:l[e],value:g[e],index:e};}h.sort(function(i,c){var m=j(i[k],c[k])*d;if(m===0){m=(i.index<c.index?-1:1);}return m;});for(e=0,f=h.length;e<f;e++){g[e]=h[e].value;l[e]=h[e].key;}},sort:function(b,c){this._sort("value",b,c);},reorder:function(e){this.suspendEvents();var c=this.items,d=0,g=c.length,b=[],f=[];
for(oldIndex in e){b[e[oldIndex]]=c[oldIndex];}for(d=0;d<g;d++){if(e[d]==undefined){f.push(c[d]);}}for(d=0;d<g;d++){if(b[d]==undefined){b[d]=f.shift();}}this.clear();this.addAll(b);this.resumeEvents();},keySort:function(b,c){this._sort("key",b,c||function(e,d){var g=String(e).toUpperCase(),f=String(d).toUpperCase();
return g>f?1:(g<f?-1:0);});},getRange:function(f,b){var c=this.items;if(c.length<1){return[];}f=f||0;b=Math.min(typeof b=="undefined"?this.length-1:b,this.length-1);var d,e=[];if(f<=b){for(d=f;d<=b;d++){e[e.length]=c[d];}}else{for(d=f;d>=b;d--){e[e.length]=c[d];}}return e;},filter:function(d,c,e,b){if(!c){return this.clone();
}c=this.createValueMatcher(c,e,b);return this.filterBy(function(f){return f&&c.test(f[d]);});},filterBy:function(g,f){var h=new $.Collection();h.getKey=this.getKey;var c=this.keys,e=this.items;for(var d=0,b=e.length;d<b;d++){if(g.call(f||this,e[d],c[d])){h.add(c[d],e[d]);}}return h;},findIndex:function(d,c,f,e,b){if(!c){return -1;
}c=this.createValueMatcher(c,e,b);return this.findIndexBy(function(g){return g&&c.test(g[d]);},null,f);},findIndexBy:function(g,f,h){var c=this.keys,e=this.items;for(var d=(h||0),b=e.length;d<b;d++){if(g.call(f||this,e[d],c[d])){return d;}}return -1;},createValueMatcher:function(d,e,b,c){if(!d.exec){d=String(d);
if(e===true){d=a(d);}else{d="^"+a(d);if(c===true){d+="$";}}d=new RegExp(d,b?"":"i");}return d;},clone:function(){var f=new $.Collection();var c=this.keys,e=this.items;for(var d=0,b=e.length;d<b;d++){f.add(c[d],e[d]);}f.getKey=this.getKey;return f;}};$.DataMap=function(b){if(!this.parseString){return new $.DataMap(b);
}$.Collection.call(this);if(b){if($.isString(b)){this.parseString(b);}else{if(typeof(b)=="object"){this.parseObject(b);}}}};$.DataMap.prototype=new $.Collection();$.extend($.DataMap.prototype,{get:function(c,b){var d=this.item(c);if(arguments.length>1&&(typeof(d)=="undefined"||d==null)){return arguments[1];
}return d;},parseString:function(b){b=$.parseJSON(b);},parseObject:function(c){for(var b in c){if(c[b]&&$.isArray(c[b])){this.add(b,new $.DatasetList(c[b]));}else{if(c[b]&&$.isObject(c[b])){this.add(b,new $.DataMap(c[b]));}else{this.add(b,(c[b]==undefined||c[b]==null)?"":c[b]);}}}}});$.DataMap.prototype.toString=function(){var b=[],d="";
for(var c in this.map){d='"'+c+'":';if(typeof(this.map[c])=="undefined"||this.map[c]==null){d+='""';}else{if(typeof(this.map[c])=="string"||!isNaN(this.map[c])){d+='"'+this.map[c]+'"';}else{d+=this.map[c].toString();}}b.push(d);}return"{"+b.join(",")+"}";};$.DataMap.prototype.put=$.DataMap.prototype.add;
$.DatasetList=function(b){if(!this.parseString){return new $.DatasetList(b);}this.items=[];this.length=0;if(typeof(b)=="string"&&b!=""){this.parseString(b);}if(typeof(b)=="object"&&(b instanceof Array)&&b.length){this.parseArray(b);}};$.extend($.DatasetList.prototype,{add:function(b){this.length=(this.length+1);
this.items.push(b);},item:function(c,d,b){if(c<this.length&&c>=0){var e=this.items[c];if((typeof(e)!="undefined")&&(e instanceof $.DataMap)&&arguments.length>1&&typeof(arguments[1])=="string"&&arguments[1]!=""){return e.get(d,b);}return e;}return;},each:function(f,e){var c=[].concat(this.items);for(var d=0,b=c.length;
d<b;d=d+1){if(f.call(e||c[d],c[d],d,b)===false){break;}}},remove:function(b){return this.removeAt(this.indexOf(b));},removeAt:function(b){if(b<this.length&&b>=0){this.length=(this.length-1);this.items.splice(b,1);}},indexOf:function(d){if(!this.items.indexOf){for(var c=0,b=this.items.length;c<b;c=c+1){if(this.items[c]==d){return c;
}}return -1;}else{return this.items.indexOf(d);}},getCount:function(){return this.length;},parseString:function(b){b=parseJson(b);(new Function("this.parseArray("+b+")")).apply(this);},parseArray:function(c){for(var b=0;b<c.length;b++){if(c[b]&&$.isArray(c[b])){this.add(new $.DatasetList(c[b]));}else{if(c[b]&&$.isObject(c[b])){this.add(new $.DataMap(c[b]));
}else{if(c[b]!=undefined&&c[b]!=null){this.add(c[b]);}}}}},clear:function(){this.items=[];this.length=0;}});$.DatasetList.prototype.toString=function(){var b=[],d="";for(var c=0;c<this.items.length;c++){d="";if(typeof(this.items[c])=="undefined"||this.items[c]==null){d+='""';}else{if(typeof(this.items[c])=="string"){d='"'+this.items[c]+'"';
}else{d=this.items[c].toString();}}b.push(d);}return"["+b.join(",")+"]";};$.DatasetList.prototype.get=$.DatasetList.prototype.item;$.DatasetList.prototype.put=$.DatasetList.prototype.add;});define("aries-core-page",function(require,exports,moudles){if(typeof($.aries.page)=="undefined"){$.aries.page={};}$.aries.page.data={publicDataMap:new $.DataMap(),privateDataMap:new $.DataMap(),_hidedDataMap:new $.DataMap(),_privateArray:new Array(),_paramArray:new Array(),setData:function(b,d,c,f){var a=$.aries.page.data.publicDataMap,e={};
if(b){e.data=d;e.type=c||"json";e.io=f||"out";a.put(b,e);}},getData:function(b){if(typeof(b)=="undefined"||b==null||b==""){return"";}var a=$.aries.page.data.publicDataMap,c="";if(a){if(a.containsKey(b)){var f=a.get(b);if(f.type==="dom"){var e=f.data;if(e){var d=$("#"+e).attr("aeType");switch(d){case"aeForm":c=$("#"+e).aeForm("getData");
break;case"aeGrid":c=$("#"+e).aeGrid("getData");break;case"aeTpl":c=$("#"+e).aeTpl("getData");break;default:break;}}}else{c=f.data;}}}return c;},_setHidedData:function(a,b){if(typeof(a)=="undefined"||a==null||a==""){return;}$.aries.page.data._hidedDataMap.put(a,b);},_getHidedData:function(a){if(typeof(a)=="undefined"||a==null||a==""){return undefined;
}return $.aries.page.data._hidedDataMap.get(a);},_removeHidedData:function(a){if(typeof(a)=="undefined"||a==null||a==""){return;}$.aries.page.data._hidedDataMap.removeKey(a);},_clearHidedData:function(){$.aries.page.data._hidedDataMap.clear();}};$.setPublicData=$.aries.page.data.setData;$.getPublicData=$.aries.page.data.getData;
$.extend({removePublicData:function(a){if(typeof(a)=="undefined"||a==null||a==""){return;}$.aries.page.data.publicDataMap.removeKey(a);},clearPublicData:function(){$.aries.page.data.publicDataMap.clear();},setPrivateData:function(a,b){if(typeof(a)=="undefined"||a==null||a==""){return;}$.aries.page.data.privateDataMap.put(a,b);
},getPrivateData:function(a){if(typeof(a)=="undefined"||a==null||a==""){return undefined;}return $.aries.page.data.privateDataMap.get(a);},removePrivateData:function(a){if(typeof(a)=="undefined"||a==null||a==""){return;}$.aries.page.data.privateDataMap.removeKey(a);},clearPrivateData:function(){$.aries.page.data.privateDataMap.clear();
}});});